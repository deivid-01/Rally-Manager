{"version":3,"sources":["reportWebVitals.js","components/AlertDialog.js","components/Alert.js","components/PopUpAlert.js","components/Card.js","components/Cards.js","services/race.services.js","components/Races.js","components/Competitors.js","components/ElevationGraph.js","components/CompetitorResultTable/columns.js","components/CompetitorResultTable/CompetitorResultTable.js","components/WaypointsMissedTable/columns.js","utils/maptools.js","utils/timetools.js","components/WaypointsMissedTable/WaypointsMissedTable.js","services/trackpoints.services.js","utils/prepareData.js","components/IconLocation.js","components/Markers.js","components/DetailedMap.js","components/DetailedSpeedTable/columns.js","components/DetailedSpeedTable/DetailedSpeedTable.js","components/DetailedResults/DetailedResults.js","services/results.services.js","components/ResultsTableByStage/columns.js","components/ResultsTableByStage/ResultsTableByStage.js","components/ResultsByStage.js","components/LinearProgressWithLabel.js","components/UploadWaypoints.js","components/CreateStage.js","services/categories.services.js","components/Race.js","components/Options.js","services/stage.services.js","components/ResultsTable/columns.js","components/ResultsTable/ResultsTable.js","components/Category.js","components/Login.js","components/Signup.js","components/CreateRace.js","components/Map/Map_.js","components/MaterialTable/MaterialTable_.js","services/waypoint.services.js","components/Waypoints/columns.js","components/Waypoints/Waypoints.js","services/partialresults.services.js","components/PartialResultsTable.js","components/AddPartialResults/AddPartialResults.js","components/Stage.js","components/NavBar/NavBar.js","components/BreadCrumbs_.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","AlertDialog","dialogHandler","open","type","handleClose","agree","event","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","bind","this","color","autoFocus","Alert","props","elevation","variant","PopUpAlert","severity","msg","displayProgress","onAlertClose","autoHide","reason","Snackbar","autoHideDuration","LinearProgress","Card","title","next_URL","deleteCardHandler","fetchCardData","useState","openDialog","setOpenDialog","cardDeleted","setCardDeleted","history","useHistory","handleCloseDialog","deleteItem","a","console","log","handleClick","window","localStorage","getItem","data","saveInLocalStorage","loadNextPage","key","toLowerCase","value","JSON","stringify","setItem","push","className","IconButton","Tooltip","style","toUpperCase","Cards","add_URL","length","map","card","aria-label","fontSize","BASE_URL","getRaces","token","config","headers","Authorization","axios","get","res","getRace","race_id","deleteRace","delete","Races","races","setRaces","fetchRaces","race","_id","name","handleDeleteRace","handleFetchRace","useEffect","Competitors","ElevationGraph","elev","labels","datasets","label","backgroundColor","borderColor","height","options","maintainAspectRatio","scales","y","min","max","x","ticks","autoSkip","maxTicksLimit","columns","field","width","cellStyle","textAlign","headerStyle","CompetitorResultTable","competitor_name","competitor_lastname","tableLayout","search","paging","sorting","editable","setMapCenter","first_item","last_item","lat","latitude","lng","longitude","updateMapCenter","point","zoom","flyTo","HHMMSSToHours","str","units","split","total","forEach","unit","i","parseFloat","Math","pow","err","ajustUnitFormat","String","hoursToHHMMSS","hours","HH","floor","num","MM","SS","validateHHMMSSFormat","t","test","parseInt","WaypointsMissedTable","getTotalPenalizationMissedWaypoints","sum","waypoint","penalization","actions","icon","tooltip","rowData","components","Pagination","Grid","container","padding","background","item","sm","align","Typography","Divider","TablePagination","Action","action","size","uploadTrackpoints","partialResult_id","file","formData","FormData","append","post","getTrackpoints","competitor_id","prepareWaypoints","wps","index","location","round","coordinates","radius","rule","ratius","IconLocation","L","iconUrl","shadowUrl","shadowSize","shadowAnchor","iconSize","IconLocation2","IconLocation3","IconFlagFinish","IconFlagStart","Markers","points","Marker","position","Popup","gutterBottom","Circle","center","DetailedMap","mapRef","waypoints","track","Map","ref","TileLayer","url","attribution","Polyline","pathOptions","positions","DetailedSpeedTable","getTotalPenalizationSpeed","DetailedResults","compInfo","useRef","setMap","path","setPath","setElevation","missedWaypoints","setMissedWaypoints","speedPoints","setSpeedPoints","competitorInfo","setCompetitorInfo","fetchTrackpoints","path_","elevation_","trackpoint","waypointsMissed","current","leafletElement","getResults","stage_id","category_id","getResultsByCategory","ResultsTableByStage","resultsLoaded","setResultsLoaded","selectedResult","setSelectedResult","showDetailedInfo","setShowDetailedInfo","setData","fetchResults","stage","category","parse","categorytype","Toolbar","e","onSelectedRowHandler","isLoading","actionsColumnIndex","maxBodyHeight","filtering","exportButton","ResultsByStage","resultsBy","LinearProgressWithLabel","Box","display","alignItems","mr","minWidth","UploadWayPoints","stageInfo","React","highlighted","setHighlighted","filename","setFilename","progress","setProgress","openError","setOpenError","timeNextPage","SetTimeNextPage","timeLeft","SetTimeLeft","interTimeLeft","SetInterTimeLeft","errorMsg","SetErrorMsg","successMsg","SetSuccessMsg","stopNextPage","clearTimeout","clearInterval","deleteWayPoints","uploadWayPoints","onUploadProgress","progressEvent","loaded","setTimeout","reload","replace","setInterval","prevProgress","response","status","updateHighlighted","state","onShowAlert","onChange","target","files","onDragEnter","onDragOver","preventDefault","onDrop","dataTransfer","onDragLeave","Collapse","in","accept","htmlFor","CircularProgress","top","left","bottom","right","justifyContent","CreateStage","setOptions","categories","stageData","setStageData","showStage","setShowStage","text","btnconfig","setStageInfo","indexConfigEnabled","setindexConfigEnabled","fetchingData","raceData","loadOptions","setActiveCategories","setCategoriesID","ids_withkeys","filter","opt","active","op","ids","createStage","placeholder","outline","FormGroup","row","FormControlLabel","control","Checkbox","checked","newOptions","UploadWaypoints","textTransform","getCategory","deleteCategory","Race","setRaceData","setCategories","selectedOption","setSelectedOption","fetchRace","cd","handleDeleteCategory","handleFetchCategory","option","removeItem","updateOptions","ButtonGroup","localeCompare","Options","handleActiveOption","getPartialResultsFromStageByCategory","categorytype_id","partialresults","getStage","deleteStage","ResultsTable","columns2","setColumns2","fixResults","results","fixedData","stagesTime","stageTime","num_stages","stageColumns","newcol","columnStart","slice","columnMedium","columnEnd","concat","setStageTotalColumns","stages","Category","categoryData","setCategoryData","setStages","handleDeleteStage","fetchCategory","handleFetchStage","Login","username","password","loginData","setLoginData","handleInputChange","handlerSubmit","checkCredentials","handlerSignUp","clear","admin","onSubmit","direction","justify","spacing","TextField","autoComplete","Signup","signupData","setSignupData","createUser","CreateRace","competitors","createRace","pathname","updateData","uploadCompetitors","Map_","MaterialTable_","deleteService","createService","updateService","onUpdateData","showTitle","onRowAdd","newData","Promise","resolve","reject","onRowUpdate","oldData","dataUpdate","tableData","onRowDelete","dataDelete","splice","ZoomInIcon","deleteWaypoint","wpt","updateWaypoint","put","prepareWaypoint","createWaypoint","lookup","validate","isValid","helperText","Waypoints","fetchWaypoints","deletePartialResult","updatePartialResult","partialResult","PartialResultsTable","onSetData","gpxUploaded","onSetGPXUpload","onSetItemUpdated","onSetItemDeleted","gpx_uploaded","AddPartialResults","SetFetchingData","uploadGPXSuccess","setUploadGPXSuccess","startUpload","setStartUpload","itemUpdated","setItemUpdated","itemDeleted","setItemDeleted","setGPXUpload","start_time","arrival_time","neutralization","render","fill","editComponent","multiple","onFileUploadHandler","component","translateResults_Add","posResults","result","competitor_fullname","competitor","lastname","competitor_category","fetchPartialResults","Stage","categoryName","setCategoryName","prevIndex","setPrevIndex","NavBar","onChangesTab","page","AppBar","flexGrow","BreadCrumbs_","raceName","setRaceName","stageName","setStageName","listen","Breadcrumbs","marginLeft","Link","href","aria-current","App","exact","to","ReactDOM","document","getElementById"],"mappings":"oMAYeA,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,2KCCC,SAASQ,EAAT,GAAiD,IAA3BC,EAA0B,EAA1BA,cAAcC,EAAY,EAAZA,KAAKC,EAAO,EAAPA,KAIhDC,EAAc,SAACC,EAAMC,GAUzBL,EAPc,GAATI,IAeP,OACI,eAACE,EAAA,EAAD,CACEL,KAAMA,EACNM,QAASJ,EACTK,kBAAgB,qBAChBC,mBAAiB,2BAJnB,UAME,cAACC,EAAA,EAAD,CAAaC,GAAG,qBAAhB,SACG,uCAEH,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAmBF,GAAG,2BAAtB,6BACmBT,EADnB,8BAIF,eAACY,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAQC,QAASb,EAAYc,KAAKC,MAAK,GAAOC,MAAM,YAApD,mBAGA,cAACJ,EAAA,EAAD,CAAQC,QAASb,EAAYc,KAAKC,MAAK,GAAQC,MAAM,UAAUC,WAAS,EAAxE,4B,+BC5COC,MAHjB,SAAeC,GACX,OAAO,cAAC,IAAD,aAAUC,UAAW,EAAGC,QAAQ,UAAaF,KCqCxCG,MAlChB,YAUC,IAROxB,EAQR,EARQA,KACAyB,EAOR,EAPQA,SACAC,EAMR,EANQA,IACAC,EAKR,EALQA,gBACAC,EAIR,EAJQA,aACAC,EAGR,EAHQA,SAKE3B,EAAc,SAACE,EAAO0B,GACT,cAAXA,GAGJF,KAIJ,OACA,cAACG,EAAA,EAAD,CAAU/B,KAAMA,EAChBgC,iBAAmBH,EAAU,IAAK,KAClCvB,QAASJ,EAFT,SAGI,eAAC,EAAD,CAAOI,QAASJ,EAAauB,SAAUA,EAAvC,UACEC,EACCC,GAAoB,cAACM,EAAA,EAAD,CAAgBV,QAAQ,wBCyGxCW,MA/Hf,YAQG,IAPCjC,EAOF,EAPEA,KACAkC,EAMF,EANEA,MACAzB,EAKF,EALEA,GACA0B,EAIF,EAJEA,SACAC,EAGF,EAHEA,kBACAC,EAEF,EAFEA,cAMA,EAAmCC,oBAAS,GAA5C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAqCF,oBAAS,GAA9C,mBAAOG,EAAP,KAAmBC,EAAnB,KACMC,EAAUC,cAKVC,EAAiB,uCAAG,WAAOC,GAAP,SAAAC,EAAA,yDACtBP,GAAc,GAEI,GAAdM,EAHkB,0EAOZV,EAAkB3B,GAPN,OAQlBiC,GAAe,GARG,gDAYlBM,QAAQC,KAAI,GAZM,yDAAH,sDAoBjBC,EAAW,uCAAG,4BAAAH,EAAA,6DAGFI,OAAOC,aAAaC,QAAQ,SAH1B,kBAMKhB,EAAc5B,GANnB,OAMR6C,EANQ,OAQZC,EAAmBD,GAEnBE,IAVY,gDAcZR,QAAQC,IAAR,MAdY,yDAAH,qDAoBXM,EAAqB,SAACD,GAExB,IAAIG,EAAOzD,EAAK0D,cACZC,EAAQC,KAAKC,UAAUP,GAC3BH,OAAOC,aAAaU,QAAUL,EAAKE,IASjCH,EAAe,WAEjBb,EAAQoB,KAAK5B,IAKjB,OACI,sBAAK6B,UAAU,sCAAf,UACG,sBAAKA,UAAU,sBAAf,UAEC,oBAAIA,UAAU,WAAd,SAA0B9B,IAE1B,cAAC+B,EAAA,EAAD,CACInD,QAAWoC,EADf,SAEI,cAACgB,EAAA,EAAD,CAAShC,MAAK,gBAAWlC,GAAzB,SACI,cAAC,IAAD,CAAkBmE,MAAO,CAAClD,MAAM,eAIxC,cAACgD,EAAA,EAAD,CACInD,QA3BY,WAEpB0B,GAAc,IAwBV,SAEI,cAAC0B,EAAA,EAAD,CAAShC,MAAK,iBAAYlC,GAA1B,SACI,cAAC,IAAD,CAAamE,MAAO,CAAClD,MAAM,8BAKpC,cAACpB,EAAD,CACCC,cAAe+C,EAEf9C,KAAMwC,EACNvC,KAAMA,IAEN,cAAC,EAAD,CACAD,KAAM0C,EACNjB,SAAS,UACTC,IAAG,UAAKzB,EAAKoE,cAAV,YACH1C,iBAAiB,EACjBC,aA/FsB,WAC1Be,GAAe,IA+FXd,UAAU,Q,yBCjDPyC,MAjEf,YAMoB,IALhBf,EAKe,EALfA,KACAtD,EAIe,EAJfA,KACAmC,EAGe,EAHfA,SACAmC,EAEe,EAFfA,QACAlC,EACe,EADfA,kBACAC,EAAe,EAAfA,cAGMM,EAAYC,cAWlB,OACI,qBAAKoB,UAAU,YAAf,SAGI,sBAAKA,UAAU,MAAf,UAEYV,EAAKiB,OAAS,GACdjB,EAAKkB,KAAI,SAAAC,GAAI,OACb,qBAAKT,UAAU,WAAf,SACI,cAAC,EAAD,CACAhE,KAAMA,EACNkC,MAAOuC,EAAKvC,MACZzB,GAAKgE,EAAKhE,GACV0B,SAAUA,EACVC,kBAAmBA,EACnBC,cAAgBA,KAPWoC,EAAKhE,OAetB,QAApBT,EAAK0D,eACC,qBAAKM,UAAU,oCAAf,SACA,cAACC,EAAA,EAAD,CACAnD,QA9BF,WAHd6B,EAAQoB,KAAKO,IAkCGI,aAAW,SAASV,UAAU,YAF9B,SAGA,cAAC,IAAD,CAAYW,SAAS,oB,iBCvDvCC,EAAU,kCAEHC,EAAQ,uCAAG,WAAMC,GAAN,iBAAA/B,EAAA,sEAGZgC,EAAS,CACXC,QAAQ,CACPC,cAAc,UAAD,OAAYH,KALZ,SASDI,IAAMC,IAAIP,EAASG,GATlB,cASdK,EATc,yBAUXA,EAAI9B,MAVO,gCAclBN,QAAQC,IAAR,MAdkB,yDAAH,sDAmBRoC,EAAO,uCAAE,WAAMC,GAAN,eAAAvC,EAAA,+EAICmC,IAAMC,IAAN,UAAaP,EAAb,YAAyBU,IAJ1B,cAIXF,EAJW,yBAKTA,EAAI9B,MALK,gCAUlBN,QAAQC,IAAR,MAVkB,yDAAF,sDAePsC,EAAU,uCAAE,WAAMD,GAAN,eAAAvC,EAAA,+EAIFmC,IAAMM,OAAN,UAAgBZ,EAAhB,YAA4BU,IAJ1B,cAIdF,EAJc,yBAKZA,EAAI9B,MALQ,gCAUrBN,QAAQC,IAAR,MAVqB,yDAAF,sDC0DRwC,MA3Ff,SAAerE,GAGX,MAAwBkB,mBAAS,IAAjC,mBAAOoD,EAAP,KAAaC,EAAb,KAOMC,EAAU,uCAAE,WAAOd,GAAP,eAAA/B,EAAA,+EAGQ8B,EAASC,GAHjB,OAGNxB,EAHM,OAIVqC,EAASrC,EAAKkB,KAAI,SAAAqB,GAAI,MAAG,CACrBpF,GAAKoF,EAAKC,IACV5D,MAAM2D,EAAKE,UANL,gDAWV/C,QAAQC,IAAR,MAXU,yDAAF,sDAgBV+C,EAAgB,uCAAE,WAAOvF,GAAP,eAAAsC,EAAA,+EAIVwC,EAAW9E,GAJD,QAKZqE,EAAQ3B,OAAOC,aAAaC,QAAQ,WAGpCuC,EAAYd,GARA,gDAYhB9B,QAAQC,IAAR,MAZgB,yDAAF,sDAiBhBgD,EAAe,uCAAE,WAAOxF,GAAP,eAAAsC,EAAA,+EAGEsC,EAAQ5E,GAHV,cAGX6C,EAHW,yBAIRA,GAJQ,gCAQfN,QAAQC,IAAR,MARe,yDAAF,sDA2BrB,OAVAiD,qBAAU,WAEN,IAAIpB,EAAQ3B,OAAOC,aAAaC,QAAQ,SACxCuC,EAAYd,KAId,IAIE,gCACI,uBACA,gCAAK,oBAAId,UAAU,cAAd,mBAAL,OAEA,uBACA,cAAC,EAAD,CACIV,KAAQoC,EACR1F,KAzED,OA0ECmC,SAzEK,QA0ELmC,QAzEI,cA0EJjC,cAAiB4D,EACjB7D,kBAAmB4D,Q,iBCrEpBG,I,0BC0BAC,MAxCf,YACC,IADwBC,EACzB,EADyBA,KAGftB,EAAU,CACZuB,OAAOD,EACRE,SAAU,CACT,CACEC,MAAO,YACPlD,KAAM+C,EACNI,gBAAiB,oBACjBC,YAAa,6BAKnB,OACI,qBAAK1C,UAAU,sBAAf,SACA,cAAC,IAAD,CAAMV,KAAMyB,EAAQ4B,OAAQ,IACxBC,QAAS,CACPC,qBAAoB,EACpBC,OAAQ,CACNC,EAAG,CACCC,IAAK,MACLC,IAAK,MAETC,EAAE,CACAC,MAAO,CACLC,UAAU,EACRC,cAAe,WC/BxBC,EAAS,CAClB,CACIpF,MAAM,WACNqF,MAAM,WACNvH,KAAK,UACLwH,MAAO,MACPC,UAAU,CACNhB,gBAAiB,OACjBxF,MAAO,OACPyG,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,OACjBxF,MAAM,OACNyG,UAAU,WAIlB,CACIxF,MAAM,WACNqF,MAAM,sBACNC,MAAO,MACPC,UAAU,CACNC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTD,UAAU,WAKlB,CACIxF,MAAM,aACNqF,MAAM,aACNC,MAAO,MACPC,UAAU,CACNhB,gBAAiB,UACjBiB,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UACjBiB,UAAU,SACV/C,SAAS,MAIjB,CACIzC,MAAM,gBACNqF,MAAM,eACNC,MAAO,MACPC,UAAU,CACNhB,gBAAiB,UACjBiB,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UACjBiB,UAAU,SACV/C,SAAS,MAIjB,CACIzC,MAAM,mBACNqF,MAAM,eACNC,MAAO,MACPC,UAAU,CACNhB,gBAAiB,UACjBiB,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UACjBiB,UAAU,SACV/C,SAAS,MAIjB,CACIzC,MAAM,iBACNqF,MAAM,iBACNC,MAAO,MACPC,UAAU,CACNC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTD,UAAU,SACV/C,SAAS,MAIjB,CACIzC,MAAM,eACNqF,MAAM,eACNC,MAAO,MACPC,UAAU,CACNC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTD,UAAU,SACV/C,SAAS,MAIjB,CACIzC,MAAM,QACNqF,MAAM,QACNC,MAAO,MACPC,UAAU,CACNhB,gBAAiB,OACjBxF,MAAO,OACPyG,UAAU,UAEdC,YAAa,CACTlB,gBAAiB,OACjBxF,MAAM,OACNyG,UAAU,YC/FPE,MAvBf,YACC,IAD+BtE,EAChC,EADgCA,KAO5B,OACI,cAAC,IAAD,CACAgE,QAAWA,EACXhE,KAAQA,EACRpB,MAAWoB,EAAKiB,OAAO,EAPhBjB,EAAK,GAAGuE,gBAAgB,IAAIvE,EAAK,GAAGwE,oBAOA,kBAC3ClB,QAAW,CAEPmB,YAAY,QACZC,QAAO,EACPC,QAAO,EACPC,SAAQ,MCpBPZ,EAAU,CACnB,CACIpF,MAAM,KACNqF,MAAM,QACNY,SAAS,QACTX,MAAO,MACPC,UAAU,CAENC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTD,UAAU,WAIlB,CACIxF,MAAM,WACNqF,MAAM,WACNC,MAAO,MACPC,UAAU,CAENC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTD,UAAU,WAIlB,CACIxF,MAAM,YACNqF,MAAM,YACNC,MAAO,MACPC,UAAU,CAENC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTD,UAAU,WAIlB,CACIxF,MAAM,aACNqF,MAAM,SACNC,MAAO,MACPC,UAAU,CAENC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTD,UAAU,WAIlB,CACIxF,MAAM,oBACNqF,MAAM,eACNC,MAAO,MACPC,UAAU,CACNhB,gBAAiB,OACjBxF,MAAO,OACPyG,UAAU,UAEdC,YAAa,CACTlB,gBAAiB,OACjBxF,MAAM,OACNyG,UAAU,Y,uCCtETU,GAAe,SAACC,EAAWC,GAEpC,MAAO,CACHC,KAAKF,EAAWG,SAASF,EAAUE,UAAU,EAC7CC,KAAKJ,EAAWK,UAAUJ,EAAUI,WAAW,IAI1CC,GAAkB,SAACnE,EAAIoE,GAAL,IAAWC,EAAX,uDAAgB,GAAhB,OAAwBrE,EAAIsE,MAAM,CAACF,EAAMJ,SAASI,EAAMF,WAAYG,ICRrFE,GAAgB,SAACC,GAI3B,IAEE,IAAIC,EAAQD,EAAIE,MAAM,KAClBC,EAAQ,EAUZ,OAToB,GAAhBF,EAAM1E,QAER0E,EAAMG,SAAQ,SAACC,EAAKC,GAElBH,GAAOI,WAAWF,GAAMG,KAAKC,IAAI,GAAGH,MAKjCH,EAET,MAAMO,GAEJ,OAAO,IAKAC,GAAkB,SAACN,GAC5B,OAAQA,EAAK,GAAI,IAAIO,OAAOP,GAAMO,OAAOP,IAGhCQ,GAAgB,SAACC,GAEtB,IAAIC,EAAKP,KAAKQ,MAAMF,GAChBG,EAAiB,IAAVH,EAAMC,GACbG,EAAKV,KAAKQ,MAAMC,GAChBE,EAAKX,KAAKQ,MAAgB,IAARC,EAAIC,IAG1B,OAAOP,GAAgBI,GAAI,IACpBJ,GAAgBO,GAAI,IACpBP,GAAgBQ,IAMlBC,GAAuB,SAACC,GACnC,IAEE,IAGIf,EAHAL,EAAQoB,EAAEnB,MAAM,KACpB,GAAkB,GAAfD,EAAM1E,OACP,OAAO,EAEP,IAAK+E,EAAI,EAAEA,EAAEL,EAAM1E,OAAO+E,IAC5B,CAEE,GAAqB,GAAjBL,EAAMK,GAAG/E,OACX,OAAO,EAET,IAAM,QAAQ+F,KAAKC,SAAStB,EAAMK,KAE9B,OAAO,EAKb,OAAO,EAET,MAAMI,GAEJ,OAAO,I,qBCEIc,OAhEf,YACC,IAD8BlH,EAC/B,EAD+BA,KAAKkB,EACpC,EADoCA,IAG1BiG,EAAsC,WACxC,IAAIC,EAAM,EAMV,OALApH,EAAK8F,SAAQ,SAACuB,GAETD,GAAO3B,GAAc4B,EAASC,cAAc,MAG1Cf,GAAca,IAKzB,OAAS,cAAC,IAAD,CAELpD,QAAWA,EACXhE,KAAQA,EACRpB,MAAQ,mBACR0E,QAAW,CACPmB,YAAY,QACZC,QAAO,EACPE,SAAQ,GAIZ2C,QAAS,CACN,CACEC,KAAM,OACNC,QAAS,cACTjK,QAAS,SAACX,EAAO6K,GACfrC,GAAgBnE,EAAIwG,MAK3BC,WAAc,CACVC,WAAW,SAAC9J,GAAD,OAAY,gCACpB,eAAC+J,GAAA,EAAD,CAAMC,WAAS,EAACjH,MAAS,CAACkH,QAAQ,GAAIC,WAAW,WAAjD,UACI,cAACH,GAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAGC,MAAM,SAAxB,SAAiC,cAACC,GAAA,EAAD,CAAYpK,QAAQ,YAApB,qBACjC,cAAC6J,GAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAGC,MAAM,SAAxB,SAAiC,cAACC,GAAA,EAAD,CAAYpK,QAAQ,YAApB,SAAkCgC,EAAKiB,OAAO,EAAG,IAAIkG,IAAsC,SAEhI,cAACkB,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,eAAqBxK,QAExByK,OAAQ,SAAAzK,GAAK,OACV,cAAC6C,EAAA,EAAD,CACEnD,QAAS,SAACX,GAAD,OAAWiB,EAAM0K,OAAOhL,QAAQX,EAAOiB,EAAMkC,OACtDhC,QAAQ,YACR6C,MAAO,CAAClD,MAAO,QAEf8K,KAAK,QALP,SAOC,cAAC,KAAD,CAAYpH,SAAS,iBC5D/BC,GAAW,wCAEJoH,GAAiB,uCAAG,WAAMC,EAAiBC,GAAvB,eAAAnJ,EAAA,6DAEvBoJ,EAAW,IAAIC,UAEZC,OAAO,OAAOH,GACvBC,EAASE,OAAO,gBAAgBJ,GALH,kBAQrB/G,IAAMoH,KAAK1H,GAAS,QAAQuH,EAAS,CACzCnH,QAAS,CACP,eAAgB,yBAVO,uDAiB1BhC,QAAQC,IAAR,MAjB0B,yDAAH,wDAwBjBsJ,GAAc,uCAAI,WAAMC,GAAN,eAAAzJ,EAAA,+EAIPmC,IAAMC,IAAN,UAAaP,GAAb,YAAyB4H,IAJlB,cAInBpH,EAJmB,yBAMlBA,EAAI9B,MANc,gCAWzBN,QAAQC,IAAR,MAXyB,yDAAJ,sDC5BdwJ,GAAmB,SAACC,GAC7B,OAAIA,EAAInI,OAAS,EAELmI,EAAIlI,KAAI,SAACmG,EAASrB,GAAV,MAAe,CAC3B7I,GAAGkK,EAAS7E,IACZ6G,MAAOrD,EAAE,EACTtJ,KAAM2K,EAASiC,SAAS5M,KACxBwI,SAAUgB,KAAKqD,MAAuC,IAAjClC,EAASiC,SAASE,YAAY,IAAU,IAC7DpE,UAAUc,KAAKqD,MAAuC,IAAjClC,EAASiC,SAASE,YAAY,IAAU,IAC7DC,OAAQpC,EAASqC,KAAKC,OACtBrC,aAAcD,EAASqC,KAAKpC,iBAG7B,I,kDCXEsC,GAAeC,KAAErC,KAAK,CAC/BsC,QAAS,sBACTC,UAAW,KACXC,WAAY,KACZC,aAAc,KACdC,SAAU,CAAC,GAAI,IACfxJ,UAAW,uBAGAyJ,GAAgBN,KAAErC,KAAK,CAClCsC,QAAS,sBACTC,UAAW,KACXC,WAAY,KACZC,aAAc,KACdC,SAAU,CAAC,GAAI,IACfxJ,UAAW,uBAGA0J,GAAgBP,KAAErC,KAAK,CAClCsC,QAAS,qBACTC,UAAW,KACXC,WAAY,KACZC,aAAc,KACdC,SAAU,CAAC,GAAI,IACfxJ,UAAW,uBAGA2J,GAAiBR,KAAErC,KAAK,CACnCsC,QAAS,4BACTC,UAAW,KACXC,WAAY,KACZC,aAAc,KACdC,SAAU,CAAC,GAAI,IACfxJ,UAAW,uBAGA4J,GAAgBT,KAAErC,KAAK,CAClCsC,QAAS,2BACTC,UAAW,KACXC,WAAY,KACZC,aAAc,KACdC,SAAU,CAAC,GAAI,IACfxJ,UAAW,uBCKC6J,GA5CC,SAAC,GAkChB,OAjCF,EADmBC,OAEMtJ,KAAI,SAAAoE,GAAK,OAC9B,gCACA,cAACmF,GAAA,EAAD,CAEIC,SAAU,CAACpF,EAAMJ,SAASI,EAAMF,WAChCoC,KAAmB,OAAZlC,EAAM5I,KAAakN,GACZ,MAAZtE,EAAM5I,MAA0B,MAAZ4I,EAAM5I,KAAYyN,GAC3B,UAAZ7E,EAAM5I,KAAgB2N,GACV,SAAZ/E,EAAM5I,KAAe4N,GACtBF,GAPJ,SASE,eAACO,GAAA,EAAD,WACA,eAACvC,GAAA,EAAD,CAAYpK,QAAQ,YAAY4M,cAAY,EAA5C,iBACKtF,EAAM+D,SAEX,eAACjB,GAAA,EAAD,CAAYpK,QAAQ,QAAQ4M,cAAY,EAAxC,mBACOtF,EAAM5I,aAMf,cAACmO,GAAA,EAAD,CACEC,OAAQ,CAACxF,EAAMJ,SAASI,EAAMF,WAC9BqE,OAAQnE,EAAMmE,OACd9L,MAAoB,OAAZ2H,EAAM5I,KAAa,OACd,MAAZ4I,EAAM5I,MAA0B,MAAZ4I,EAAM5I,KAAY,MACvC,YA1BU4I,EAAM+D,W,mDCuBP0B,OAxBf,YAAsD,IAA/BC,EAA8B,EAA9BA,OAAOC,EAAuB,EAAvBA,UAAUC,EAAa,EAAbA,MAAM3F,EAAO,EAAPA,KAE1C,OAAe,eAAC4F,GAAA,EAAD,CAEXL,OAAWG,EAAUhK,OAAO,EAAG6D,GAAamG,EAAU,GAAGA,EAAUA,EAAUhK,OAAO,IAChF,CACAgE,IAAI,YACJE,IAAI,eAERiG,IAAOJ,EACPzF,KAAMA,EARK,UAUP,cAAC8F,GAAA,EAAD,CACCC,IAAI,qDACJC,YAAc,0FAEf,cAAC,KAAD,CAAmBb,SAAS,YAC1B,cAAC,GAAD,CAASF,OAASS,IACnB,cAACO,GAAA,EAAD,CAAUC,YAAa,CAAE9N,MAAO,QAAU+N,UAAWR,QCzBrDlH,GAAU,CACnB,CACIpF,MAAM,KACNqF,MAAM,KACNY,SAAS,QACTX,MAAO,MACPC,UAAU,CAENC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTD,UAAU,WAIlB,CACIxF,MAAM,gBACNqF,MAAM,eACNC,MAAO,MACPC,UAAU,CAENC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTD,UAAU,WAKlB,CACIxF,MAAM,oBACNqF,MAAM,eACNC,MAAO,MACPC,UAAU,CACNhB,gBAAiB,OACjBxF,MAAO,OACPyG,UAAU,UAEdC,YAAa,CACTlB,gBAAiB,OACjBxF,MAAM,OACNyG,UAAU,YC4BPuH,OA9Df,YACC,IAD6B3L,EAC9B,EAD8BA,KAAKkB,EACnC,EADmCA,IAG3B0K,EAA4B,WAChC,IAAIxE,EAAM,EAOV,OALApH,EAAK8F,SAAQ,SAACR,GAET8B,GAAO3B,GAAcH,EAAMgC,iBAGzBf,GAAca,IAErB,OAAQ,cAAC,IAAD,CAEJpD,QAAWA,GACXhE,KAAQA,EACRpB,MAAQ,eACR0E,QAAW,CACPmB,YAAY,QACZC,QAAO,EACPE,SAAQ,GAIZ2C,QAAS,CACN,CACEC,KAAM,OACNC,QAAS,cACTjK,QAAS,SAACX,EAAO6K,GACfrC,GAAgBnE,EAAIwG,MAK3BC,WAAc,CACVC,WAAW,SAAC9J,GAAD,OAAY,gCACpB,eAAC+J,GAAA,EAAD,CAAMC,WAAS,EAACjH,MAAS,CAACkH,QAAQ,GAAIC,WAAW,WAAjD,UACI,cAACH,GAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAGC,MAAM,SAAxB,SAAiC,cAACC,GAAA,EAAD,CAAYpK,QAAQ,YAApB,qBACjC,cAAC6J,GAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAGC,MAAM,SAAxB,SAAiC,cAACC,GAAA,EAAD,CAAYpK,QAAQ,YAApB,SAAkCgC,EAAKiB,OAAO,EAAG,IAAI2K,IAA4B,SAEtH,cAACvD,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,eAAqBxK,QAExByK,OAAQ,SAAAzK,GAAK,OACV,cAAC6C,EAAA,EAAD,CACEnD,QAAS,SAACX,GAAD,OAAWiB,EAAM0K,OAAOhL,QAAQX,EAAOiB,EAAMkC,OACtDhC,QAAQ,YACR6C,MAAO,CAAClD,MAAO,QAEf8K,KAAK,QALP,SAOC,cAAC,KAAD,CAAYpH,SAAS,iBC4DtBwK,OA9Gf,YACC,IADyBC,EAC1B,EAD0BA,SAGhBd,EAASe,mBACf,EAAqB/M,mBAAS,MAA9B,mBAAOkC,EAAP,KAAW8K,EAAX,KACA,EAAuBhN,mBAAS,IAAhC,mBAAOiN,EAAP,KAAYC,EAAZ,KACA,EAAiClN,mBAAS,IAA1C,mBAAOjB,EAAP,KAAiBoO,EAAjB,KACA,EAA6CnN,mBAAS,IAAtD,mBAAOoN,EAAP,KAAuBC,EAAvB,KACA,EAAqCrN,mBAAS,IAA9C,mBAAOsN,EAAP,KAAmBC,EAAnB,KACA,EAA2CvN,mBAAS,IAApD,mBAAOwN,EAAP,KAAsBC,EAAtB,KAIMC,EAAgB,uCAAG,gCAAAjN,EAAA,+EAIEwJ,GAAeuD,EAAe,GAAGrP,IAJnC,OAIX6C,EAJW,OAMb2M,EAAQ,GACRC,EAAa,GACjB5M,EAAK8F,SAAQ,SAAC+G,GACVF,EAAMlM,KAAKoM,EAAWvD,SAASE,aAC/BoD,EAAWnM,KAAKoM,EAAW9O,cAEhCmO,EAAQS,GAERR,EAAaS,GAdK,kDAkBjBlN,QAAQC,IAAR,MAlBiB,0DAAH,qDA+CtB,OAxBAiD,qBAAU,WAIR6J,EAAkB,CAACX,IACjBpM,QAAQC,IAAImM,EAASgB,iBACvBT,EAAmBlD,GAAiB2C,EAASgB,kBAC7CP,EAAeT,EAASQ,aAEvBN,EAAOhB,EAAO+B,QAAQC,kBAGvB,IAGFpK,qBAAU,WACF4J,EAAevL,OAAS,GAExByL,MAEN,CAACF,IAKC,gCACI,qBAAK9L,UAAU,eAAf,SAEI,qBAAKA,UAAU,sBAAf,SACI,cAAC,EAAD,CAAwBV,KAAOwM,QAKvC,uBACA,uBAEA,sBAAK9L,UAAU,eAAf,UAEI,cAAC,GAAD,CACIsK,OAAUA,EACVzF,KAAQ,GACR0F,UAAamB,EACblB,MAASe,IAGb,sBAAKvL,UAAU,mBAAf,UAEI,oBAAIyH,MAAM,SAAV,0BACA,cAAC,GAAD,CACInI,KAASoM,EAAgBnL,OAAQ,EAAGmL,EAAgB,GACpDlL,IAAOA,IAGX,cAAC,GAAD,CACAlB,KAASsM,EAAYrL,OAAQ,EAAGqL,EAAY,GAC5CpL,IAAOA,UAMf,uBACA,uBAEA,qBAAKR,UAAU,eAAf,SACQ,cAAC,EAAD,CAAgBqC,KAAOhF,MAG/B,uBACA,2BClHNuD,GAAU,oCAGH2L,GAAU,uCAAG,WAAOC,EAASC,GAAhB,eAAA1N,EAAA,+EAIAmC,IAAMC,IAAN,UAAaP,GAAb,kBAA+B4L,EAA/B,YAA2CC,IAJ3C,cAIZrL,EAJY,yBAMXA,EAAI9B,MANO,gCAUlBN,QAAQC,IAAR,MAVkB,yDAAH,wDAeRyN,GAAoB,uCAAG,WAAOD,GAAP,eAAA1N,EAAA,+EAGZmC,IAAMC,IAAN,UAAaP,GAAb,qBAAkC6L,IAHtB,cAGxBrL,EAHwB,yBAIvBA,EAAI9B,MAJmB,gCAQ9BN,QAAQC,IAAR,MAR8B,yDAAH,sDCrBtBqE,GAAU,CACnB,CACEpF,MAAO,WACPqF,MAAO,WACPC,MAAM,MACNxH,KAAM,UACNyH,UAAU,CACRhB,gBAAiB,UAEjBiB,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UAEjBiB,UAAU,WAGd,CACExF,MAAO,OACPqF,MAAO,kBACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UAEjBiB,UAAU,WAGd,CACExF,MAAO,WACPqF,MAAO,sBACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UAEjBiB,UAAU,WAGd,CACExF,MAAO,WACPqF,MAAO,sBACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UAEjBiB,UAAU,WAGd,CACExF,MAAO,eACPqF,MAAO,eACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UAEjBiB,UAAU,WAId,CACExF,MAAO,eACPqF,MAAO,eACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CAGTD,UAAU,WAGd,CACExF,MAAO,aACPqF,MAAO,QACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CAETD,UAAU,YChGLiJ,GAAsB,WAGjC,MAAyCrO,oBAAS,GAAlD,mBAAOsO,EAAP,KAAqBC,EAArB,KACA,EAA2CvO,mBAAS,MAApD,mBAAOwO,EAAP,KAAsBC,EAAtB,KACA,EAA8CzO,oBAAS,GAAvD,mBAAO0O,EAAP,KAAwBC,EAAxB,KACA,EAAqB3O,mBAAS,IAA9B,mBAAOgB,EAAP,KAAY4N,EAAZ,KASA,IAAMC,EAAY,uCAAG,WAAOX,EAASC,GAAhB,eAAA1N,EAAA,+EAGCwN,GAAWC,EAASC,GAHrB,OAGXrL,EAHW,OAIjB8L,EAAQ9L,GACRyL,GAAiB,GALA,gDASjB7N,QAAQC,IAAR,MATiB,yDAAH,wDAmClB,OArBAiD,qBAAU,WAER+K,GAAoB,GAEpB,IAAIG,EAAQhO,aAAaC,QAAQ,SAC7BgO,EAAWjO,aAAaC,QAAQ,YAC/B+N,GAASC,IAEZD,EAAQxN,KAAK0N,MAAMF,GACnBC,EAAWzN,KAAK0N,MAAMD,GAGtBF,EAAaC,EAAMtL,IAAIuL,EAASE,aAAazL,QAI/C,IAMA,8BACIkL,EACF,sBAAKhN,UAAU,eAAf,UACA,qBAAKA,UAAU,uBAAf,SACA,cAAC,IAAD,CACI9B,MAAS,gBACT+I,WAAY,CACVuG,QAAS,SAAApQ,GAAK,OACZ,qBACA+C,MAAO,CAAEsC,gBAAiB,WAD1B,SAEI,cAAC,gBAAD,eAEIrF,OAGZyK,OAAQ,SAAAzK,GAAK,OACX,cAAC6C,EAAA,EAAD,CACEnD,QAAS,SAACX,GAAD,OAAWiB,EAAM0K,OAAOhL,QAAQX,EAAOiB,EAAMkC,OACtDhC,QAAQ,YACR6C,MAAO,CAAClD,MAAO,QAEf8K,KAAK,QALP,SAOC,cAAC,IAAD,CAAgBpH,SAAS,cAM9B2C,QAASA,GACThE,KAAQA,EACRuH,QAAS,CACP,CACEC,KAAM,OACNC,QAAS,YACTjK,QAAS,SAACX,EAAO6K,IA7E3B,SAA+ByG,EAAEzG,GAE/BiG,GAAqBD,GACrBD,EAAmB/F,GA2ET0G,CAAqBvR,EAAM6K,MAIjC2G,WAAcf,EACdhK,QAAU,CACNgL,oBAAoB,EACpB7J,YAAa,QACb8J,cAAe,IACf7J,QAAO,EACPC,QAAO,EACP6J,WAAU,EACVC,cAAa,EACbpK,YAAa,CACX2D,WAAY,UACZrK,MAAO,OACPyG,UAAU,SACV/C,SAAS,KAEP8C,UAAW,CACPC,UAAU,SACV/C,SAAS,UAMtB,uBACA,0BAGA,cAAC,GAAD,CAAkByK,SAAU0B,OCvGpBkB,OArBf,YAAqC,IAAZC,EAAW,EAAXA,UAQrB,OAEI,gCACI,uBACA,8BACI,cAAC,GAAD,CAAqBA,UAAWA,MAEpC,uBACA,2B,gFCUGC,GAvBiB,SAAC9Q,GAC7B,OACI,eAAC+Q,GAAA,EAAD,CAAKC,QAAQ,OAAOC,WAAW,SAA/B,UACE,cAACF,GAAA,EAAD,CAAK3K,MAAM,OAAO8K,GAAI,EAAtB,SACE,cAACtQ,EAAA,EAAD,aAAgBV,QAAQ,cAAcL,MAAO,WAAaG,MAE5D,cAAC+Q,GAAA,EAAD,CAAKI,SAAU,GAAf,SACE,cAAC7G,GAAA,EAAD,CAAYpK,QAAQ,QAAQL,MAAM,gBAAlC,mBAAsDuI,KAAKqD,MACzDzL,EAAMuC,OADR,a,UCoMG6O,OAtMf,YAAuC,IAAbC,EAAY,EAAZA,UAExB,EAAqCC,IAAMpQ,WAA3C,mBAAOqQ,EAAP,KAAmBC,EAAnB,KACA,EAAiCtQ,mBAAS,IAA1C,mBAAQuQ,EAAR,KAAkBC,EAAlB,KACA,EAAiCxQ,mBAAS,GAA1C,mBAAQyQ,EAAR,KAAkBC,EAAlB,KACA,EAAkC1Q,oBAAS,GAA3C,mBAAO2Q,EAAP,KAAkBC,EAAlB,KACA,EAAwC5Q,mBAAS,MAAjD,mBAAO6Q,EAAP,KAAqBC,EAArB,KACA,EAAgC9Q,mBAAS,GAAzC,mBAAO+Q,EAAP,KAAiBC,EAAjB,KACA,EAA0ChR,mBAAS,MAAnD,mBAAOiR,EAAP,KAAsBC,EAAtB,KACA,EAAgClR,mBAAS,SAAzC,mBAAOmR,EAAP,KAAiBC,EAAjB,KACA,EAAoCpR,mBAAS,WAA7C,mBAAOqR,EAAP,KAAmBC,EAAnB,KACMjR,EAAYC,cAeZiR,EAAY,uCAAG,sBAAA9Q,EAAA,sDAGnB+Q,aAAaX,GACbY,cAAcR,GACdD,EAAY,GACZU,IANmB,2CAAH,qDASZA,EAAe,uCAAG,4BAAAjR,EAAA,+EAGFmC,IAAMM,OAAO,uCAHX,OAGdJ,EAHc,OAIpBpC,QAAQC,IAAImC,EAAI9B,MAJI,gDAQpBN,QAAQC,IAAR,MARoB,yDAAH,qDAYfgR,EAAe,uCAAG,WAAM/H,GAAN,iBAAAnJ,EAAA,6DAEtB+P,EAAY5G,EAAKnG,OAEXoG,EAAW,IAAIC,UAEZC,OAAO,OAAOH,GACvBC,EAASE,OAAO,QAAQoG,EAAUhS,IAPZ,kBAUFyE,IAAMoH,KAAK,2CACDH,EACA,CAAEnH,QAAS,CAAE,eAAgB,uBAC7BkP,iBAAkB,SAAAC,GAChBnB,EAAYzI,SAASf,KAAKqD,MAA4B,IAArBsH,EAAcC,OAAYD,EAAchL,YAdnF,OAUd/D,EAVc,OAgBpBwO,EAAcxO,EAAI9B,KAAK7B,KA9C1B2R,EAAiBiB,YAAW,WACzBN,cAAcR,GACdnQ,aAAaU,QAAQ,SAAS,GAC9BX,OAAOyJ,SAAS0H,SACf3R,EAAQ4R,YACN,MA2CHf,EAAkBgB,aAAY,WACZlB,GAAY,SAACmB,GAAmB,OAAQA,GAAgB,IAAM,IAAMA,EAAe,SAClF,KApBC,kDAwBQ,KAAvB,KAAIC,SAASC,OAEhB3R,QAAQC,IAAI,4BAIZyQ,EAAY,KAAIgB,SAASpR,KAAK7B,KAC9BuR,EAAY,GACZE,GAAa,IAhCK,0DAAH,sDAkDd0B,EAAoB,SAACC,GAC1BjC,EAAeiC,IAMXC,EAAc,SAAChJ,GACJ,aAAVA,EAEHoH,GAAa,IAIbJ,EAAY,IACZE,EAAY,GACZa,MAKEkB,GAAQ,uCAAE,WAAMtD,GAAN,SAAA1O,EAAA,sDAET0O,EAAEuD,OAAOC,MAAM1Q,OAAS,IAE3B0P,EAAgBxC,EAAEuD,OAAOC,MAAM,IAC/BxD,EAAEuD,OAAOrR,MAAQ,MALL,2CAAF,sDASd,OACE,gCAEE,qBAAIK,UAAU,uBAAd,UAAuCyO,EAAWA,EAAU1M,KAAK,aAAjE,OACA,uBACA,qBAAK/B,UAAU,UAAf,iCACA,uBACA,sBACEA,UAAS,sCAAkC2O,EAAe,gCAAiC,mBAC3FuC,YAAgBN,EAAkB7T,KAAKC,MAAK,GAAQmU,WApCjC,SAAC1D,GACxBA,EAAE2D,kBAmCuFC,OAnDrE,SAAC5D,GAErBA,EAAE2D,iBACFxC,GAAe,GAEVnB,EAAE6D,aAAaL,MAAM1Q,OAAS,IAEjC0P,EAAgBxC,EAAE6D,aAAaL,MAAM,IACrCxD,EAAE6D,aAAa3R,MAAQ,OA2C2F4R,YAAgBX,EAAkB7T,KAAKC,MAAK,GAF9J,UAIE,eAACwU,GAAA,EAAD,CAAUC,GAAc,GAAV1C,EAAd,UACE,+BACE,gCACE,uBAAOtS,GAAG,cACVT,KAAK,OACL0V,OAAO,OACPvR,MAAO,CAACiO,QAAQ,QACf2C,SAAUA,KACX,uBAAOY,QAAQ,cAAc3R,UAAU,qBAAvC,+BAGJ,mDACA,0BAGF,cAACwR,GAAA,EAAD,CAAUC,GAAIxC,EAAd,SACE,cAAC9R,EAAA,EAAD,CACIK,SAAS,QACTsK,OACE,cAAC7H,EAAA,EAAD,CAAYS,aAAW,QAAQzD,MAAM,UAAU8K,KAAK,QAAQjL,QAASgU,EAAY/T,KAAKC,KAAK,aAA3F,SACE,cAAC,KAAD,CAAY2D,SAAS,cAJ7B,SAOG8O,MAKL,eAAC+B,GAAA,EAAD,CAAUC,GAAc,GAAV1C,EAAd,UAEE,4BAAIF,IACJ,uBACA,cAAC,GAAD,CAAyBlP,MAAOoP,OAIlC,cAACyC,GAAA,EAAD,CAAUC,GAAe,KAAV1C,EAAf,SAEE,cAAC5R,EAAA,EAAD,CACI2K,OACE,eAACqG,GAAA,EAAD,CAAKnE,SAAS,WAAWoE,QAAQ,cAAjC,UACI,cAAEwD,GAAA,EAAF,CAAoBtU,QAAQ,cAAcqC,MAAO0P,IAC/C,cAAClB,GAAA,EAAD,CAAK0D,IAAK,EAAGC,KAAM,EAAGC,OAAQ,EAAGC,MAAO,EAAGhI,SAAS,WAAWoE,QAAQ,OAAOC,WAAW,SAAS4D,eAAe,SAAjH,SACE,cAAChS,EAAA,EAAD,CAAYS,aAAW,QAAQzD,MAAM,UAAU8K,KAAK,QAAQjL,QAAUgU,EAAY/T,KAAKC,KAAK,KAA5F,SACE,cAAC,KAAD,CAAY2D,SAAS,mBANrC,SAYEgP,aCsCGuC,OArOf,SAAqB9U,GAEjB,IAEA,EAA+BkB,mBAAS,IAAxC,mBAAOsE,EAAP,KAAgBuP,EAAhB,KACA,EAAmC7T,mBAAS,CACxCyD,KAAK,GACLqQ,WAAW,KAFf,mBAAQC,EAAR,KAAmBC,EAAnB,KAKA,EAAiChU,oBAAS,GAA1C,mBAAOiU,EAAP,KAAiBC,EAAjB,KACA,EAAiClU,mBAAS,CACtC,CACImU,KAAO,WACPtS,MAAO,wBAEX,CACIsS,KAAO,SACPtS,MAAO,0BAPf,mBAAOuS,EAAP,KAUA,GAVA,KAUiCpU,mBAAS,OAA1C,mBAAOmQ,EAAP,KAAiBkE,EAAjB,KAEA,EAAkDrU,mBAAS,GAA3D,mBAAOsU,EAAP,KAA0BC,EAA1B,KA4BMC,EAAe,WACnB,IAAIC,EAAW5T,OAAOC,aAAaC,QAAQ,QACvC0T,IAEAA,EAAYnT,KAAK0N,MAAMyF,GACvBC,EAAYD,EAASX,cAIzBlQ,qBAAU,WACR4Q,MAKD,IAED5Q,qBAAU,WACJuM,IAEF+D,GAAa,GAEbK,EAAsB,MAIxB,CAACpE,IACH,IAuBMwE,EAAsB,WAE3BX,EAAa,2BAAID,GAAL,IACXD,WAAYc,QAIRA,EAAkB,WAEtB,IAAIC,EAAgBvQ,EAAQwQ,QAAO,SAAAC,GAAG,OAAIA,EAAIC,UAAS9S,KAAI,SAAA+S,GAAE,MAAI,CAC7DzR,IAAKyR,EAAG9W,OAGR+W,EAAM,GAKV,OAHAL,EAAa/N,SAAQ,SAAA3I,GACjB+W,EAAIzT,KAAKtD,EAAGqF,QAET0R,GAKHR,EAAc,SAACpQ,GAErBuP,EAAYvP,EAAQpC,KAAI,SAAA6S,GAAG,MAAK,CAC3B5W,GAAI4W,EAAIvR,IACRC,KAAOsR,EAAI9F,aAAaxL,KACxBuR,QAAO,QAIZpR,qBAAU,WAGFmQ,EAAUD,WAAW7R,OAAS,GAEhCkT,MAEH,CAACpB,IAEJ,IAAMoB,EAAW,uCAAE,4BAAA1U,EAAA,+EAIGmC,IAAMoH,KAhJd,mCAgJ2B+J,GAJtB,OAITjR,EAJS,OAnHCoL,EAyHDpL,EAAI9B,KAAK7C,GAvHpBkW,EAAa,CACT5Q,KAAMsQ,EAAUtQ,KAChBtF,GAAG+P,IA+GI,gDAUbxN,QAAQC,IAAR,MAVa,kCAnHA,IAACuN,IAmHD,oBAAF,qDAgBnB,OACI,gCAEK+F,EAEG,gCACE,uBACA,qBAAKvS,UAAU,eAAf,SACE,uBACY+Q,SA3HF,SAACtD,GACvB6E,EAAa,2BACRD,GADO,mBAET5E,EAAEuD,OAAOjP,KAAM0L,EAAEuD,OAAOrR,UAyHH3D,KAAK,OACL0X,YAAY,oBACZvT,MAAO,CAACwT,QAAQ,GAChB3T,UAAU,gDACV+B,KAAK,WAInB,uBACA,qBAAK/B,UAAU,eAAf,SACA,mEAEI,uBACJ,qBAAKA,UAAU,eAAf,SAEE,cAAC4T,GAAA,EAAD,CAAWC,KAAG,EAAd,SAGIjR,EAAQpC,KAAI,SAAC6S,EAAI/N,GAAL,OACR,cAACwO,GAAA,EAAD,CAEAC,QACA,cAACC,GAAA,EAAD,CACIC,QAASZ,EAAIC,OACbvC,UA5JPpI,EA4J8BrD,EA5JrB,SAAAnJ,GAE1B,IAAI+X,EAAU,YAAOtR,GACrBsR,EAAWvL,GAAO2K,OAASnX,EAAM6U,OAAOiD,QACxC9B,EAAW+B,KAyJanS,KAAMsR,EAAItR,KACV9E,MAAM,YAGVuF,MAAO6Q,EAAItR,MATJsR,EAAI5W,IAxJd,IAAAkM,SA2KP,0BAGA,cAACwL,GAAD,CAAiB1F,UAAWA,IAElC,uBACA,qBAAKzO,UAAU,eAAf,SACA,cAACnD,EAAA,EAAD,CACAS,QAAQ,YACF6C,MAAO,CAACiU,cAAe,QACvBtX,QA3IW,WACG,GAApB8V,GAIDN,EAAa,CAAEvQ,KAAK,GACpBqQ,WAAW,KAEZO,EAAa,MACbR,EAAW,IACXK,GAAa,GAEbK,EAAsB,GACtBC,KAIAG,KA2HQhW,MAAM,UACNjB,KAAK,SACLgE,UAAW0S,EAAUE,GAAoBzS,MAN/C,SAQUuS,EAAUE,GAAoBH,aCrO9C7R,GAAU,uCAGHyT,GAAW,uCAAE,WAAM5H,GAAN,eAAA1N,EAAA,+EAKHmC,IAAMC,IAAN,UAAaP,GAAb,YAAyB6L,IALtB,cAKfrL,EALe,yBAMbA,EAAI9B,MANS,gCAWtBN,QAAQC,IAAR,MAXsB,yDAAF,sDAeXqV,GAAc,uCAAE,WAAM7H,GAAN,SAAA1N,EAAA,+EAIlBmC,IAAMM,OAAN,UAAgBZ,GAAhB,YAA4B6L,IAJV,sDAQzBzN,QAAQC,IAAR,MARyB,wDAAF,sDCmMZsV,OA5Mf,SAAcnX,GAEV,IAGA,EAA+BkB,qBAA/B,mBAAOyU,EAAP,KAAgByB,EAAhB,KACA,EAAmClW,mBAAS,IAA5C,mBAAO8T,EAAP,KAAkBqC,EAAlB,KACA,EAA6BnW,mBAAS,CAClC,CACI7B,GAAK,EACLsF,KAAK,aACLuR,QAAQ,GASZ,CACI7W,GAAK,EACLsF,KAAK,eACLuR,QAAQ,GAEZ,CACI7W,GAAK,EACLsF,KAAK,UACLuR,QAAQ,KArBhB,mBAAO1Q,EAAP,KAAeuP,EAAf,KAyBA,EAA4C7T,mBACxC,CACI7B,IAAM,EACNsF,KAAK,GACLuR,QAAQ,IAJhB,mBAAOoB,EAAP,KAAuBC,EAAvB,KAWMC,EAAS,uCAAE,WAAOtT,GAAP,eAAAvC,EAAA,+EAIQsC,EAAQC,GAJhB,OAILhC,EAJK,OAKTN,QAAQC,IAAIK,GACZkV,EAAalV,GACbmV,EAAcnV,EAAK8S,WAAW5R,KAAI,SAAAqU,GAAE,MAAG,CACnCpY,GAAKoY,EAAG/S,IACR5D,MAAQ2W,EAAGtH,aAAaxL,UATnB,gDAeT/C,QAAQC,IAAR,MAfS,yDAAF,sDAmBT6V,EAAoB,uCAAE,WAAOrY,GAAP,eAAAsC,EAAA,+EAKduV,GAAe7X,GALD,QAOfoF,EAAO1C,OAAOC,aAAaC,QAAQ,WAIpCwC,EAAOjC,KAAK0N,MAAMzL,GAElB+S,EAAU/S,EAAKC,MAbC,gDAmBpB9C,QAAQC,IAAR,MAnBoB,yDAAF,sDAuBpB8V,EAAmB,uCAAE,WAAOtY,GAAP,eAAAsC,EAAA,+EAGFsV,GAAY5X,GAHV,cAGf6C,EAHe,yBAIZA,GAJY,gCAQnBN,QAAQC,IAAR,MARmB,yDAAF,sDAyDzB,OAlBAiD,qBAAU,WACN,IAAIL,EAAO1C,OAAOC,aAAaC,QAAQ,QAEvC,GAAKwC,EACL,CACIA,EAAOjC,KAAK0N,MAAMzL,GAClB+S,EAAU/S,EAAKC,KACf,IAAIkT,EAAQ5V,aAAaC,QAAQ,UAEjCsV,EAAoBK,EAAQpS,EAAQoS,GAAQpS,EAAQ,IAlBtC,WAClB,IAAIsR,EAAU,YAAMtR,GAChBoS,EAAQ5V,aAAaC,QAAQ,UACjCD,aAAa6V,WAAW,UAExBf,EAAYc,GAAe,GAAG1B,QAAS,EACvCnB,EAAW+B,GAaPgB,MAMN,IAGE,gCACI,uBACA,8BAAK,oBAAIlV,UAAU,cAAd,SACC+S,EAAWA,EAAShR,KAAM,gBAGhC,uBACA,qBAAK/B,UAAU,eAAf,SAEI,cAACmV,EAAA,EAAD,CAAc7X,QAAQ,OAAOoD,aAAW,4BAAxC,SAEQkC,EAAQpC,KAAI,SAAAwU,GAAM,OAElB,cAACnY,EAAA,EAAD,CACImD,UAAYgV,EAAO1B,OACH,CAAG0B,EAAOjT,KAAKqT,cAAc,WAGzB,qBAFA,qBAGH,GACjB9X,QAAY0X,EAAO1B,OAAQ,YAAY,OACvCrW,MAAU+X,EAAOjT,KAAKqT,cAAc,WAAY,UAAU,YAC1DtY,SAhEG6L,EAgE2BqM,EAAOvY,GAAG,EAhE5B,SAAAgR,GAEhC,IAAIyG,EAAU,YAAMtR,GACpBsR,EAAW9O,SAAQ,SAAC4P,GAChBA,EAAO1B,QAAS,KAGpBY,EAAWvL,GAAO2K,QAAQ,EAC1BqB,EAAkBT,EAAWvL,IAE7BwJ,EAAW+B,KA6CK,SAUEc,EAAOjT,MAVIiT,EAAOvY,IAvDb,IAAAkM,SA2EnB,uBAGA,uBAEoB,GAAnB+L,EAAejY,IAAU,cAAC,EAAD,CACE6C,KAAQ8S,EACRpW,KApLxB,WAqLwBmC,SAtLnB,YAuLmBE,cAAe0W,EACf3W,kBAAmB0W,IAQ3B,GAAnBJ,EAAejY,IAAS,cAAC,GAAD,IAGL,GAAnBiY,EAAejY,IAAS,cAAC,GAAD,QClLtB4Y,OAzBf,YAA+C,IAA7BzS,EAA4B,EAA5BA,QAAQ0S,EAAoB,EAApBA,mBACtB,OAAS,cAACH,EAAA,EAAD,CAAc7X,QAAQ,OAAOoD,aAAW,4BAAxC,SAELkC,EAAQpC,KAAI,SAAAwU,GAAM,OAElB,cAACnY,EAAA,EAAD,CACImD,UAAYgV,EAAO1B,OACH,CAAG0B,EAAOjT,KAAKqT,cAAc,WAGzB,qBAFA,qBAGH,GACjB9X,QAAY0X,EAAO1B,OAAQ,YAAY,OACvCrW,MAAU+X,EAAOjT,KAAKqT,cAAc,WAAY,UAAU,YAC1DtY,QAAWwY,EAAmBN,EAAOvY,GAAG,GAT5C,SAUEuY,EAAOjT,MAVIiT,EAAOvY,UCRtBmE,GAAU,mCAEH2U,GAAoC,uCAAG,WAAM/I,EAASgJ,GAAf,iBAAAzW,EAAA,+EAK3BmC,IAAMC,IAAN,UAAaP,GAAb,YAAyB4L,EAAzB,YAAqCgJ,IALV,cAKvCpU,EALuC,OAO1CgM,EAAQhM,EAAI9B,KAP8B,kBAQvC8N,EAAMqI,gBARiC,gCAa9CzW,QAAQC,IAAR,MAb8C,yDAAH,wDAiBpCyW,GAAQ,uCAAG,WAAMlJ,GAAN,eAAAzN,EAAA,+EAIDmC,IAAMC,IAAN,UAAaP,GAAb,YAAyB4L,IAJxB,cAIbpL,EAJa,yBAKXA,EAAI9B,MALO,gCAUpBN,QAAQC,IAAR,MAVoB,yDAAH,sDAeN0W,GAAW,uCAAG,WAAMnJ,GAAN,SAAAzN,EAAA,+EAIhBmC,IAAMM,OAAN,UAAgBZ,GAAhB,YAA4B4L,IAJZ,sDASvBxN,QAAQC,IAAR,MATuB,wDAAH,sDCnCfqE,GAAU,CACjB,CACEpF,MAAO,WACPqF,MAAO,WACPC,MAAM,MACNxH,KAAM,UACNyH,UAAU,CACRhB,gBAAiB,UAEjBiB,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UAEjBiB,UAAU,WAGd,CACExF,MAAO,OACPqF,MAAO,WACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UAEjBiB,UAAU,WAGd,CACExF,MAAO,SACPqF,MAAO,SACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UAEjBiB,UAAU,WAGd,CACExF,MAAO,UACPqF,MAAO,UACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CACTlB,gBAAiB,UAEjBiB,UAAU,WAGd,CACExF,MAAO,aACPqF,MAAO,YACPC,MAAM,MACNC,UAAU,CAERC,UAAU,SACV/C,SAAS,KAEbgD,YAAa,CAETD,UAAU,YClELkS,GAAe,WAI1B,MAAqBtX,mBAAS,IAA9B,mBAAOgB,EAAP,KAAY4N,EAAZ,KACA,EAA6B5O,mBAAS,IAAtC,mBAAOuX,EAAP,KAAgBC,EAAhB,KAGM3I,EAAY,uCAAG,WAAOV,GAAP,eAAA1N,EAAA,+EAGC2N,GAAqBD,GAHtB,OAGXrL,EAHW,OAKjB8L,EAAQ6I,EAAW3U,IALF,gDAUjBpC,QAAQC,IAAR,MAViB,yDAAH,sDAeZ8W,EAAa,SAACC,GAClB,IAAIC,EAAY,GAgBhB,OAdAD,EAAQ5Q,SAAQ,SAACmC,GAEfA,EAAK2O,WAAW9Q,SAAQ,SAAC+Q,EAAU7Q,GAEjC,IAAI7F,EAAG,gBAAY6F,EAAE,GACrBiC,EAAK9H,GAAK0W,YAIL5O,EAAK2O,WACZD,EAAUlW,KAAKwH,MAIV0O,GAmDT,OA3BA/T,qBAAU,WAIR,IAAImL,EAAWjO,aAAaC,QAAQ,YAC9BgO,IAzBqB,SAAC+I,GAI5B,IAHA,IAAIC,EAAa,GAGR/Q,EAAI,EAAGA,EAAI8Q,EAAY9Q,IAAK,CAEnC,IAAIgR,EAAM,eAAOhT,GAAQ,IACzBgT,EAAOpY,MAAP,gBAAsBoH,EAAE,GACxBgR,EAAO/S,MAAP,gBAAsB+B,EAAE,GACxB+Q,EAAatW,KAAKuW,GAIpB,IAAIC,EAAcjT,GAAQkT,MAAM,EAAElT,GAAQ/C,OAAO,GAC7CkW,EAAeJ,EACfK,EAAYpT,GAAQkT,MAAMlT,GAAQ/C,OAAO,EAAE+C,GAAQ/C,QAEvDuV,EAAYS,EAAYI,OAAOF,GAAcE,OAAOD,IAYlDE,EAFAvJ,EAAWzN,KAAK0N,MAAMD,IAEQwJ,OAAOtW,QACrC4M,EAAaE,EAASvL,QAYxB,IAME,sBAAK9B,UAAU,eAAf,UACA,qBAAKA,UAAU,uBAAf,SACA,cAAC,IAAD,CACE9B,MAAO,uBACL+I,WAAY,CACVuG,QAAS,SAAApQ,GAAK,OACZ,qBACA+C,MAAO,CAAEsC,gBAAiB,WAD1B,SAEI,cAAC,gBAAD,eAEIrF,OAGZyK,OAAQ,SAAAzK,GAAK,OACX,cAAC6C,EAAA,EAAD,CACEnD,QAAS,SAACX,GAAD,OAAWiB,EAAM0K,OAAOhL,QAAQX,EAAOiB,EAAMkC,OACtDhC,QAAQ,YACR6C,MAAO,CAAClD,MAAO,QAEf8K,KAAK,QALP,SAOC,cAAC,IAAD,CAAgBpH,SAAS,cAM9B2C,QAASuS,EACTvW,KAAQA,EACRqO,WAAY,EACZ/K,QAAU,CACNgL,oBAAoB,EACpB7J,YAAa,QACb8J,cAAe,IACf7J,QAAO,EACPC,QAAO,EACP6J,WAAU,EACVC,cAAa,EACbpK,YAAa,CACX2D,WAAY,UACZrK,MAAO,OACPyG,UAAU,SACV/C,SAAS,KAEP8C,UAAW,CACPC,UAAU,SACV/C,SAAS,UAMtB,uBACA,2BCIQmW,OAjJf,WACI,IAGA,EAAwCxY,qBAAxC,mBAAOyY,EAAP,KAAqBC,EAArB,KACA,EAA2B1Y,mBAAS,IAApC,mBAAOuY,EAAP,KAAcI,EAAd,KACA,EAA6B3Y,mBAAS,CAClC,CACI7B,GAAK,EACLsF,KAAK,SACLuR,QAAQ,GAQZ,CACI7W,GAAK,EACLsF,KAAK,UACLuR,QAAQ,KAfhB,mBAAO1Q,EAAP,KAAeuP,EAAf,KAoBA,EAA4C7T,mBACxC,CACI7B,IAAM,EACNsF,KAAK,GACLuR,QAAQ,IAJhB,mBAAOoB,EAAP,KAAuBC,EAAvB,KAQMuC,EAAiB,uCAAE,WAAOza,GAAP,eAAAsC,EAAA,+EAKX4W,GAAYlZ,GALD,QAOb4Q,EAAWlO,OAAOC,aAAaC,QAAQ,eAGvCgO,EAAWzN,KAAK0N,MAAMD,GACtB8J,EAAc9J,EAASvL,MAXV,gDAiBjB9C,QAAQC,IAAR,MAjBiB,yDAAF,sDAqBjBmY,EAAgB,uCAAE,WAAO3a,GAAP,eAAAsC,EAAA,sEAEH2W,GAASjZ,GAFN,cAEhB6C,EAFgB,yBAGbA,GAHa,2CAAF,sDAqBhB6X,EAAa,uCAAE,WAAO1K,GAAP,eAAA1N,EAAA,+EAIIsV,GAAY5H,GAJhB,OAITnN,EAJS,OAMb2X,EAAU3X,EAAKuX,OAAOrW,KAAI,kBACtB,CAAC/D,GADqB,EAAEqF,IAExB5D,MAFsB,EAAM6D,UAIhCiV,EAAgB1X,GAVH,gDAcbN,QAAQC,IAAR,MAda,yDAAF,sDAoCnB,OAfAiD,qBAAU,WAEN,IAAImL,EAAWlO,OAAOC,aAAaC,QAAQ,YACvCgO,IAEAA,EAAWzN,KAAK0N,MAAMD,GACtB8J,EAAc9J,EAASvL,KACvB6S,EAAkB/R,EAAQ,OAIhC,IAKE,gCACI,uBACA,gCAAK,oBAAI5C,UAAU,cAAd,SAA8B+W,EAAcA,EAAaxJ,aAAaxL,KAAK,MAAhF,OACA,uBACA,qBAAK/B,UAAU,eAAf,SAEI,cAAC,GAAD,CACI4C,QAASA,EACT0S,mBA3DW,SAAA3M,GAAK,OAAI,SAAA8E,GAEhC,IAAIyG,EAAU,YAAMtR,GACpBsR,EAAW9O,SAAQ,SAAC4P,GAChBA,EAAO1B,QAAS,KAGpBY,EAAWvL,GAAO2K,QAAQ,EAC1BqB,EAAkBT,EAAWvL,IAE7BwJ,EAAW+B,SAoDH,uBAEA,cAAC1C,GAAA,EAAD,CAAUC,GAAwB,GAAnBiD,EAAejY,GAA9B,SACA,cAAC,EAAD,CACA6C,KAAMuX,EACL7a,KAhIF,QAiIGmC,SAhIG,SAiIHC,kBAAmB8Y,EACnB7Y,cAAiB+Y,MAInB,cAAC5F,GAAA,EAAD,CAAUC,GAAwB,GAAnBiD,EAAejY,GAA9B,SACI,cAAC,GAAD,MAER,uBACA,2B,+BC/IZ,SAASU,GAAMC,GACb,OAAO,cAAC,IAAD,aAAUC,UAAW,EAAGC,QAAQ,UAAaF,IAkKvCia,OA7Jf,SAAeja,GAGZ,IAGC,EAAiCkB,mBAAS,CACtCgZ,SAAS,GACTC,SAAS,KAFb,mBAAOC,EAAP,KAAiBC,EAAjB,KAIA,EAAkCnZ,oBAAS,GAA3C,mBAAO2Q,EAAP,KAAkBC,EAAlB,KACMvQ,EAAYC,cAEZ8Y,EAAoB,SAACjK,GACvBgK,EAAa,2BACND,GADK,mBAEP/J,EAAEuD,OAAOjP,KAAM0L,EAAEuD,OAAOrR,UAI3B1D,EAAc,SAACE,EAAO0B,GACX,cAAXA,GAIJqR,GAAa,IAITyI,EAAa,uCAAG,WAAMlK,GAAN,SAAA1O,EAAA,6DAClB0O,EAAE2D,iBADgB,SAEZwG,IAFY,2CAAH,sDAKbC,EAAa,uCAAG,WAAMpK,GAAN,SAAA1O,EAAA,sDAEpBJ,EAAQoB,KAhCQ,WA8BI,2CAAH,sDAUnBmC,qBAAU,WACR/C,OAAOC,aAAa0Y,UACpB,IAEF,IAAMF,EAAgB,uCAAE,4BAAA7Y,EAAA,+EAEFmC,IAAMoH,KACJ,yCACAkP,GAJA,OAEdpW,EAFc,OAMpBjC,OAAOC,aAAaU,QAClB,OAAQF,KAAKC,UAAUuB,EAAI9B,KAAKyY,QAElC5Y,OAAOC,aAAaU,QAClB,QAASsB,EAAI9B,KAAKwB,OAlBlBnC,EAAQoB,KArCE,UA6CQ,gDAiBpBmP,GAAa,GAjBO,yDAAF,qDAqBtB,OACE,gCACE,uBACA,uBACA,uBAGA,qBAAKlP,UAAU,eAAf,SACA,gDAGE,qBAAKA,UAAU,gCAAf,SACI,uBAAMgY,SAAUL,EAAhB,UAIE,eAACxQ,GAAA,EAAD,CACEC,WAAS,EACT6Q,UAAU,SACVC,QAAQ,SACR7J,WAAW,WAJb,UAOE,eAAClH,GAAA,EAAD,CAAOI,MAAI,EAACH,WAAS,EAAC+Q,QAAS,EAAG9J,WAAW,WAA7C,UACE,cAAClH,GAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC,KAAD,MAEF,cAACJ,GAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC6Q,GAAA,EAAD,CAAW3b,GAAG,uBACd+F,MAAM,WACNuO,SAAY2G,EACZ3V,KAAK,kBAKX,cAACqW,GAAA,EAAD,CACE3b,GAAG,0BACH+F,MAAM,WACNxG,KAAK,WACL+F,KAAK,WACLgP,SAAY2G,EACZW,aAAa,wBAIf,uBACE,qBAAKrY,UAAU,MAAf,SACA,cAACnD,EAAA,EAAD,CAAQS,QAAQ,YAChB6C,MAAO,CAACiU,cAAe,QACvBnX,MAAM,UACNjB,KAAK,SACLgE,UAAU,uBAJV,2BAeT,qBAAKA,UAAU,+BAAf,SACe,cAACnD,EAAA,EAAD,CACAsD,MAAO,CAACiU,cAAe,QACvB9W,QAAQ,YACRR,QAAW+a,EACX5a,MAAM,YACNjB,KAAK,SACLgE,UAAU,qBANV,uBAahB,cAAClC,EAAA,EAAD,CAAU/B,KAAMkT,EAAWlR,iBAAkB,IAAM1B,QAASJ,EAA5D,SACE,cAAC,GAAD,CAAOI,QAASJ,EAAauB,SAAS,QAAtC,8BCxJV,SAASL,GAAMC,GACX,OAAO,cAAC,IAAD,aAAUC,UAAW,EAAGC,QAAQ,UAAaF,IAyHzCkb,OAnHf,SAAiBlb,GAEb,IAEA,EAAmCkB,mBAAS,CACxCyD,KAAM,GACNuV,SAAS,GACTC,SAAS,KAHb,mBAAOgB,EAAP,KAAkBC,EAAlB,KAKA,EAAkCla,oBAAS,GAA3C,mBAAO2Q,EAAP,KAAkBC,EAAlB,KACMvQ,EAAYC,cAGZ8Y,EAAoB,SAACjK,GACvB+K,EAAc,2BACPD,GADM,mBAER9K,EAAEuD,OAAOjP,KAAM0L,EAAEuD,OAAOrR,UAI3B1D,EAAc,SAACE,EAAO0B,GACT,cAAXA,GAGJqR,GAAa,IAQXyI,EAAa,uCAAG,WAAMlK,GAAN,SAAA1O,EAAA,sDAClB0O,EAAE2D,iBACFqH,IAFkB,2CAAH,sDAKbA,EAAU,uCAAG,sBAAA1Z,EAAA,+EAGPmC,IAAMoH,KAAK,mCAAmCiQ,GAHvC,OARf5Z,EAAQoB,KA3BM,UAmCC,gDAUfmP,GAAa,GACblQ,QAAQC,IAAR,MAXe,yDAAH,qDAehB,OACI,gCACI,uBACA,uBACA,uBACE,oBAAIe,UAAU,cAAd,0BACN,sBAAKA,UAAU,8BAAf,UAGM,sBAAOA,UAAU,oBAAoBgY,SAAUL,EAA/C,SACE,eAACxQ,GAAA,EAAD,CAAMC,WAAS,EAAC6Q,UAAU,SACtBC,QAAQ,SACR7J,WAAW,SAFf,UAII,cAAClH,GAAA,EAAD,CAAMI,MAAI,EAAV,SACI,cAAC6Q,GAAA,EAAD,CACI5V,MAAM,OACNT,KAAK,OACLgP,SAAY2G,MAI5B,cAACvQ,GAAA,EAAD,CAAMI,MAAI,EAAV,SACI,cAAC6Q,GAAA,EAAD,CACE5V,MAAM,WACNT,KAAK,WACLgP,SAAY2G,MAGZ,cAACvQ,GAAA,EAAD,CAAMI,MAAI,EAAV,SACF,cAAC6Q,GAAA,EAAD,CACE3b,GAAG,0BACH+F,MAAM,WACNT,KAAK,WACLgP,SAAY2G,EACZW,aAAa,uBAGb,uBACF,cAACxb,EAAA,EAAD,CAAQS,QAAQ,YACd6C,MAAO,CAACiU,cAAe,QACvBnX,MAAM,UACNjB,KAAK,SACLgE,UAAU,uBAJZ,0BAaR,cAAClC,EAAA,EAAD,CAAU/B,KAAMkT,EAAWlR,iBAAkB,KAAM1B,QAASJ,EAA5D,SACE,cAAC,GAAD,CAAOI,QAASJ,EAAauB,SAAS,QAAtC,qCCkHKkb,OApOf,SAAoBtb,GAEhB,IAEA,EAAqCkB,oBAAS,GAA9C,mBAAOqQ,EAAP,KAAmBC,EAAnB,KACA,EAAiCtQ,mBAAS,IAA1C,mBAAQuQ,EAAR,KAAkBC,EAAlB,KACA,EAAiCxQ,mBAAS,CACxCyD,KAAK,GACL4W,YAAY,KAFd,mBAAQ5F,EAAR,KAAkByB,EAAlB,KAIA,EAAiClW,mBAAS,GAA1C,mBAAQyQ,EAAR,KAAkBC,EAAlB,KACA,EAAkC1Q,oBAAS,GAA3C,mBAAO2Q,EAAP,KAAkBC,EAAlB,KACA,EAAgC5Q,mBAAS,SAAzC,mBAAOmR,EAAP,KAAiBC,EAAjB,KACA,EAAoCpR,mBAAS,wBAA7C,mBAAOqR,EAAP,KAAmBC,EAAnB,KACMjR,EAAYC,cAUZga,EAAU,uCAAG,WAAO9X,GAAP,eAAA/B,EAAA,sEAGTgC,EAAS,CACbC,QAAQ,CACPC,cAAc,UAAD,OAAYH,KALb,SASTI,IAAMoH,KA/BA,kCA+BayK,EAAShS,GATnB,OANjBpC,EAAQoB,KAAK,CACX8Y,SAhBa,SAiBbC,YAAY,IAIG,gDAgBb9Z,QAAQC,IAAR,MAhBa,yDAAH,sDAqBV8Z,EAAiB,uCAAG,WAAM9H,GAAN,iBAAAlS,EAAA,6DAEtB+P,EAAYmC,EAAM,GAAGlP,OAEfoG,EAAW,IAAIC,UAEZC,OAAO,OAAO4I,EAAM,IANP,kBAUF/P,IAAMoH,KAAK,6CAA6CH,EAAS,CACjFnH,QAAS,CACP,eAAgB,uBAElBkP,iBAAkB,SAAAC,GAChBnB,EAAYzI,SAASf,KAAKqD,MAA4B,IAArBsH,EAAcC,OAAYD,EAAchL,YAfzD,OAUd/D,EAVc,OAmBpBoT,EAAY,2BACPzB,GADM,IAET4F,YAAavX,EAAI9B,KAAKkU,OAExB5D,EAAcxO,EAAI9B,KAAK7B,KAvBH,kDA4BQ,KAAvB,KAAIiT,SAASC,OAEhB3R,QAAQC,IAAI,4BAIZyQ,EAAY,KAAIgB,SAASpR,KAAK7B,KAC9BuR,EAAY,GACZE,GAAa,IApCK,0DAAH,sDAgEf4B,EAAc,SAAChJ,GACJ,aAAVA,EAEHoH,GAAa,IAIbJ,EAAY,IACZE,EAAY,KAGV+B,EAAQ,uCAAE,WAAMtD,GAAN,SAAA1O,EAAA,sDAGT0O,EAAEuD,OAAOC,MAAM1Q,OAAS,IAE3BwY,EAAkBtL,EAAEuD,OAAOC,OAC3BxD,EAAEuD,OAAOrR,MAAQ,MANL,2CAAF,sDAoBhB,OACI,gCACI,uBACA,qBAAKK,UAAU,eAAf,SAEA,uBAEY+Q,SA3DQ,SAACtD,GACzB+G,EAAY,2BACPzB,GADM,mBAERtF,EAAEuD,OAAOjP,KAAM0L,EAAEuD,OAAOrR,UAyDXQ,MAAO,CAACwT,QAAQ,GAChB3X,KAAK,OACL0X,YAAY,kBACZ1T,UAAU,iDACV+B,KAAK,WAGjB,uBACA,gCACA,qBAAK/B,UAAU,UAAf,wCACN,uBACA,sBACEA,UAAS,sCAAkC2O,EAAe,gCAAiC,mBAC3FuC,YA3DyB,SAACL,GAC1BjC,EAAeiC,IA0DmB9T,KAAKC,MAAK,GAAOmU,WAxD5B,SAAC1D,GACxBA,EAAE2D,kBAuDkFC,OAnEhE,SAAC5D,GACrBA,EAAE2D,iBACFxC,GAAe,GAEhBmK,EAAkBtL,EAAE6D,aAAaL,OAChCxD,EAAE6D,aAAa3R,MAAQ,MA4DzB,UAIE,eAAC6R,GAAA,EAAD,CAAUC,GAAc,GAAV1C,EAAd,UACE,+BACE,gCACE,uBACC2C,OAAO,OACPvR,MAAO,CAACiO,QAAQ,QACjB3R,GAAG,cAAcT,KAAK,OAAO+U,SAAUA,IACvC,uBAAOY,QAAQ,cAAc3R,UAAU,qBAAvC,8BAGJ,kDACA,0BAGF,cAACwR,GAAA,EAAD,CAAUC,GAAIxC,EAAd,SACE,cAAC9R,EAAA,EAAD,CACIK,SAAS,QACTsK,OACE,cAAC7H,EAAA,EAAD,CAAYS,aAAW,QAAQzD,MAAM,UAAU8K,KAAK,QAAQjL,QAAUgU,EAAY/T,KAAKC,KAAK,aAA5F,SACE,cAAC,KAAD,CAAY2D,SAAS,cAJ7B,SAQG8O,MAIL,eAAC+B,GAAA,EAAD,CAAUC,GAAc,GAAV1C,EAAd,UAEE,4BAAIF,IACJ,uBACA,cAAC,GAAD,CAAyBlP,MAAOoP,OAIlC,cAACyC,GAAA,EAAD,CAAUC,GAAe,KAAV1C,EAAf,SACE,cAAC5R,EAAA,EAAD,CACI2K,OACE,cAAC7H,EAAA,EAAD,CAAYS,aAAW,QAAQzD,MAAM,UAAU8K,KAAK,QAAQjL,QAAWgU,EAAY/T,KAAKC,KAAK,KAA7F,SACE,cAAC,KAAD,CAAY2D,SAAS,cAH7B,SAOGgP,YAKT,uBACA,cAAC6B,GAAA,EAAD,CAAUC,GAAe,KAAV1C,EAAf,SACA,qBAAK/O,UAAU,eAAf,SACI,wBACIlD,QApFqB,WAE7B,IAAIgE,EAAQ3B,OAAOC,aAAaC,QAAQ,SAEpCuZ,EAAW9X,IAiFPd,UAAU,kBACVhE,KAAO,SAHX,iC,OCjMOgd,OArBf,YAAqC,IAArB1O,EAAoB,EAApBA,OAAOzF,EAAa,EAAbA,KAAKiF,EAAQ,EAARA,OACxB,OAAS,eAACW,GAAA,EAAD,CACGC,IAAOJ,EACPF,OAAWN,EAAOvJ,OAAO,EAAG6D,GAAa0F,EAAO,GAAGA,EAAOA,EAAOvJ,OAAO,IACpE,CACAgE,IAAI,YACJE,IAAI,eAGRI,KAAMA,EART,UAUO,cAAC8F,GAAA,EAAD,CACIC,IAAI,qDACJC,YAAc,0FAEd,cAAC,KAAD,CAAmBb,SAAS,YAChC,cAAC,GAAD,CAASF,OAASA,QCoEvBmP,OAvFf,YAEC,IAFwB3V,EAEzB,EAFyBA,QAAQhE,EAEjC,EAFiCA,KAAK4Z,EAEtC,EAFsCA,cAAcC,EAEpD,EAFoDA,cAAcC,EAElE,EAFkEA,cAC1CC,EACxB,EADwBA,aAAa7Y,EACrC,EADqCA,IAEjC,OACI,cAAC,IAAD,CAEQyG,WAAY,CACJuG,QAAS,SAAApQ,GAAK,OACV,qBACAE,QAAQ,QACR6C,MAAO,CAAEsC,gBAAiB,WAF1B,SAGI,cAAC,gBAAD,eAEIrF,QAIpBkG,QAASA,EACThE,KAAQA,EACRsD,QAAU,CACNgL,oBAAoB,EACpB7J,YAAa,QACb8J,cAAe,IACfyL,WAAU,EACVtV,QAAO,EACPC,QAAO,EACP6J,WAAU,EACVC,cAAa,EAETpK,YAAa,CACT2D,WAAY,UACZrK,MAAO,OACPyG,UAAU,SACV/C,SAAS,KAEb8C,UAAW,CACPC,UAAU,SACV/C,SAAS,MACrBwD,SAAU,CACNoV,SAAU,SAAAC,GAAO,OACjB,IAAIC,SAAQ,SAACC,EAAQC,GACjBtJ,YAAW,WAEP8I,EAAcK,GACdH,EAAa,GAAD,mBAAK/Z,GAAL,CAAUka,KAEtBE,MACF,SAENE,YAAa,SAACJ,EAASK,GAAV,OACb,IAAIJ,SAAQ,SAACC,EAASC,GACtBtJ,YAAW,WACP+I,EAAc5Y,EAAIgZ,GAClB,IAAMM,EAAU,YAAOxa,GAEvBwa,EADcD,EAAQE,UAAUtd,IACZ+c,EACpBH,EAAa,YAAIS,IAEjBJ,MACD,SAEHM,YAAa,SAAAH,GAAO,OAChB,IAAIJ,SAAQ,SAACC,EAASC,GAClBtJ,YAAW,WAEX6I,EAAcW,GAEd,IAAMI,EAAU,YAAO3a,GACjBqJ,EAAQkR,EAAQE,UAAUtd,GAChCwd,EAAWC,OAAOvR,EAAO,GACzB0Q,EAAa,YAAIY,IAEjBP,MACG,UAGf7S,QAAS,CACL,CACAC,KAAMqT,KACNpT,QAAS,cACTjK,QAAS,SAACX,EAAO6K,GAAR,OAAoBrC,GAAgBnE,EAAIwG,SCnF/DpG,GAAW,uCAEJwZ,GAAc,uCAAG,WAAOC,GAAP,SAAAtb,EAAA,+EAGfmC,IAAMM,OAAOZ,GAASyZ,EAAI5d,IAHX,OAKtBuC,QAAQC,IAAI,oBALU,+CAStBD,QAAQC,IAAR,MATsB,wDAAH,sDAadqb,GAAc,uCAAG,WAAOD,GAAP,SAAAtb,EAAA,+EAGhBmC,IAAMqZ,IAAI3Z,GAASyZ,EAAI5d,GAAG+d,GAAgBH,IAH1B,OAKtBrb,QAAQC,IAAI,oBALU,+CAStBD,QAAQC,IAAR,MATsB,wDAAH,sDAadwb,GAAc,uCAAG,WAAOJ,GAAP,SAAAtb,EAAA,+EAGhBmC,IAAMoH,KAAK1H,GAASyZ,EAAI5d,GAAG+d,GAAgBH,IAH3B,OAKvBrb,QAAQC,IAAI,oBALW,+CASvBD,QAAQC,IAAR,MATuB,wDAAH,sDAarBub,GAAkB,SAACH,GACrB,MAAO,CAEHzR,SAAU,CACN5M,KAAMqe,EAAIre,KACV8M,YAAc,CAACuR,EAAI7V,SAAU6V,EAAI3V,YAGrCsE,KAAK,CACDpC,aAAcyT,EAAIzT,aAClBqC,OAAQoR,EAAItR,UCnDXzF,GAAS,CAClB,CACIpF,MAAM,KACNqF,MAAM,QACNY,SAAS,QACTX,MAAO,MAGX,CACItF,MAAM,OACNqF,MAAM,OACNC,MAAO,MACPkX,OAAQ,CAAE,IAAO,MAAO,GAAM,KAAK,GAAM,KAAK,MAAS,QAAQ,OAAU,UACzExW,SAAQ,GAIZ,CACIhG,MAAM,WACNqF,MAAM,WACNvH,KAAO,UACPwH,MAAO,MACPU,SAAQ,GAGZ,CACIhG,MAAM,YACNqF,MAAM,YACNvH,KAAO,UACPwH,MAAO,MACPU,SAAQ,GAIZ,CACIhG,MAAM,aACNqF,MAAM,SACNvH,KAAO,UACPwH,MAAO,MACPmX,SAAU,SAAA3T,GAAO,OAAOA,EAAQ+B,QAAQ,GAAK/B,EAAQ+B,QAAQ,KAAO,CAAC6R,SAAS,EAAOC,WAAY,mCAGrG,CACI3c,MAAM,eACNqF,MAAM,eACNC,MAAO,MACPmX,SAAU,SAAA3T,GAAO,QAAMZ,GAAqBY,EAAQJ,eAAe,CAACgU,SAAS,EAAOC,WAAY,4BAChG3W,SAAQ,IC0CD4W,OAhFf,WAGI,IAAMxQ,EAASe,mBAEf,EAAqB/M,mBAAS,MAA9B,mBAAOkC,EAAP,KAAW8K,EAAX,KACA,EAAwBhN,mBAAS,IAAjC,mBAAOgB,EAAP,KAAY4N,EAAZ,KAuCA,OAfAhL,qBAAU,WACF5C,EAAKiB,OAAQ,GAEbnB,aAAaU,QAAQ,YAAYF,KAAKC,UAAUP,MAEtD,CAACA,IAEH4C,qBAAU,YA3Ba,WAEnB,IAAIqI,EAAUnL,aAAaC,QAAQ,aACnC,GAAIkL,EAEAA,EAAW3K,KAAK0N,MAAM/C,GACtB2C,EAAQ3C,OAGZ,CACI,IAAI6C,EAAQhO,aAAaC,QAAQ,SAC9B+N,IAECA,EAAQxN,KAAK0N,MAAMF,GAEnBF,EAAQzE,GAAiB2E,EAAM7C,cAcvCwQ,GAEAzP,EAAOhB,EAAO+B,QAAQC,kBAExB,IAGE,gCACI,eAACnF,GAAA,EAAD,CAAMC,WAAS,EAAE8Q,QAAQ,SAAzB,UAEI,cAAE/Q,GAAA,EAAF,CAAOI,MAAI,EAACC,GAAI,EAAhB,SACI,cAAC,GAAD,CACI8C,OAAQA,EACRzF,KAAM,GACNiF,OAASxK,MAIjB,cAAC6H,GAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SAEI,cAAC,GAAD,CACIlE,QAASA,GACThE,KAAMA,EACN4Z,cAAekB,GACfjB,cAAesB,GACfrB,cAAekB,GACfjB,aAzDC,SAACG,GAAD,OAAWtM,EAAQsM,IA0DpBhZ,IAAKA,SAKjB,uBAEA,uBACA,uBACA,2B,+DCnFNI,GAAU,4CAGFoa,GAAmB,uCAAG,WAAO/S,GAAP,SAAAlJ,EAAA,+EAIrBmC,IAAMM,OAAOZ,GAASqH,GAJD,sDAU5BjJ,QAAQC,IAAR,MAV4B,wDAAH,sDAiBpBgc,GAAmB,uCAAG,WAAOC,GAAP,SAAAnc,EAAA,+EAKvBmC,IAAMqZ,IAAI3Z,GAASsa,EAAcze,GACXye,GANC,OAO7Blc,QAAQC,IAAI,2BAPiB,+CAa3BD,QAAQC,IAAR,MAb2B,wDAAH,sDC2FjBkc,OA3Gf,YAaC,IAXGrI,EAWJ,EAXIA,aACAxP,EAUJ,EAVIA,QACAhE,EASJ,EATIA,KACA8b,EAQJ,EARIA,UACAC,EAOJ,EAPIA,YACAC,EAMJ,EANIA,eACAC,EAKJ,EALIA,iBACAC,EAIJ,EAJIA,iBAKA,OAAQ,cAAC,IAAD,CACJ7N,UAAWmF,EACX7L,WAAY,CACJuG,QAAS,SAAApQ,GAAK,OACV,qBACAE,QAAQ,QACR6C,MAAO,CAAEsC,gBAAiB,WAF1B,SAGI,cAAC,gBAAD,eAEIrF,QAIpBkG,QAASA,EACThE,KAAQA,EACRsD,QAAU,CACNgL,oBAAoB,EACpB7J,YAAa,QACb8J,cAAe,IACfyL,WAAU,EACVtV,QAAO,EACPC,QAAO,EACP6J,WAAU,EAENnK,YAAa,CACT2D,WAAY,UACZrK,MAAO,OACPyG,UAAU,SACV/C,SAAS,KAEb8C,UAAW,CACPC,UAAU,SACV/C,SAAS,MACrBwD,SAAU,CAENyV,YAAa,SAACJ,EAASK,GAAV,OACb,IAAIJ,SAAQ,SAACC,EAASC,GACpBtJ,YAAW,WAILgL,IAEE7B,EAAQiC,cAAe,EACvBH,GAAe,IAKrBL,GAAoBzB,GAEpB+B,IAEA,IAAMzB,EAAU,YAAOxa,GAEvBwa,EADcD,EAAQE,UAAUtd,IACZ+c,EACpB4B,EAAU,YAAItB,IAEdJ,MACC,SAELM,YAAa,SAAAH,GAAO,OAChB,IAAIJ,SAAQ,SAACC,EAASC,GAIlBtJ,WAAU,sBAAC,8BAAAtR,EAAA,+EAGDic,GAAoBnB,EAAQpd,IAH3B,OAIP+e,GAAiB,GAJV,+CAQPxc,QAAQC,IAAR,MARO,OAULgb,EAVK,YAUY3a,GACjBqJ,EAAQkR,EAAQE,UAAUtd,GAChCwd,EAAWC,OAAOvR,EAAO,GACzByS,EAAU,YAAInB,IAEdP,IAfW,yDAgBR,aCwLRgC,OAlRf,WAGI,MAAsCpd,oBAAS,GAA/C,mBAAOwU,EAAP,KAAoB6I,EAApB,KAEA,EAA+Crd,oBAAS,GAAxD,mBAAOsd,EAAP,KAAwBC,EAAxB,KACA,EAAqCvd,oBAAS,GAA9C,mBAAOwd,EAAP,KAAmBC,EAAnB,KACA,EAAqCzd,oBAAS,GAA9C,mBAAO0d,EAAP,KAAmBC,EAAnB,KACA,EAAqC3d,oBAAS,GAA9C,mBAAO4d,EAAP,KAAmBC,EAAnB,KAEA,EAAmC7d,oBAAS,GAA5C,mBAAO+c,EAAP,KAAmBe,EAAnB,KAEA,EAAwB9d,mBAAS,IAAjC,mBAAOgB,EAAP,KAAY4N,EAAZ,KACA,EAA6B5O,mBAAS,CACpC,CACIJ,MAAM,YACNqF,MAAM,sBACNY,SAAS,QACTX,MAAO,OAGX,CACItF,MAAM,WACNqF,MAAM,sBACNC,MAAO,MACPW,SAAS,QACT2J,WAAU,GAKd,CACI5P,MAAM,aACNqF,MAAM,aAENC,MAAO,MACPsK,WAAU,EACV6M,SAAU,SAAA3T,GAAO,QAAMZ,GAAqBY,EAAQqV,aAAa,CAACzB,SAAS,EAAOC,WAAY,6BAGlG,CACI3c,MAAM,eACNqF,MAAM,eAENC,MAAO,MACPsK,WAAU,EACV6M,SAAU,SAAA3T,GAAO,QAAMZ,GAAqBY,EAAQsV,eAAe,CAAC1B,SAAS,EAAOC,WAAY,6BAGpG,CACI3c,MAAM,iBACNqF,MAAM,iBACNuK,WAAU,EACVtK,MAAO,MACPmX,SAAU,SAAA3T,GAAO,QAAMZ,GAAqBY,EAAQuV,iBAAiB,CAAC3B,SAAS,EAAOC,WAAY,6BAItG,CACI3c,MAAM,MACNqF,MAAM,aACNE,UAAU,CACNC,UAAU,SACV/C,SAAS,KAEbmN,WAAU,EACV0O,OAAQ,SAACxV,GAAD,OACRA,GAEA,8BAEMA,EAAQyU,aACV,8BAEY,cAACvb,EAAA,EAAD,CAAShC,MAAM,eAAf,SACA,cAAC,KAAD,CAAiByC,SAAS,QAAQR,MAAO,CAACsc,KAAM,iBAKlD,8BACI,cAACvc,EAAA,EAAD,CAAShC,MAAM,kBAAf,SACA,cAAC,KAAD,CAAYyC,SAAS,QAAQR,MAAO,CAACsc,KAAM,gBAS7DC,cAAe,SAAC1V,GAAD,OACfA,GAEI,gCAEM,uBACA7G,MAAO,CAACiO,QAAQ,QAChBsD,OAAO,OACPjV,GAAG,wBACHkgB,UAAQ,EACR3gB,KAAK,OACL+U,SAAU,SAACtD,GAAD,OAAKmP,EAAoB5V,EAAQA,QAAQvK,GAAGgR,MAEpD,uBAAOkE,QAAQ,wBAAf,SAEY,cAACzR,EAAA,EAAD,CAAShC,MAAM,aAAf,SACJ,cAAC+B,EAAA,EAAD,CAAY4c,UAAU,OAAtB,SACN,cAAE,KAAF,CAAclc,SAAS,QAAUR,MAAO,CAACsc,KAAM,wBA/FnE,mBAAOnZ,EAAP,KAoHMsZ,GApHN,KAoHyB,uCAAE,WAAO3U,EAAiBwF,GAAxB,SAAA1O,EAAA,2DAEpB0O,EAAEuD,OAAOC,MAAM1Q,OAAS,GAFJ,iCAMrBwb,GAAe,GANM,SAOf/T,GAAkBC,EAAiBwF,EAAEuD,OAAOC,MAAM,IAPnC,OAQrBmL,GAAa,GACbP,GAAoB,GACpBE,GAAe,GAVM,kDAerB/c,QAAQC,IAAR,MAfqB,QAiBvBwO,EAAEuD,OAAOrR,MAAQ,KAjBM,0DAAF,yDA2BnBmd,EAAuB,SAAC9G,GAE1B,IAAI+G,EAAW,GAkBb,OAdF/G,EAAQ5Q,SAAQ,SAAC4X,EAAO1X,GAEtByX,EAAWhd,KAAM,CACftD,GAAGugB,EAAOlb,IACVmb,oBAAoBD,EAAOE,WAAWnb,KAAK,IAAIib,EAAOE,WAAWC,SACjEC,oBAAoBJ,EAAOE,WAAW3P,aAAaxL,KACnDsa,WAAWW,EAAOX,WAClBC,aAAcU,EAAOV,aACrBC,eAAeS,EAAOT,eACtBd,aAAauB,EAAOvB,kBAKfsB,GAINM,EAAmB,uCAAG,WAAQ7Q,EAASgJ,GAAjB,eAAAzW,EAAA,+EAGHwW,GAAqC/I,EAASgJ,GAH3C,OAGnBQ,EAHmB,OAIzB9I,EAAS4P,EAAqB9G,IAE9B2F,GAAgB,GANS,gDAUzB3c,QAAQC,IAAR,MAVyB,yDAAH,wDAqC1B,OArBCiD,qBAAU,WAEP,IAAIkL,EAAQhO,aAAaC,QAAQ,SAC7BgO,EAAWjO,aAAaC,QAAQ,YAE/B+N,GAASC,IAEZD,EAAQxN,KAAK0N,MAAMF,GACnBC,EAAWzN,KAAK0N,MAAMD,GAIpBgQ,EAAoBjQ,EAAMtL,IAAIuL,EAASE,aAAazL,QAKxD,IAIK,gCACN,qBAAK9B,UAAU,eAAf,SAGD,qBAAKA,UAAU,uBAAf,SACE,cAAC,GAAD,CACI8S,aAAgBA,EAChBxP,QAAWA,EACXhE,KAAMA,EACN8b,UAzGU,SAAC5B,GAAD,OAAYtM,EAAQsM,IA0G9B6B,YAAeA,EACfC,eAxGe,SAAChI,GAAD,OAAa8I,EAAa9I,IAyGzCiI,iBAxGiB,kBAAOU,GAAe,IAyGvCT,iBAxGiB,kBAAKW,GAAe,UA4GzC,cAAC,EAAD,CACEpgB,KAAM+f,EACNte,SAAS,OACTC,IAAI,sCACJC,iBAAiB,EACjBC,aAxFc,kBAAMoe,GAAe,IAyFnCne,UAAU,IAGZ,cAAC,EAAD,CACE7B,KAAM6f,EACNpe,SAAS,UACTC,IAAI,eACJC,iBAAiB,EACjBC,aAlGwB,kBAAMke,GAAoB,IAmGlDje,UAAU,IAIZ,cAAC,EAAD,CACE7B,KAAMigB,EACNxe,SAAS,UACTC,IAAI,eACJC,iBAAiB,EACjBC,aA1GmB,kBAAMse,GAAe,IA2GxCre,UAAU,IAIV,cAAC,EAAD,CACA7B,KAAMmgB,EACN1e,SAAS,UACTC,IAAI,yBACJC,iBAAiB,EACjBC,aAnHmB,kBAAMwe,GAAe,UCvCnCmB,OAtHf,SAAelgB,GAEX,MAAuCkB,mBAAS,IAAhD,mBAAOif,EAAP,KAAoBC,EAApB,KACA,EAAiClf,oBAAU,GAA3C,mBAAOmf,EAAP,KAAiBC,EAAjB,KACA,EAAkCpf,qBAAlC,mBAAO+T,EAAP,KAAkBC,EAAlB,KACA,EAA6BhU,mBAAS,CAClC,CACI7B,GAAK,EACLsF,KAAK,YACLuR,QAAQ,GAEZ,CACI7W,GAAK,EACLsF,KAAK,sBACLuR,QAAQ,GAEZ,CACI7W,GAAK,EACLsF,KAAK,UACLuR,QAAQ,KAdhB,mBAAO1Q,EAAP,KAAeuP,EAAf,KAmBA,EAA4C7T,mBACxC,CACI7B,IAAM,EACNsF,KAAK,GACLuR,QAAQ,IAJhB,mBAAOoB,EAAP,KAAuBC,EAAvB,KA4DA,OApBAzS,qBAAU,WAEN,IAAIkL,EAAQjO,OAAOC,aAAaC,QAAQ,SACpCgO,EAAWlO,OAAOC,aAAaC,QAAQ,YAC3C,GAAI+N,GAASC,EACb,CACID,EAAOxN,KAAK0N,MAAMF,GAClBC,EAAUzN,KAAK0N,MAAMD,GACrBiF,EAAalF,GACboQ,EAAgBnQ,EAASE,aAAaxL,MAEtC/C,QAAQC,IAAImO,GACZ,IAAI4H,EAAQ5V,aAAaC,QAAQ,WAEjCsV,EAAmBK,EAAQpS,EAAQoS,GAAQpS,EAAQ,IAvBrC,WAClB,IAAIsR,EAAU,YAAMtR,GAChBoS,EAAQ5V,aAAaC,QAAQ,WAEjCD,aAAa6V,WAAW,WAExBf,EAAYc,GAAe,GAAG1B,QAAS,EACvCnB,EAAW+B,GAiBPgB,MAEN,IAIE,gCACI,uBACA,gCAAK,oBAAIlV,UAAU,cAAd,SAA8BqS,EAAWA,EAAUtQ,KAAK,eAC7D,oBAAI/B,UAAU,cAAd,SAA8Bud,GAA2B,kBADzD,OAGA,uBAEA,qBAAKvd,UAAU,eAAf,SACI,cAAC,GAAD,CACI4C,QAASA,EACT0S,mBA/DW,SAAA3M,GAAK,OAAI,SAAA8E,GAEhC,IAAIyG,EAAU,YAAMtR,GACpBsR,EAAW9O,SAAQ,SAAC4P,GAChBA,EAAO1B,QAAS,KAIjBmK,GAAW9U,IAEVvJ,aAAa6V,WAAW,WACxB7V,aAAaU,QAAQ,UAAU6I,GAC/BxJ,OAAOyJ,SAAS0H,UAGpB4D,EAAWvL,GAAO2K,QAAQ,EAC1BqB,EAAkBT,EAAWvL,IAE7BwJ,EAAW+B,GACXwJ,EAAa/U,SA+CL,uBACJ,cAAC6I,GAAA,EAAD,CAAUC,GAAwB,GAAnBiD,EAAejY,GAA9B,SACQ,qBAAKuD,UAAU,eAAf,SACI,cAAC,GAAD,QAGZ,cAACwR,GAAA,EAAD,CAAUC,GAAwB,GAAnBiD,EAAejY,GAA9B,SACQ,cAAC,GAAD,MAER,cAAC+U,GAAA,EAAD,CAAUC,GAAwB,GAAnBiD,EAAejY,GAA9B,SACQ,cAAC,GAAD,CAAgBwR,UAAW,gB,kDCpEhC0P,OA1Cf,WAEE,IAAMhf,EAAUC,cAMVgf,EAAe,SAACC,EAAKpQ,GAEzB9O,EAAQoB,KAAK8d,IAGf,OAEI,cAACC,GAAA,EAAD,CACA3d,MAAO,CACLmH,WAAW,mBACXyW,SAAU,GAEZ/T,SAAS,SALT,SAME,eAAC,KAAD,WACE,qBAAKhK,UAAU,MAAf,SACE,cAACnD,EAAA,EAAD,CAAQC,QAAS8gB,EAAa7gB,KAAKC,KAnB7B,UAmB8CC,MAAM,UAA1D,SACA,cAACyK,GAAA,EAAD,CAAYpK,QAAQ,KAApB,8BAKF,8BACI,cAAC2C,EAAA,EAAD,CAAYnD,QAAS8gB,EAAa7gB,KAAKC,KAzBlC,UAyBoDC,MAAM,UAA/D,SACA,cAAC,KAAD,+B,oBC/BC,SAAS+gB,KAEpB,MAA+B1f,mBAAS,IAAxC,mBAAO2f,EAAP,KAAgBC,EAAhB,KACA,EAAuC5f,mBAAS,IAAhD,mBAAOif,EAAP,KAAoBC,EAApB,KACA,EAAiClf,mBAAS,IAA1C,mBAAO6f,EAAP,KAAiBC,EAAjB,KAEA,SAASlf,EAAY2e,EAAK1hB,GACtBA,EAAMiV,iBAEPzS,EAAQoB,KAAK8d,GAGhB,IAAMlf,EAAUC,cA8ClB,OA3CFsD,qBAAU,cAIR,IAEFA,qBAAU,WACN,OAAOvD,EAAQ0f,QAAO,SAACzV,GACpB,GAA+B,SAA3BjK,EAAQiK,SAASiQ,UAEZhX,EAAOzC,aAAaC,QAAQ,UAG5B6e,EAAYte,KAAK0N,MAAMzL,GAAME,WAG9B,GAA+B,aAA3BpD,EAAQiK,SAASiQ,SAC7B,CACK,IAAIhX,EAAOzC,aAAaC,QAAQ,QAC5BgO,EAAWjO,aAAaC,QAAQ,YAEhCwC,GAAQwL,IAER6Q,EAAYte,KAAK0N,MAAMzL,GAAME,MAC7Byb,EAAgB5d,KAAK0N,MAAMD,GAAUE,aAAaxL,YAGnD,GAA+B,UAA3BpD,EAAQiK,SAASiQ,SAC7B,CACShX,EAAOzC,aAAaC,QAAQ,QAC5BgO,EAAWjO,aAAaC,QAAQ,YADpC,IAEI+N,EAAQhO,aAAaC,QAAQ,SAG7BwC,GAAQwL,GAAYD,IAEpB8Q,EAAYte,KAAK0N,MAAMzL,GAAME,MAC7Byb,EAAgB5d,KAAK0N,MAAMD,GAAUE,aAAaxL,MAClDqc,EAAaxe,KAAK0N,MAAMF,GAAOrL,aAI5C,CAACpD,IAEA,gCAGmC,SAA3BA,EAAQiK,SAASiQ,UACjB,eAACyF,GAAA,EAAD,CAAa5d,aAAW,aAAaP,MAAO,CAACoe,WAAW,QAAxD,UACI,cAACC,GAAA,EAAD,CAAMvhB,MAAM,UAAUwhB,KAAK,IAAI3hB,QAASoC,EAAYnC,KAAKC,KAAK,UAA9D,mBAGA,cAACwhB,GAAA,EAAD,CACAvhB,MAAM,cACNwhB,KAAK,2BACL3hB,QAASoC,EAAYnC,KAAKC,KAAK,SAC/B0hB,eAAa,OAJb,SAMKT,OAKyB,aAA3Btf,EAAQiK,SAASiQ,UACjB,eAACyF,GAAA,EAAD,CAAa5d,aAAW,aAAaP,MAAO,CAACoe,WAAW,QAAxD,UACI,cAACC,GAAA,EAAD,CAAMvhB,MAAM,UAAUwhB,KAAK,IAAI3hB,QAASoC,EAAYnC,KAAKC,KAAK,UAA9D,mBAGA,cAACwhB,GAAA,EAAD,CACAvhB,MAAM,cACNwhB,KAAK,2BACL3hB,QAASoC,EAAYnC,KAAKC,KAAK,SAC/B0hB,eAAa,OAJb,SAMKT,IAEL,cAACO,GAAA,EAAD,CACAvhB,MAAM,cACNwhB,KAAK,2BACL3hB,QAASoC,EAAYnC,KAAKC,KAAK,aAC/B0hB,eAAa,OAJb,SAMKnB,OAKkB,UAA3B5e,EAAQiK,SAASiQ,UACjB,eAACyF,GAAA,EAAD,CAAa5d,aAAW,aAAaP,MAAO,CAACoe,WAAW,QAAxD,UACI,cAACC,GAAA,EAAD,CAAMvhB,MAAM,UAAUwhB,KAAK,IAAI3hB,QAASoC,EAAYnC,KAAKC,KAAK,UAA9D,mBAGA,cAACwhB,GAAA,EAAD,CACAvhB,MAAM,cACNwhB,KAAK,2BACL3hB,QAASoC,EAAYnC,KAAKC,KAAK,SAC/B0hB,eAAa,OAJb,SAMKT,IAEL,cAACO,GAAA,EAAD,CACAvhB,MAAM,cACNwhB,KAAK,2BACL3hB,QAASoC,EAAYnC,KAAKC,KAAK,aAC/B0hB,eAAa,OAJb,SAMKnB,IAEL,cAACiB,GAAA,EAAD,CACAvhB,MAAM,cACNwhB,KAAK,2BACL3hB,QAASoC,EAAYnC,KAAKC,KAAK,UAC/B0hB,eAAa,OAJb,SAMKP,UCxEbQ,OAhDf,WAGI,OACE,8BAEF,eAAC,IAAD,WACE,cAAC,GAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAUC,OAAK,EAACrT,KAAK,IAAIsT,GAAG,WAC5B,cAAC,IAAD,CAAOtT,KAAK,SAASiR,OAAS,SAACpf,GAAD,OAC5B,gCACE,uBACA,cAAC4gB,GAAD,eAAkB5gB,IACpB,cAAC,EAAD,eAAYA,UAEd,cAAC,IAAD,CAAOmO,KAAK,QAAQiR,OAAS,SAACpf,GAAD,OACpB,gCACA,uBACA,cAAC4gB,GAAD,eAAkB5gB,IACnB,cAAC,GAAD,eAAWA,UAEnB,cAAC,IAAD,CAAOmO,KAAK,YAAYiR,OAAS,SAACpf,GAAD,OACxB,gCACA,uBACF,cAAC4gB,GAAD,eAAkB5gB,IACzB,cAAC,GAAD,eAAeA,UAGf,cAAC,IAAD,CAAOmO,KAAK,SAASiR,OAAS,SAACpf,GAAD,OAAW,cAAC,GAAD,eAAYA,OACrD,cAAC,IAAD,CAAOmO,KAAK,UAAUiR,OAAS,SAACpf,GAAD,OAAW,cAAC,GAAD,eAAaA,OACvD,cAAC,IAAD,CAAOmO,KAAK,cAAciR,OAAS,SAACpf,GAAD,OAAW,cAAC,GAAD,OAC9C,cAAC,IAAD,CAAOmO,KAAK,SAASiR,OAAS,SAACpf,GAAD,OACpB,gCACA,uBACA,cAAC4gB,GAAD,eAAkB5gB,IACrB,cAAC,GAAD,eAAYA,UAGnB,cAAC,IAAD,UACE,cAAC,IAAD,CAAUyhB,GAAG,sB,OChDvBC,IAAStC,OAEP,cAAC,GAAD,IAEAuC,SAASC,eAAe,SAM1B5jB,M","file":"static/js/main.4c78d53b.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function AlertDialog({dialogHandler,open,type}) {\r\n \r\n\r\n\r\n  const handleClose = (agree,event) => {\r\n    \r\n    \r\n    if ( agree == true ) //Delete item\r\n    {    \r\n       dialogHandler(true);\r\n        return;\r\n    }\r\n\r\n\r\n    dialogHandler(false);\r\n\r\n    \r\n    \r\n    //Close handler\r\n\r\n  };\r\n\r\n  return (\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {\"Are you sure of delete this stage?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            All results and {type} data will be deleted.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose.bind(this,true)} color=\"secondary\">\r\n            Agree\r\n          </Button>\r\n          <Button onClick={handleClose.bind(this,false)} color=\"primary\" autoFocus>\r\n            Disagree\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n  export default Alert;","import React from 'react'\r\nimport {Snackbar } from '@material-ui/core'\r\n\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Alert from './Alert';\r\n\r\nfunction PopUpAlert(\r\n    {\r\n        open,\r\n        severity,\r\n        msg,\r\n        displayProgress,\r\n        onAlertClose,\r\n        autoHide,\r\n    }\r\n)\r\n{\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === \"clickaway\") {\r\n          return;\r\n        }\r\n        onAlertClose();\r\n    }\r\n\r\n\r\n    return (\r\n    <Snackbar open={open}  \r\n    autoHideDuration={(autoHide)?2000:null}  \r\n    onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity={severity}>\r\n         {msg}\r\n         {(displayProgress &&  <LinearProgress variant=\"indeterminate\"/>)\r\n          \r\n         }\r\n        </Alert>\r\n    </Snackbar>\r\n      )\r\n}\r\n\r\nexport default  PopUpAlert;","import React, {useState} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FindInPageIcon from '@material-ui/icons/FindInPage';\r\nimport {useHistory} from 'react-router-dom'\r\nimport {IconButton,Tooltip} from '@material-ui/core';\r\nimport AlertDialog from './AlertDialog';\r\nimport PopUpAlert from './PopUpAlert';\r\n\r\n\r\nfunction Card({\r\n    type,\r\n    title,\r\n    id,\r\n    next_URL,\r\n    deleteCardHandler,\r\n    fetchCardData\r\n\r\n}){\r\n    \r\n\r\n    \r\n    const [openDialog,setOpenDialog] = useState(false);\r\n    const [cardDeleted,setCardDeleted] = useState(false);\r\n    const history = useHistory();\r\n\r\n    const onEndAlertCardDeleted = ()=>{\r\n        setCardDeleted(false);\r\n    }\r\n    const handleCloseDialog = async (deleteItem)=>{\r\n        setOpenDialog(false);\r\n\r\n        if (deleteItem != true) return \r\n        \r\n        try\r\n        {\r\n            await deleteCardHandler(id);\r\n            setCardDeleted(true)   \r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(false);\r\n        }\r\n        \r\n        \r\n        \r\n\r\n    }\r\n\r\n    const handleClick = async ( ) => {\r\n     \r\n        \r\n        const token = window.localStorage.getItem('token')\r\n        try\r\n        {\r\n            var data = await fetchCardData(id)\r\n            //Save in localstorage\r\n            saveInLocalStorage(data);\r\n               \r\n            loadNextPage()\r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(err);\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    const saveInLocalStorage = (data)=>{\r\n\r\n        var key =  type.toLowerCase();\r\n        var value = JSON.stringify(data);\r\n        window.localStorage.setItem(  key, value )\r\n    }\r\n\r\n    const onDeleteHandler = ()=>{\r\n        \r\n        setOpenDialog(true);\r\n    \r\n    }\r\n\r\n    const loadNextPage = () =>{\r\n\r\n        history.push(next_URL)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className='card text-center border border-dark'>\r\n           <div className=\"card-body text-dark\"> \r\n           \r\n            <h4 className=\"overflow\">{title}</h4>\r\n\r\n            <IconButton \r\n                onClick = {handleClick}>\r\n                <Tooltip title={`Watch ${type}`}>\r\n                    <FindInPageIcon   style={{color:'black'}} />\r\n                </Tooltip>\r\n            </IconButton>\r\n\r\n            <IconButton \r\n                onClick = {onDeleteHandler}>\r\n                <Tooltip title={`Delete ${type}`}>\r\n                    <DeleteIcon  style={{color:'rgba(255,0,0,0.8)'}} />\r\n                </Tooltip>\r\n            </IconButton>\r\n\r\n           </div>\r\n           <AlertDialog\r\n            dialogHandler={handleCloseDialog}\r\n\r\n            open={openDialog}\r\n            type={type}\r\n           />\r\n            <PopUpAlert\r\n            open={cardDeleted}\r\n            severity=\"success\"\r\n            msg={`${type.toUpperCase()} Deleted`}\r\n            displayProgress={false}\r\n            onAlertClose={onEndAlertCardDeleted}\r\n            autoHide={true}\r\n\r\n\r\n            />\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n//Param verification\r\nCard.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    url: PropTypes.string\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from './Card'\r\nimport PropTypes from 'prop-types'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport '../../src/styles.css'\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nfunction Cards({\r\n    data,\r\n    type,\r\n    next_URL,\r\n    add_URL,\r\n    deleteCardHandler,\r\n    fetchCardData}){\r\n \r\n\r\n    const history   = useHistory();\r\n\r\n    const loadAddPage = () =>{\r\n\r\n        history.push(add_URL)\r\n    }\r\n\r\n    const handleAdd = () =>{\r\n        loadAddPage()\r\n    }\r\n    \r\n    return (\r\n        <div className=\"container\">\r\n            \r\n      \r\n            <div className=\"row\">\r\n                {            \r\n                        data.length>  0 && \r\n                        data.map(card =>(\r\n                        <div className=\"col-md-4\" key={card.id}>      \r\n                            <Card \r\n                            type={type} \r\n                            title={card.title} \r\n                            id ={card.id}\r\n                            next_URL={next_URL}\r\n                            deleteCardHandler={deleteCardHandler}\r\n                            fetchCardData ={fetchCardData}\r\n                            />\r\n                            </div>\r\n                       \r\n                    ))\r\n                  \r\n\r\n                } \r\n                {(type.toLowerCase()=='race') &&\r\n                        <div className=\"col-md-4 text-center custom-align\">      \r\n                        <IconButton \r\n                        onClick = {handleAdd}\r\n                        aria-label=\"delete\" className=\"svg_icons\" >\r\n                        <AddBoxIcon fontSize=\"large\" />\r\n                        </IconButton>\r\n                        </div>    \r\n                    }             \r\n            </div>\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nCards.propTypes = {\r\n    next_URL: PropTypes.string,\r\n    url: PropTypes.string\r\n}\r\n\r\n\r\nexport default Cards;","import axios from 'axios';\r\nconst BASE_URL= 'http://localhost:5000/api/races';\r\n\r\nexport const getRaces = async(token)=>{\r\n  try\r\n  {\r\n      const config = {\r\n          headers:{\r\n           Authorization: `Bearer ${token}`\r\n          }\r\n        }\r\n\r\n      var res = await  axios.get(BASE_URL,config)\r\n      return res.data;\r\n  }\r\n  catch(err)\r\n  {\r\n      console.log(err)\r\n  }\r\n}\r\n\r\n\r\nexport const getRace= async(race_id)=>{\r\n  \r\n  try\r\n  {\r\n    const  res =await  axios.get(`${BASE_URL}/${race_id}`)\r\n    return   res.data\r\n    \r\n  }\r\n  catch(err)\r\n  {\r\n    console.log(err)\r\n  }\r\n\r\n}\r\n\r\nexport const deleteRace= async(race_id)=>{\r\n  \r\n  try\r\n  {\r\n    const  res =await  axios.delete(`${BASE_URL}/${race_id}`)\r\n    return   res.data\r\n    \r\n  }\r\n  catch(err)\r\n  {\r\n    console.log(err)\r\n  }\r\n\r\n}","import React ,{ useEffect, useState}from \"react\";\r\nimport Cards from './Cards'\r\nimport { getRaces,getRace,deleteRace } from \"../services/race.services\";\r\n\r\nfunction Races(props){\r\n\r\n  \r\n    const [races,setRaces]= useState([])\r\n\r\n    const type=\"Race\"\r\n    const next_URL = \"/race\"\r\n    const add_URL = \"/createrace\"\r\n    \r\n\r\n    const fetchRaces =async (token) =>{\r\n        try\r\n        {  \r\n            var data = await  getRaces(token)\r\n            setRaces(data.map(race=>({\r\n                id : race._id,\r\n                title:race.name\r\n            })))\r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(err)\r\n        }\r\n\r\n    }\r\n\r\n    const handleDeleteRace =async (id) => {\r\n        \r\n        try\r\n        {\r\n            await deleteRace(id);\r\n            var token = window.localStorage.getItem('token');\r\n            \r\n            if(token)\r\n                fetchRaces( token );\r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n\r\n    const handleFetchRace =async (id) =>{\r\n        try\r\n        {\r\n            var data = await getRace(id);\r\n            return data\r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(err);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n    useEffect(()=>{\r\n        \r\n        var token = window.localStorage.getItem('token');\r\n        fetchRaces( token );\r\n        \r\n           \r\n        \r\n    },[])\r\n\r\n\r\n    return (\r\n        <div>\r\n            <br></br>\r\n            <div><h1 className=\"text-center\">Races</h1> </div>\r\n      \r\n            <br></br>\r\n            <Cards\r\n                data = {races}   \r\n                type={type} \r\n                next_URL={next_URL} \r\n                add_URL = {add_URL}\r\n                fetchCardData = {handleFetchRace}\r\n                deleteCardHandler={handleDeleteRace}\r\n            />  \r\n        \r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Races;","import React ,{ useEffect, useState}from \"react\";\r\n\r\n\r\n\r\nfunction Competitors(props){\r\n\r\n\r\n    return (\r\n        <div>\r\n      \r\n            <div><h1 className=\"text-center\">Table with competitors</h1> </div>\r\n           \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Competitors;","import React  from 'react'\r\nimport {Line} from 'react-chartjs-2'\r\n\r\nfunction ElevationGraph({elev})\r\n{\r\n\r\n    const config =  {\r\n        labels:elev,  \r\n       datasets: [\r\n        {\r\n          label: 'Elevation',\r\n          data: elev,\r\n          backgroundColor: 'rgb(255, 99, 132)',\r\n          borderColor: 'rgba(255, 99, 132, 0.2)',\r\n        },\r\n      ],\r\n    };\r\n    \r\n    return (\r\n        <div className=\"custom-container-80\">\r\n        <Line data={config} height={300} \r\n            options={{\r\n              maintainAspectRatio:false,\r\n              scales: {\r\n                y: {\r\n                    min: 500.5,\r\n                    max: 2500\r\n                },\r\n                x:{\r\n                  ticks: {\r\n                    autoSkip: true,\r\n                      maxTicksLimit: 2\r\n                        }\r\n                  }\r\n               \r\n            }\r\n        }} />\r\n        </div>\r\n    \r\n    )\r\n}\r\n\r\n\r\nexport default ElevationGraph","export const columns =[\r\n    {\r\n        title:'Position',\r\n        field:'position',\r\n        type:'numeric',\r\n        width: \"15%\",\r\n        cellStyle:{\r\n            backgroundColor: '#000',\r\n            color: '#FFF',\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            backgroundColor: '#000',\r\n            color:'#FFF',\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n    {\r\n        title:'Category',\r\n        field:'competitor_category',\r\n        width: \"15%\",\r\n        cellStyle:{\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            textAlign:'center', \r\n        }\r\n     \r\n       \r\n    },\r\n    {\r\n        title:'Start Time',\r\n        field:'start_time',\r\n        width: \"10%\",\r\n        cellStyle:{\r\n            backgroundColor: '#f2b200',\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            backgroundColor: '#f2b200',\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        }\r\n      \r\n    },\r\n    {\r\n        title:'Arrival Time ',\r\n        field:'arrival_time',\r\n        width: \"15%\",\r\n        cellStyle:{\r\n            backgroundColor: '#f2b200',\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            backgroundColor: '#f2b200',\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        }\r\n      \r\n    },\r\n    {\r\n        title:'Partial Time',\r\n        field:'partial_time',\r\n        width: \"15%\",\r\n        cellStyle:{\r\n            backgroundColor: '#f2b200',\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            backgroundColor: '#f2b200',\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        }\r\n      \r\n    },\r\n    {\r\n        title:'Neutralization',\r\n        field:'neutralization',\r\n        width: \"10%\",\r\n        cellStyle:{\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        }\r\n     \r\n    },\r\n    {\r\n        title:'Penalization',\r\n        field:'penalization',\r\n        width: \"10%\",\r\n        cellStyle:{\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        }\r\n     \r\n    },\r\n    {\r\n        title:'TOTAL',\r\n        field:'total',\r\n        width: \"10%\",\r\n        cellStyle:{\r\n            backgroundColor: '#000',\r\n            color: '#FFF',\r\n            textAlign:'center', \r\n        },\r\n        headerStyle: {\r\n            backgroundColor: '#000',\r\n            color:'#FFF',\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n]","import React from 'react'\r\nimport {columns} from './columns.js' \r\nimport Materialtable from 'material-table'\r\nfunction CompetitorResultTable({data})\r\n{\r\n    \r\n    const setNameAsTitle = () => {\r\n        return data[0].competitor_name+' '+data[0].competitor_lastname\r\n    } \r\n\r\n    return (\r\n        <Materialtable\r\n        columns = {columns}\r\n        data = {data}\r\n        title = {( data.length>0)?setNameAsTitle():'Competitor Name'}\r\n        options = {{\r\n         \r\n            tableLayout:'fixed',\r\n            search:false,\r\n            paging:false,\r\n            sorting:false\r\n        }}\r\n        />\r\n        )\r\n}\r\n\r\nexport default CompetitorResultTable;","export const columns = [\r\n    {\r\n        title:'Id',\r\n        field:'index',\r\n        editable:'never',\r\n        width: \"10%\",\r\n        cellStyle:{\r\n\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n    {\r\n        title:'Latitude',\r\n        field:'latitude',\r\n        width: \"15%\",\r\n        cellStyle:{\r\n\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n    {\r\n        title:'Longitude',\r\n        field:'longitude',\r\n        width: \"15%\",\r\n        cellStyle:{\r\n\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n    {\r\n        title:'Radius (m)',\r\n        field:'radius',\r\n        width: \"15%\",\r\n        cellStyle:{\r\n\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n    {\r\n        title:'Penalization Time',\r\n        field:'penalization',\r\n        width: \"10%\",\r\n        cellStyle:{\r\n            backgroundColor: '#000',\r\n            color: '#FFF',\r\n            textAlign:'center', \r\n        },\r\n        headerStyle: {\r\n            backgroundColor: '#000',\r\n            color:'#FFF',\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n]","export const setMapCenter = (first_item,last_item) => {\r\n    \r\n    return {\r\n        lat:(first_item.latitude+last_item.latitude)/2,\r\n        lng:(first_item.longitude+last_item.longitude)/2\r\n    }\r\n}\r\n\r\nexport const updateMapCenter = (map,point,zoom=16) =>  map.flyTo([point.latitude,point.longitude], zoom);\r\n    \r\n  \r\n","export  const HHMMSSToHours = (str)=>{\r\n  \r\n    \r\n    \r\n    try\r\n    {\r\n      var units = str.split(':')\r\n      var total = 0;\r\n      if( units.length == 3 )\r\n      {\r\n        units.forEach((unit,i)=>\r\n        {\r\n          total+=parseFloat(unit)/Math.pow(60,i);\r\n        })\r\n      }\r\n      \r\n      \r\n      return total;\r\n    }\r\n    catch(err)\r\n    {\r\n      return 0;\r\n    }\r\n    \r\n}\r\n\r\nexport const ajustUnitFormat = (unit)=>{\r\n    return (unit<10)?\"0\"+String(unit):String(unit)\r\n   } \r\n\r\nexport const hoursToHHMMSS = (hours) => {\r\n\r\n        var HH = Math.floor(hours)\r\n        var num = (hours-HH)*60\r\n        var MM = Math.floor(num)\r\n        var SS = Math.floor ((num-MM)*60)\r\n      \r\n      \r\n        return ajustUnitFormat(HH)+\":\"+\r\n               ajustUnitFormat(MM)+\":\"+\r\n               ajustUnitFormat(SS)\r\n\r\n      \r\n      \r\n      }\r\n\r\nexport const validateHHMMSSFormat = (t) => {\r\n  try\r\n  {\r\n    var units = t.split(':')\r\n    if(units.length !=3)\r\n      return false;\r\n    var i;\r\n      for( i = 0;i<units.length;i++)\r\n    {\r\n    \r\n      if (units[i].length!=2)\r\n        return false\r\n\r\n      if (! /^\\d+$/.test(parseInt(units[i])))\r\n      {\r\n          return false\r\n      }\r\n      \r\n    }\r\n\r\n    return true\r\n  }\r\n  catch(err)\r\n  {\r\n    return false;\r\n  }\r\n\r\n  \r\n}\r\n    ","import React from 'react'\r\nimport {columns } from './columns'\r\nimport Materialtable from 'material-table'\r\nimport {TablePagination,Grid,Typography,Divider} from '@material-ui/core'\r\nimport {updateMapCenter} from '../../utils/maptools'\r\nimport {HHMMSSToHours,hoursToHHMMSS} from '../../utils/timetools'\r\nimport {IconButton} from '@material-ui/core'\r\nimport ZoomInIcon from '@material-ui/icons/ZoomIn';\r\nfunction WaypointsMissedTable({data,map})\r\n{\r\n   \r\n    const getTotalPenalizationMissedWaypoints = () =>{\r\n        var sum = 0;\r\n        data.forEach((waypoint)=>{\r\n            \r\n             sum += HHMMSSToHours(waypoint.penalization)/60\r\n        })\r\n        \r\n        return hoursToHHMMSS(sum)\r\n    }\r\n\r\n\r\n\r\n    return ( <Materialtable\r\n        \r\n        columns = {columns}\r\n        data = {data}\r\n        title = 'Waypoints missed'\r\n        options = {{\r\n            tableLayout:'fixed',\r\n            search:false,\r\n            sorting:false,\r\n            \r\n        }}\r\n\r\n        actions={[\r\n           {\r\n             icon: 'save',\r\n             tooltip: 'Show in map',\r\n             onClick: (event, rowData) =>{\r\n               updateMapCenter(map,rowData)\r\n             } \r\n           }\r\n         ]}\r\n\r\n        components = {{\r\n            Pagination:(props) => (<div>\r\n               <Grid container style = {{padding:15, background:\"#f5f5f5\"}}>\r\n                   <Grid item sm={6} align='center'><Typography variant=\"subtitle2\">Total</Typography></Grid>\r\n                   <Grid item sm={6} align='center'><Typography variant=\"subtitle2\">{(data.length>0)?\"+\"+getTotalPenalizationMissedWaypoints():0}</Typography></Grid>\r\n               </Grid>\r\n               <Divider></Divider>\r\n               <TablePagination {...props}/>\r\n            </div>),\r\n            Action: props => (\r\n               <IconButton\r\n                 onClick={(event) => props.action.onClick(event, props.data)}\r\n                 variant=\"contained\"\r\n                 style={{color: '#000'}}\r\n                         \r\n                 size=\"small\"\r\n               >\r\n                <ZoomInIcon fontSize=\"large\" />\r\n                 </IconButton>\r\n           )\r\n        }}\r\n\r\n        >\r\n\r\n        </Materialtable>)\r\n}\r\n\r\nexport default WaypointsMissedTable;","import axios from 'axios'\r\n\r\nconst BASE_URL = 'http://localhost:5000/api/trackpoints'\r\n\r\nexport const uploadTrackpoints = async(partialResult_id,file) => {\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append('file',file);\r\n    formData.append('partialresult',partialResult_id);\r\n    try\r\n    {\r\n      await axios.post(BASE_URL+'/file',formData,{\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }  \r\n      });\r\n    }\r\n    catch(err)\r\n    {\r\n            \r\n       console.log(err)\r\n          \r\n    }\r\n \r\n\r\n  }\r\n\r\nexport const getTrackpoints =  async(competitor_id) =>\r\n{\r\n  try\r\n  {\r\n      const res = await axios.get(`${BASE_URL}/${competitor_id}`)\r\n     \r\n      return res.data\r\n  \r\n  }\r\n  catch ( err)\r\n  {\r\n      console.log(err)\r\n  }\r\n}\r\n\r\n","export const prepareWaypoints = (wps) => {\r\n    if (wps.length > 0)\r\n    {\r\n        return  wps.map((waypoint,i)=>({\r\n            id:waypoint._id,\r\n            index: i+1,\r\n            type: waypoint.location.type,\r\n            latitude: Math.round(waypoint.location.coordinates[0]*10000)/10000,\r\n            longitude:Math.round(waypoint.location.coordinates[1]*10000)/10000,\r\n            radius: waypoint.rule.ratius,\r\n            penalization: waypoint.rule.penalization,\r\n        }))        \r\n    }\r\n    return []\r\n}","import L from 'leaflet'\r\n\r\nexport const IconLocation = L.icon({\r\n    iconUrl: \"../assets/icon3.svg\",\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: [45, 45],\r\n    className: \"leaflet-venue-icon\",\r\n  });\r\n\r\n  export const IconLocation2 = L.icon({\r\n    iconUrl: \"../assets/icon2.svg\",\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: [45, 45],\r\n    className: \"leaflet-venue-icon\",\r\n  });\r\n\r\n  export const IconLocation3 = L.icon({\r\n    iconUrl: \"../assets/icon.svg\",\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: [45, 45],\r\n    className: \"leaflet-venue-icon\",\r\n  });\r\n\r\n  export const IconFlagFinish = L.icon({\r\n    iconUrl: \"../assets/flag_finish.svg\",\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: [60, 60],\r\n    className: \"leaflet-venue-icon\",\r\n  });\r\n\r\n  export const IconFlagStart = L.icon({\r\n    iconUrl: \"../assets/flag_start.svg\",\r\n    shadowUrl: null,\r\n    shadowSize: null,\r\n    shadowAnchor: null,\r\n    iconSize: [60, 60],\r\n    className: \"leaflet-venue-icon\",\r\n  });","import React from 'react'\r\n\r\nimport {Marker,Circle,Popup} from 'react-leaflet'\r\nimport {IconLocation,IconLocation2,IconLocation3,IconFlagFinish,IconFlagStart} from './IconLocation'\r\nimport { Typography } from '@material-ui/core';\r\nconst  Markers = ({points}) =>\r\n{\r\n  const markers = points.map(point => (\r\n    <div key = {point.index}>\r\n    <Marker\r\n        \r\n        position={[point.latitude,point.longitude]}\r\n        icon={(point.type=='WPM')?IconLocation\r\n        :(point.type=='FZ' || point.type=='DZ')?IconLocation2:\r\n        (point.type=='FINISH')?IconFlagFinish:\r\n        (point.type=='START')?IconFlagStart:\r\n        IconLocation3}\r\n    >\r\n      <Popup>\r\n      <Typography variant=\"subtitle2\" gutterBottom>\r\n      Id: {point.index}\r\n      </Typography>\r\n      <Typography variant=\"body2\" gutterBottom>\r\n      Type: {point.type}\r\n      </Typography>\r\n     \r\n        </Popup>\r\n    </Marker>\r\n    \r\n    <Circle\r\n      center={[point.latitude,point.longitude]}\r\n      radius={point.radius}\r\n      color={(point.type=='WPM')?'blue':\r\n      (point.type=='FZ' || point.type=='DZ')?'red':\r\n      'black'}\r\n    ></Circle>\r\n    </div>\r\n  ))\r\n\r\n  return (\r\n    markers\r\n  );\r\n \r\n    \r\n\r\n   \r\n\r\n};\r\n\r\nexport default  Markers;","import React from 'react'\r\n\r\nimport Markers from './Markers'\r\nimport FullscreenControl from 'react-leaflet-fullscreen';\r\nimport { Map, TileLayer,Polyline } from 'react-leaflet'\r\nimport {setMapCenter} from '../utils/maptools'\r\n\r\nfunction DetailedMap ({mapRef,waypoints,track,zoom}) {\r\n   \r\n    return (       <Map \r\n       \r\n        center = {(waypoints.length>0)?setMapCenter(waypoints[0],waypoints[waypoints.length-1]):\r\n            {\r\n            lat:'6.2441988',\r\n            lng:'-75.6177781'\r\n        }}\r\n        ref = {mapRef}\r\n        zoom={zoom}\r\n        >\r\n            <TileLayer\r\n             url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n             attribution = '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n            />\r\n            <FullscreenControl position=\"topleft\" />\r\n              <Markers points ={waypoints}/>\r\n             <Polyline pathOptions={{ color: 'lime' }} positions={track} />\r\n \r\n \r\n        </Map>)\r\n}\r\n\r\nexport default DetailedMap;","export const columns = [\r\n    {\r\n        title:'Id',\r\n        field:'id',\r\n        editable:'never',\r\n        width: \"10%\",\r\n        cellStyle:{\r\n\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n    {\r\n        title:'Average Speed',\r\n        field:'averageSpeed',\r\n        width: \"40%\",\r\n        cellStyle:{\r\n\r\n            textAlign:'center', \r\n            fontSize:'1'\r\n        },\r\n        headerStyle: {\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n   \r\n    {\r\n        title:'Penalization Time',\r\n        field:'penalization',\r\n        width: \"40%\",\r\n        cellStyle:{\r\n            backgroundColor: '#000',\r\n            color: '#FFF',\r\n            textAlign:'center', \r\n        },\r\n        headerStyle: {\r\n            backgroundColor: '#000',\r\n            color:'#FFF',\r\n            textAlign:'center', \r\n        }\r\n     \r\n    },\r\n]","import React from 'react'\r\nimport {columns } from './columns'\r\nimport Materialtable from 'material-table'\r\nimport {TablePagination,Grid,Typography,Divider} from '@material-ui/core'\r\nimport {updateMapCenter} from '../../utils/maptools'\r\nimport {HHMMSSToHours,hoursToHHMMSS} from '../../utils/timetools'\r\nimport {IconButton} from '@material-ui/core'\r\nimport ZoomInIcon from '@material-ui/icons/ZoomIn';\r\n\r\nfunction  DetailedSpeedTable({data,map})\r\n{\r\n\r\n  const getTotalPenalizationSpeed = () =>{\r\n    var sum = 0;\r\n    \r\n    data.forEach((point)=>{\r\n       \r\n         sum += HHMMSSToHours(point.penalization)\r\n    })\r\n    \r\n    return hoursToHHMMSS(sum)\r\n}\r\n    return (<Materialtable\r\n        \r\n        columns = {columns}\r\n        data = {data}\r\n        title = 'Speed points'\r\n        options = {{\r\n            tableLayout:'fixed',\r\n            search:false,\r\n            sorting:false,\r\n            \r\n        }}\r\n\r\n        actions={[\r\n           {\r\n             icon: 'save',\r\n             tooltip: 'Show in map',\r\n             onClick: (event, rowData) =>{\r\n               updateMapCenter(map,rowData)\r\n             } \r\n           }\r\n         ]}\r\n\r\n        components = {{\r\n            Pagination:(props) => (<div>\r\n               <Grid container style = {{padding:15, background:\"#f5f5f5\"}}>\r\n                   <Grid item sm={6} align='center'><Typography variant=\"subtitle2\">Total</Typography></Grid>\r\n                   <Grid item sm={6} align='center'><Typography variant=\"subtitle2\">{(data.length>0)?\"+\"+getTotalPenalizationSpeed():0}</Typography></Grid>\r\n               </Grid>\r\n               <Divider></Divider>\r\n               <TablePagination {...props}/>\r\n            </div>),\r\n            Action: props => (\r\n               <IconButton\r\n                 onClick={(event) => props.action.onClick(event, props.data)}\r\n                 variant=\"contained\"\r\n                 style={{color: '#000'}}\r\n                         \r\n                 size=\"small\"\r\n               >\r\n                <ZoomInIcon fontSize=\"large\" />\r\n                 </IconButton>\r\n           )\r\n        }}\r\n\r\n        >\r\n\r\n        </Materialtable>)\r\n}\r\n\r\nexport default DetailedSpeedTable","import React , {useEffect,useRef,useState}from 'react'\r\n\r\n\r\nimport ElevationGraph from '../ElevationGraph'\r\n\r\nimport CompetitorResultTable from '../CompetitorResultTable/CompetitorResultTable'\r\nimport WaypointsMissedTable from '../WaypointsMissedTable/WaypointsMissedTable'\r\nimport {getTrackpoints} from '../../services/trackpoints.services'\r\nimport {prepareWaypoints} from '../../utils/prepareData'\r\nimport DetailedMap from '../DetailedMap'\r\nimport DetailedSpeedTable from '../DetailedSpeedTable/DetailedSpeedTable'\r\nfunction DetailedResults({compInfo})\r\n{\r\n\r\n    const mapRef = useRef();\r\n    const [map,setMap] = useState(null) \r\n    const [path,setPath] = useState([])\r\n    const [elevation,setElevation] = useState([])\r\n    const [missedWaypoints,setMissedWaypoints] = useState([])\r\n    const [speedPoints,setSpeedPoints] = useState([])\r\n    const [competitorInfo,setCompetitorInfo] = useState([    ])\r\n \r\n\r\n\r\n    const fetchTrackpoints = async () =>{\r\n    \r\n        try\r\n        {\r\n            const data = await getTrackpoints(competitorInfo[0].id);\r\n           \r\n            var path_ = []\r\n            var elevation_ = []\r\n            data.forEach((trackpoint)=>{\r\n                path_.push(trackpoint.location.coordinates)\r\n                elevation_.push(trackpoint.elevation)\r\n            })\r\n           setPath(path_)\r\n          \r\n           setElevation(elevation_)\r\n        }\r\n        catch ( err)\r\n        {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(()=>{\r\n        \r\n     \r\n   \r\n      setCompetitorInfo([compInfo])\r\n        console.log(compInfo.waypointsMissed)\r\n      setMissedWaypoints(prepareWaypoints(compInfo.waypointsMissed))\r\n      setSpeedPoints(compInfo.speedPoints)\r\n\r\n       setMap(mapRef.current.leafletElement)\r\n     \r\n\r\n    },[])\r\n\r\n  \r\n    useEffect(()=>{\r\n        if (competitorInfo.length > 0 )\r\n        {\r\n            fetchTrackpoints()\r\n        }\r\n    },[competitorInfo])\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            <div className=\"custom-align\">\r\n\r\n                <div className=\"custom-container-80\">\r\n                    <CompetitorResultTable  data= {competitorInfo}   />     \r\n                </div>\r\n\r\n            </div>\r\n\r\n            <br></br>\r\n            <br></br>\r\n\r\n            <div className=\"custom-align\">\r\n\r\n                <DetailedMap \r\n                    mapRef = {mapRef}\r\n                    zoom = {10}\r\n                    waypoints = {missedWaypoints}\r\n                    track = {path} \r\n                />\r\n \r\n                <div className=\"custom-container\">\r\n\r\n                    <h1 align='center'>Penalization</h1>\r\n                    <WaypointsMissedTable\r\n                        data = {(missedWaypoints.length> 0)?missedWaypoints:[]} \r\n                        map = {map}\r\n                    />\r\n\r\n                    <DetailedSpeedTable\r\n                    data = {(speedPoints.length> 0)?speedPoints:[]}\r\n                    map = {map}\r\n                    />\r\n                    \r\n                </div>\r\n         \r\n            </div>\r\n            <br></br>\r\n            <br></br>\r\n\r\n            <div className=\"custom-align\">\r\n                    <ElevationGraph elev ={elevation}></ElevationGraph>\r\n            </div>\r\n \r\n            <br></br>\r\n            <br></br>\r\n        </div>\r\n    )\r\n}\r\nexport default DetailedResults","import axios from \"axios\";\r\n\r\n\r\nconst BASE_URL ='http://localhost:5000/api/results';\r\n\r\n\r\nexport const getResults = async (stage_id,category_id) => {\r\n    try\r\n    {\r\n     \r\n        const res = await axios.get(`${BASE_URL}/stage/${stage_id}/${category_id}`)\r\n        \r\n        return res.data;\r\n    }\r\n    catch(err)\r\n    {\r\n        console.log(err);\r\n    }\r\n\r\n  }\r\n\r\n  export const getResultsByCategory = async (category_id) => {\r\n    try\r\n    {\r\n        const res = await axios.get(`${BASE_URL}/category/${category_id}`)   \r\n        return res.data;\r\n    }\r\n    catch(err)\r\n    {\r\n        console.log(err);\r\n    }\r\n  }\r\n\r\n\r\n","export const columns = [\r\n    {\r\n      title: 'Position',\r\n      field: 'position',\r\n      width:'10%',\r\n      type: 'numeric',\r\n      cellStyle:{\r\n        backgroundColor: '#fc9003',\r\n   \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n        backgroundColor: '#fc9003',\r\n \r\n        textAlign:'center', \r\n    }\r\n    },\r\n    {\r\n      title: 'Name',\r\n      field: 'competitor_name',\r\n      width:'10%',\r\n      cellStyle:{\r\n\r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n        backgroundColor: '#fcba03',\r\n        \r\n        textAlign:'center', \r\n    }\r\n    },\r\n    {\r\n      title: 'Lastname',\r\n      field: 'competitor_lastname',\r\n      width:'10%',\r\n      cellStyle:{\r\n   \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n        backgroundColor: '#fcba03',\r\n        \r\n        textAlign:'center', \r\n    }\r\n    },\r\n    {\r\n      title: 'Category',\r\n      field: 'competitor_category',\r\n      width:'15%',\r\n      cellStyle:{\r\n  \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n        backgroundColor: '#fcba03',\r\n        \r\n        textAlign:'center', \r\n    }\r\n    },\r\n    {\r\n      title: 'Partial Time',\r\n      field: 'partial_time',\r\n      width:'15%',\r\n      cellStyle:{\r\n      \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n        backgroundColor: '#fcba03',\r\n        \r\n        textAlign:'center', \r\n    }\r\n      \r\n    },\r\n    {\r\n      title: 'Penalization',\r\n      field: 'penalization',\r\n      width:'20%',\r\n      cellStyle:{\r\n    \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n   \r\n        \r\n        textAlign:'center', \r\n    }\r\n    },\r\n    {\r\n      title: 'Total Time',\r\n      field: 'total',\r\n      width:'20%',\r\n      cellStyle:{\r\n  \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n   \r\n        textAlign:'center', \r\n    }\r\n    },\r\n  ]","import React, {useState,useEffect} from \"react\";\r\n\r\nimport Materialtable,{MTableToolbar}from 'material-table'\r\nimport {IconButton} from '@material-ui/core'\r\nimport DetailedResults from '../DetailedResults/DetailedResults'\r\nimport FindInPageIcon from '@material-ui/icons/FindInPage';\r\nimport { getResults } from \"../../services/results.services\";\r\nimport { columns } from \"./columns\";\r\n\r\nexport const ResultsTableByStage = () => {\r\n \r\n  \r\n  const [resultsLoaded,setResultsLoaded] = useState(false);\r\n  const [selectedResult,setSelectedResult] = useState(null);\r\n  const [showDetailedInfo,setShowDetailedInfo]= useState(true);\r\n  const [data,setData]=useState([])\r\n\r\n \r\n  function  onSelectedRowHandler(e,rowData)\r\n  {\r\n    setShowDetailedInfo((showDetailedInfo)?false:true);\r\n    setSelectedResult (rowData)\r\n  }\r\n\r\n  const fetchResults = async (stage_id,category_id) => {\r\n    try\r\n    {\r\n      const res = await getResults(stage_id,category_id)\r\n      setData(res);\r\n      setResultsLoaded(true);\r\n    }\r\n    catch(err)\r\n    {\r\n      console.log(err)\r\n    }  \r\n\r\n  }\r\n  \r\n  useEffect(()=>{\r\n \r\n    setShowDetailedInfo(true)\r\n \r\n    var stage = localStorage.getItem('stage')\r\n    var category = localStorage.getItem('category')\r\n    if ( stage && category)\r\n    {\r\n      stage = JSON.parse(stage)\r\n      category = JSON.parse(category)\r\n  \r\n      //results by stage and category\r\n      fetchResults(stage._id,category.categorytype._id);\r\n\r\n    }\r\n    \r\n  },[])\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div>   \r\n      {(showDetailedInfo)?\r\n      <div className=\"custom-align\">\r\n      <div className=\" custom-container-80\">\r\n      <Materialtable\r\n          title = {\"Stage results\"}\r\n          components={{\r\n            Toolbar: props => (\r\n              <div  \r\n              style={{ backgroundColor: '#fcba03' }}>\r\n                  <MTableToolbar \r\n                  \r\n                  {...props} />\r\n              </div>\r\n          ),\r\n          Action: props => (\r\n            <IconButton\r\n              onClick={(event) => props.action.onClick(event, props.data)}\r\n              variant=\"contained\"\r\n              style={{color: '#000'}}\r\n                      \r\n              size=\"small\"\r\n            >\r\n             <FindInPageIcon fontSize=\"large\" />\r\n              </IconButton>\r\n        )\r\n\r\n        }  \r\n    }\r\n        columns={columns}\r\n        data = {data}\r\n        actions={[\r\n          {\r\n            icon: 'save',\r\n            tooltip: 'Save User',\r\n            onClick: (event, rowData) =>{\r\n              onSelectedRowHandler(event,rowData)\r\n            } \r\n          }\r\n        ]}\r\n        isLoading = {!resultsLoaded}\r\n        options ={{\r\n            actionsColumnIndex:-1,\r\n            tableLayout: \"fixed\",\r\n            maxBodyHeight: 600,\r\n            search:false,\r\n            paging:false,\r\n            filtering:true,\r\n            exportButton:true,\r\n            headerStyle: {\r\n              background: '#fcba03',\r\n              color: '#000',\r\n              textAlign:'center',\r\n              fontSize:'1'\r\n          },\r\n                cellStyle: {\r\n                    textAlign:'center', \r\n                    fontSize:'1'}}}\r\n        \r\n        \r\n       >\r\n       </Materialtable>\r\n       </div>\r\n       <br></br>\r\n       <br></br>\r\n       </div>\r\n     :\r\n       <DetailedResults  compInfo={selectedResult}></DetailedResults>\r\n      }\r\n       </div>  \r\n  )\r\n}\r\n    \r\n","import React from \"react\";\r\nimport {ResultsTableByStage} from \"./ResultsTableByStage/ResultsTableByStage\";\r\n\r\nfunction ResultsByStage({resultsBy}){\r\n   \r\n\r\n        //Results by stage->one stage one category\r\n        //Results by category -> all stages one category\r\n        //Results by race -> all stages all categories\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            <br></br>\r\n            <div>\r\n                <ResultsTableByStage resultsBy={resultsBy} ></ResultsTableByStage>\r\n            </div>\r\n            <br></br>\r\n            <br></br>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResultsByStage;","import React from \"react\";\r\nimport {Box,LinearProgress} from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PropTypes from 'prop-types'; \r\n\r\n\r\nconst LinearProgressWithLabel = (props)=> {\r\n    return (\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n          <Box width=\"100%\" mr={1}>\r\n            <LinearProgress variant=\"determinate\" color =\"primary\"{...props} />\r\n          </Box>\r\n          <Box minWidth={35}>\r\n            <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n              props.value,\r\n            )}%`}</Typography>\r\n          </Box>\r\n        </Box>\r\n      );\r\n}\r\n\r\nLinearProgressWithLabel.propTypes = {\r\n    /**\r\n     * The value of the progress indicator for the determinate and buffer variants.\r\n     * Value between 0 and 100.\r\n     */\r\n    value: PropTypes.number.isRequired,\r\n  };\r\n\r\nexport default LinearProgressWithLabel;","import React ,{ useState}from \"react\";\r\nimport axios from 'axios';\r\nimport { Alert } from '@material-ui/lab';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport LinearProgressWithLabel from './LinearProgressWithLabel';\r\nimport {useHistory} from 'react-router-dom'\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nfunction UploadWayPoints({stageInfo}) {\r\n\r\n  const [highlighted,setHighlighted] = React.useState();\r\n  const [ filename, setFilename] = useState('');\r\n  const [ progress, setProgress] = useState(0);\r\n  const [openError, setOpenError] = useState(false);\r\n  const [timeNextPage, SetTimeNextPage] = useState(null);\r\n  const [timeLeft, SetTimeLeft] = useState(0);\r\n  const [interTimeLeft, SetInterTimeLeft] = useState(null);\r\n  const [errorMsg, SetErrorMsg] = useState('Error');\r\n  const [successMsg, SetSuccessMsg] = useState('Success');\r\n  const history   = useHistory();\r\n\r\n \r\n \r\n\r\n  const loadNextPage = () =>{  \r\n   SetTimeNextPage( setTimeout(() =>{\r\n      clearInterval(interTimeLeft) \r\n      localStorage.setItem('option',2)\r\n      window.location.reload(); \r\n       history.replace()\r\n       },3000))\r\n\r\n  }\r\n\r\n  const stopNextPage = async() =>\r\n  {\r\n    \r\n    clearTimeout(timeNextPage);\r\n    clearInterval(interTimeLeft)  ;\r\n    SetTimeLeft(0);\r\n    deleteWayPoints();\r\n  }\r\n\r\n  const deleteWayPoints = async() => {\r\n    try\r\n    {\r\n      const res = await axios.delete('http://localhost:5000/api/waypoints');\r\n      console.log(res.data);\r\n    }\r\n\r\n    catch(err){\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  const uploadWayPoints = async(file) => {\r\n\r\n    setFilename(file.name);\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append('file',file)   \r\n    formData.append('stage',stageInfo.id)   \r\n    try{\r\n      \r\n      const res = await axios.post('http://localhost:5000/api/waypoints/file',\r\n                                  formData,\r\n                                  { headers: { 'Content-Type': 'multipart/form-data'},                                 \r\n                                  onUploadProgress: progressEvent =>\r\n                                  { setProgress(parseInt(Math.round((progressEvent.loaded*100)/progressEvent.total)))}\r\n                                  });\r\n      SetSuccessMsg(res.data.msg);\r\n      loadNextPage();\r\n      SetInterTimeLeft( setInterval(() => {    \r\n                        SetTimeLeft((prevProgress) => { return (prevProgress >= 100 ? 100 : prevProgress + 1.1)}); },\r\n                         30))\r\n    }\r\n    catch(err)\r\n    {\r\n      if ( err.response.status == 500)\r\n      {\r\n        console.log(\"Problem with the server\");\r\n      }\r\n      else\r\n      {\r\n        SetErrorMsg(err.response.data.msg);\r\n        setProgress(0);\r\n        setOpenError(true);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  const onDropHandler = (e) => {\r\n \r\n    e.preventDefault();\r\n    setHighlighted(false);\r\n\r\n    if ( e.dataTransfer.files.length  >0) \r\n    {      \r\n      uploadWayPoints(e.dataTransfer.files[0]);\r\n      e.dataTransfer.value = null;\r\n\r\n  }\r\n}\r\n  const  updateHighlighted = (state)=>{\r\n    setHighlighted(state);\r\n  }\r\n  const overWriteDefault = (e) =>{\r\n    e.preventDefault();\r\n  }\r\n\r\n  const onShowAlert = (action) =>{\r\n    if ( action == \"hideError\")\r\n    {\r\n      setOpenError(false);\r\n    }\r\n    else\r\n    {\r\n      setFilename(\"\");\r\n      setProgress(0);\r\n      stopNextPage();   \r\n    }\r\n  }\r\n\r\n\r\n  const onChange =async e =>{\r\n \r\n    if ( e.target.files.length  >0) \r\n    {      \r\n      uploadWayPoints(e.target.files[0]);\r\n      e.target.value = null;\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n   \r\n      <h1 className=\"text-center text-4xl\">{(stageInfo)?stageInfo.name:\"Stage name\"} </h1>   \r\n      <br></br>   \r\n      <div className=\"center2\"> Upload waypoints: </div>\r\n      <br></br>        \r\n      <div\r\n        className={`center messD p-24  border-2 ${ highlighted ?  'border-green-400 bg-green-100': 'border-gray-400'}` }\r\n        onDragEnter = { updateHighlighted.bind(this,true)}  onDragOver = {overWriteDefault } onDrop = { onDropHandler } onDragLeave = { updateHighlighted.bind(this,false)}  >\r\n\r\n        <Collapse in={progress==0}> \r\n          <form>\r\n            <div>\r\n              <input id=\"file-upload\" \r\n              type=\"file\"\r\n              accept=\".csv\"\r\n              style={{display:'none'}}\r\n               onChange={onChange}/>\r\n              <label htmlFor=\"file-upload\" className=\"custom-file-upload\"> Select File</label>       \r\n            </div>      \r\n          </form>     \r\n          <p>or drop .CSVs here</p>\r\n          <br></br>\r\n        </Collapse>\r\n      \r\n        <Collapse in={openError}>\r\n          <Alert\r\n              severity=\"error\"\r\n              action={\r\n                <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\" onClick={onShowAlert.bind(this,\"hideError\") } >\r\n                  <CancelIcon fontSize=\"inherit\" />\r\n                </IconButton> }\r\n          >           \r\n            {errorMsg}\r\n          </Alert>\r\n\r\n        </Collapse>\r\n\r\n        <Collapse in={progress!=0}>\r\n\r\n          <p>{filename}</p>\r\n          <br></br>\r\n          <LinearProgressWithLabel value={progress} />\r\n\r\n        </Collapse>\r\n\r\n        <Collapse in ={progress==100} > \r\n\r\n          <Alert          \r\n              action={     \r\n                <Box position=\"relative\" display=\"inline-flex\">\r\n                    < CircularProgress  variant=\"determinate\" value={timeLeft} />\r\n                      <Box top={0} left={0} bottom={0} right={0} position=\"absolute\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">                        \r\n                        <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\" onClick={ onShowAlert.bind(this,\" \") } >                             \r\n                          <CancelIcon fontSize=\"inherit\" />    \r\n                        </IconButton>\r\n                      </Box>\r\n                </Box>\r\n              }\r\n            >\r\n           {successMsg}\r\n          </Alert>\r\n        </Collapse>\r\n\r\n      </div>\r\n    \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadWayPoints;\r\n","import React ,{ useEffect, useState}from \"react\";\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport UploadWaypoints from './UploadWaypoints'\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from \"axios\";\r\n\r\nfunction CreateStage(props){\r\n    \r\n    const postURL = \"http://localhost:5000/api/stages\";\r\n  \r\n    const [options, setOptions ] = useState([ ])\r\n    const [ stageData, setStageData] = useState({\r\n        name:'',\r\n        categories:[]\r\n      });\r\n\r\n    const [showStage,setShowStage] = useState(true)\r\n    const [btnconfig,setBtnconfig] = useState([\r\n        {\r\n            text : 'Continue',\r\n            style: 'text-dark bg-warning'\r\n        },\r\n        {\r\n            text : 'Cancel',\r\n            style: 'text-light bg-danger'\r\n        },\r\n    ])\r\n    const [stageInfo,setStageInfo] = useState(null)\r\n    \r\n    const [indexConfigEnabled,setindexConfigEnabled]= useState(0)\r\n\r\n   \r\n    \r\n    const loadNextPage = (stage_id) => {\r\n      \r\n              setStageInfo({\r\n                  name: stageData.name,\r\n                  id:stage_id\r\n              })\r\n        \r\n    }\r\n    \r\n    const handleChange = index => event => {\r\n\r\n        let newOptions = [...options]\r\n        newOptions[index].active = event.target.checked;\r\n        setOptions(newOptions)\r\n      }\r\n    \r\n     \r\n    const handleInputChange = (e) =>{\r\n        setStageData({\r\n          ...stageData,\r\n          [e.target.name]:e.target.value\r\n        })\r\n      }\r\n\r\n    const fetchingData = () => {\r\n      var raceData = window.localStorage.getItem('race');\r\n      if (raceData)\r\n      {\r\n          raceData =  JSON.parse(raceData)\r\n          loadOptions(raceData.categories)\r\n      }\r\n    }\r\n\r\n      useEffect(()=>{\r\n        fetchingData()\r\n      \r\n      }\r\n\r\n    \r\n      ,[])\r\n\r\n      useEffect(()=>{\r\n        if (stageInfo)\r\n        {\r\n          setShowStage(false)\r\n      \r\n          setindexConfigEnabled(1)\r\n        }\r\n       \r\n\r\n      },[stageInfo])\r\n      const handleContinue = () => {\r\n        if (indexConfigEnabled==1)\r\n        {\r\n           \r\n           //deleteStage() \r\n           setStageData({ name:'',\r\n           categories:[]\r\n            })\r\n          setStageInfo(null)\r\n          setOptions([])\r\n          setShowStage(true)\r\n        \r\n          setindexConfigEnabled(0)\r\n          fetchingData()\r\n        }\r\n        else //Cancel\r\n        {\r\n          setActiveCategories()\r\n        }\r\n\r\n         \r\n      }\r\n\r\n      const setActiveCategories = () => {\r\n        \r\n       setStageData({...stageData,\r\n        categories: setCategoriesID()\r\n       })\r\n        }\r\n\r\n      const setCategoriesID = () => {\r\n        \r\n        var ids_withkeys = (options.filter(opt => opt.active)).map(op =>({\r\n            _id: op.id\r\n        }))\r\n\r\n        var ids = []\r\n\r\n        ids_withkeys.forEach(id =>{\r\n            ids.push(id._id)\r\n        })\r\n        return ids\r\n\r\n      }\r\n       \r\n\r\n      const loadOptions = (options) => {\r\n\r\n      setOptions( options.map(opt => ({\r\n           id: opt._id,\r\n           name : opt.categorytype.name,\r\n           active:false\r\n        })))\r\n      }\r\n\r\n      useEffect(()=>{\r\n     \r\n\r\n        if  ( stageData.categories.length > 0 )\r\n        {\r\n            createStage();\r\n        }\r\n      }, [stageData])\r\n\r\n      const createStage =async () => {\r\n\r\n        //Check stage creation\r\n        try{\r\n            var res = await axios.post(postURL,stageData)\r\n            \r\n            loadNextPage(res.data.id);\r\n        }\r\n        catch ( err)\r\n        {\r\n            console.log(err)\r\n        }\r\n\r\n      }\r\n\r\n\r\n    return (\r\n        <div>\r\n          {\r\n            (showStage)?\r\n          \r\n                <div>\r\n                  <br></br>\r\n                  <div className=\"custom-align\">\r\n                    <input\r\n                                onChange= {handleInputChange}\r\n                                type=\"text\"\r\n                                placeholder=\"Enter stage  name\"\r\n                                style={{outline:0}}\r\n                                className=\"text-center  big-title border-0 border-bottom\"\r\n                                name=\"name\"\r\n                            ></input>\r\n                \r\n                  </div>\r\n                  <br></br>\r\n                  <div className=\"custom-align\">\r\n                  <p>Select categories for this stage</p>\r\n                  </div>\r\n                      <br></br>\r\n                  <div className=\"custom-align\">\r\n                \r\n                    <FormGroup row>\r\n                      \r\n                        {\r\n                        options.map((opt,i) =>\r\n                            <FormControlLabel\r\n                            key = {opt.id}\r\n                            control={\r\n                            <Checkbox\r\n                                checked={opt.active}\r\n                                onChange={handleChange(i)}\r\n                                name={opt.name}\r\n                                color=\"default\"\r\n                            />\r\n                            }\r\n                            label={opt.name}\r\n                        />\r\n                        )\r\n                      \r\n                        }\r\n                      \r\n                    </FormGroup>\r\n                  </div>\r\n\r\n\r\n                  <br></br>\r\n                  </div>\r\n                  :\r\n                  <UploadWaypoints stageInfo={stageInfo} ></UploadWaypoints>\r\n            }\r\n            <br></br>\r\n            <div className=\"custom-align\">\r\n            <Button  \r\n            variant=\"contained\"\r\n                  style={{textTransform: 'none'}}\r\n                  onClick = {handleContinue}\r\n                  color=\"primary\"\r\n                  type=\"submit\"\r\n                  className={btnconfig[indexConfigEnabled].style}\r\n                  >\r\n                     {btnconfig[indexConfigEnabled].text}\r\n                    </Button> \r\n                    </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateStage;","import axios from 'axios';\r\nconst BASE_URL= 'http://localhost:5000/api/categories';\r\n\r\n\r\nexport const getCategory= async(category_id)=>{\r\n  \r\n  \r\n  try\r\n  {\r\n    const  res =await  axios.get(`${BASE_URL}/${category_id}`)\r\n    return   res.data\r\n    \r\n  }\r\n  catch(err)\r\n  {\r\n    console.log(err)\r\n  }\r\n\r\n}\r\nexport const deleteCategory= async(category_id)=>{\r\n  \r\n  try\r\n  {\r\n    await  axios.delete(`${BASE_URL}/${category_id}`)    \r\n  }\r\n  catch(err)\r\n  {\r\n    console.log(err)\r\n  }\r\n\r\n}","import React, { useState , useEffect} from \"react\";\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\n\r\nimport Cards from './Cards'\r\nimport Competitors from './Competitors'\r\nimport ResultsByStage from './ResultsByStage'\r\nimport CreateStage from \"./CreateStage\";\r\nimport { getCategory,deleteCategory } from \"../services/categories.services\";\r\nimport {getRace} from \"../services/race.services\"\r\nfunction Race(props){\r\n   \r\n    const next_URL = \"/category\"\r\n    const type =\"Category\"\r\n\r\n    const [raceData,setRaceData] = useState()\r\n    const [categories,setCategories] = useState([]);\r\n    const [options,setOptions] = useState([\r\n        {\r\n            id : 1,\r\n            name:'Categories',\r\n            active: false\r\n        },\r\n        /*\r\n        {\r\n            id : 2,\r\n            name:'Competitors',\r\n            active: false\r\n        },\r\n        */\r\n        {\r\n            id : 2,\r\n            name:'Create Stage',\r\n            active: false\r\n        },\r\n        {\r\n            id : 3,\r\n            name:'Results',\r\n            active: false\r\n        },\r\n        \r\n    ])\r\n    const [selectedOption, setSelectedOption] = useState(\r\n        {\r\n            id : -1,\r\n            name:'',\r\n            active: false\r\n        }\r\n    )\r\n\r\n\r\n \r\n\r\n    const fetchRace =async (race_id) =>{\r\n\r\n        try\r\n        {\r\n            var data = await getRace(race_id)\r\n            console.log(data);\r\n            setRaceData (data);\r\n            setCategories(data.categories.map(cd=>({\r\n                id : cd._id,\r\n                title : cd.categorytype.name\r\n                              \r\n            })))\r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    const handleDeleteCategory =async (id) => {\r\n      \r\n        \r\n        try\r\n        {\r\n            await deleteCategory(id);\r\n            //Fetch data again\r\n             var race = window.localStorage.getItem('race')\r\n       \r\n            if ( race )\r\n            {\r\n                race = JSON.parse(race);\r\n                \r\n                fetchRace(race._id)\r\n            }\r\n         \r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    const handleFetchCategory =async (id) =>{\r\n        try\r\n        {\r\n            var data = await getCategory(id);\r\n            return data\r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(err);\r\n        }\r\n      \r\n\r\n    }\r\n\r\n\r\n\r\n    const handleActiveOption = index => e => {\r\n        \r\n        var newOptions =[...options]\r\n        newOptions.forEach((option)=>{\r\n            option.active = false\r\n        })\r\n\r\n        newOptions[index].active =true\r\n        setSelectedOption(newOptions[index])\r\n        \r\n        setOptions(newOptions)\r\n\r\n    }\r\n\r\n    const updateOptions = () => {\r\n        var newOptions =[...options]\r\n        var option= localStorage.getItem('option');\r\n        localStorage.removeItem('option');\r\n\r\n        newOptions[(option)?option:0].active = true;\r\n        setOptions(newOptions);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        var race = window.localStorage.getItem('race')\r\n       \r\n        if ( race )\r\n        {\r\n            race = JSON.parse(race);\r\n            fetchRace(race._id);\r\n            var option= localStorage.getItem('option');\r\n            \r\n            setSelectedOption( (option)?options[option]:options[0])\r\n            updateOptions()\r\n        \r\n        }\r\n            \r\n\r\n          \r\n    },[])\r\n\r\n    return (\r\n        <div>\r\n            <br></br>\r\n            <div><h1 className=\"text-center\">\r\n                {(raceData)? raceData.name :\"Race name\"}\r\n                </h1> \r\n            </div>\r\n            <br></br>\r\n            <div className=\"custom-align\">\r\n\r\n                <ButtonGroup  variant=\"text\" aria-label=\"text primary button group\">\r\n                    {\r\n                        options.map(option =>(\r\n                            \r\n                        <Button key={option.id}\r\n                            className={(option.active)?\r\n                                            [(!option.name.localeCompare('Results'))?\r\n                                                \"bg-red text-light\"\r\n                                                :\r\n                                                \"bg-dark text-light\"]\r\n                                            :\"\"}\r\n                            variant = {(option.active)?'contained':'text'}\r\n                            color = {(option.name.localeCompare('Results'))?\"default\":'secondary'}\r\n                            onClick = {handleActiveOption(option.id-1)}\r\n                        >{option.name}\r\n                        </Button>\r\n                            \r\n                        ))\r\n                    }\r\n                    \r\n               \r\n  \r\n                </ButtonGroup>\r\n            </div>\r\n            <br></br>\r\n            \r\n\r\n            <br></br>\r\n            {  \r\n             selectedOption.id==1 &&  <Cards \r\n                                        data = {categories}\r\n                                        type={type} \r\n                                        next_URL={next_URL}\r\n                                        fetchCardData={handleFetchCategory}\r\n                                        deleteCardHandler={handleDeleteCategory}\r\n                                        />  \r\n                                        \r\n            }\r\n            {  \r\n            // selectedOption.id==2 &&  <Competitors></Competitors>\r\n            }\r\n            {  \r\n             selectedOption.id==2 && <CreateStage></CreateStage>\r\n            }\r\n            {  \r\n             selectedOption.id==3 && <ResultsByStage></ResultsByStage>\r\n            }\r\n               \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Race;","import React from 'react'\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\n\r\nfunction Options({options,handleActiveOption}){\r\n    return(  <ButtonGroup  variant=\"text\" aria-label=\"text primary button group\">\r\n    {\r\n        options.map(option =>(\r\n            \r\n        <Button key={option.id}\r\n            className={(option.active)?\r\n                            [(!option.name.localeCompare('Results'))?\r\n                                \"bg-red text-light\"\r\n                                :\r\n                                \"bg-dark text-light\"]\r\n                            :\"\"}\r\n            variant = {(option.active)?'contained':'text'}\r\n            color = {(option.name.localeCompare('Results'))?\"default\":'secondary'}\r\n            onClick = {handleActiveOption(option.id-1)}\r\n        >{option.name}\r\n        </Button>\r\n            \r\n        ))\r\n    }\r\n    \r\n\r\n\r\n</ButtonGroup>)\r\n}\r\nexport default Options;","import axios from 'axios';\r\nconst BASE_URL= 'http://localhost:5000/api/stages';\r\n\r\nexport const getPartialResultsFromStageByCategory = async(stage_id,categorytype_id) => {\r\n\r\n      \r\n    try\r\n    {\r\n      const  res =await  axios.get(`${BASE_URL}/${stage_id}/${categorytype_id}`)\r\n      \r\n      var stage = res.data\r\n      return stage.partialresults;\r\n\r\n    }\r\n    catch(err)\r\n    {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\nexport const getStage = async(stage_id)=>{\r\n  \r\n  try\r\n  {\r\n    const  res =await  axios.get(`${BASE_URL}/${stage_id}`)\r\n    return   res.data\r\n    \r\n  }\r\n  catch(err)\r\n  {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\n  \r\n  export const deleteStage = async(stage_id)=>{\r\n  \r\n    try\r\n    {\r\n      await  axios.delete(`${BASE_URL}/${stage_id}`)\r\n      \r\n    }\r\n    catch(err)\r\n    {\r\n      console.log(err)\r\n    }\r\n  \r\n  }","export var columns = [\r\n    {\r\n      title: 'Position',\r\n      field: 'position',\r\n      width:'10%',\r\n      type: 'numeric',\r\n      cellStyle:{\r\n        backgroundColor: '#fc9003',\r\n   \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n        backgroundColor: '#fc9003',\r\n \r\n        textAlign:'center', \r\n    }\r\n    },\r\n    {\r\n      title: 'Name',\r\n      field: 'fullName',\r\n      width:'10%',\r\n      cellStyle:{\r\n\r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n        backgroundColor: '#fcba03',\r\n        \r\n        textAlign:'center', \r\n    }\r\n    },\r\n    {\r\n      title: 'Number',\r\n      field: 'number',\r\n      width:'10%',\r\n      cellStyle:{\r\n   \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n        backgroundColor: '#fcba03',\r\n        \r\n        textAlign:'center', \r\n    }\r\n    },\r\n    {\r\n      title: 'Vehicle',\r\n      field: 'vehicle',\r\n      width:'10%',\r\n      cellStyle:{\r\n   \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n        backgroundColor: '#fcba03',\r\n        \r\n        textAlign:'center', \r\n    }\r\n    },\r\n    {\r\n      title: 'Total Time',\r\n      field: 'totalTime',\r\n      width:'20%',\r\n      cellStyle:{\r\n  \r\n        textAlign:'center', \r\n        fontSize:'1'\r\n    },\r\n    headerStyle: {\r\n   \r\n        textAlign:'center', \r\n    }\r\n    },\r\n  ]","import React, {useState,useEffect} from \"react\";\r\nimport { columns } from \"./columns\";\r\nimport Materialtable,{MTableToolbar}from 'material-table'\r\nimport {IconButton} from '@material-ui/core'\r\nimport FindInPageIcon from '@material-ui/icons/FindInPage';\r\nimport { getResultsByCategory } from \"../../services/results.services\";\r\n\r\n\r\nexport const ResultsTable = () => {\r\n \r\n  \r\n\r\n  const [data,setData]=useState([])\r\n  const [columns2,setColumns2]=useState([])\r\n \r\n \r\n  const fetchResults = async (category_id) => {\r\n    try\r\n    {\r\n      const res = await getResultsByCategory(category_id)\r\n\r\n      setData(fixResults(res));\r\n  \r\n    }\r\n    catch(err)\r\n    {\r\n      console.log(err)\r\n    }  \r\n\r\n  }\r\n\r\n  const fixResults = (results)=>{\r\n    var fixedData = []\r\n\r\n    results.forEach((item)=>{\r\n      \r\n      item.stagesTime.forEach((stageTime,i)=>{\r\n\r\n        var key = `stage_${i+1}`\r\n        item[key]=stageTime\r\n\r\n      })\r\n\r\n      delete item.stagesTime;\r\n      fixedData.push(item);\r\n\r\n    })\r\n    \r\n    return fixedData;\r\n\r\n  }\r\n\r\n  const setStageTotalColumns = (num_stages)=>{\r\n    var stageColumns=[]\r\n    \r\n    \r\n    for (let i = 0; i < num_stages; i++) {\r\n    \r\n      var newcol = {...columns[3]}; \r\n      newcol.title=`Stage ${i+1}`\r\n      newcol.field=`stage_${i+1}`\r\n      stageColumns.push(newcol)\r\n      \r\n    }\r\n    \r\n    var columnStart = columns.slice(0,columns.length-1);\r\n    var columnMedium = stageColumns;\r\n    var columnEnd=  columns.slice(columns.length-1,columns.length)\r\n\r\n    setColumns2(columnStart.concat(columnMedium).concat(columnEnd));\r\n  }\r\n  \r\n  useEffect(()=>{\r\n \r\n  \r\n\r\n    var category = localStorage.getItem('category')\r\n    if (  category)\r\n    {\r\n      category = JSON.parse(category)\r\n        \r\n      setStageTotalColumns(category.stages.length);\r\n      fetchResults(category._id);\r\n\r\n\r\n\r\n    }\r\n  \r\n\r\n    \r\n  \r\n \r\n   // columns.splice(0,0,newcol);\r\n   // console.log(columns)\r\n  },[])\r\n\r\n\r\n\r\n\r\n  return (\r\n      <div className=\"custom-align\">\r\n      <div className=\" custom-container-80\">\r\n      <Materialtable\r\n        title={\"Results by category \"}\r\n          components={{\r\n            Toolbar: props => (\r\n              <div  \r\n              style={{ backgroundColor: '#fcba03' }}>\r\n                  <MTableToolbar \r\n                  \r\n                  {...props} />\r\n              </div>\r\n          ),\r\n          Action: props => (\r\n            <IconButton\r\n              onClick={(event) => props.action.onClick(event, props.data)}\r\n              variant=\"contained\"\r\n              style={{color: '#000'}}\r\n                      \r\n              size=\"small\"\r\n            >\r\n             <FindInPageIcon fontSize=\"large\" />\r\n              </IconButton>\r\n        )\r\n\r\n        }  \r\n    }\r\n        columns={columns2}\r\n        data = {data}\r\n        isLoading ={false}// {!resultsLoaded}\r\n        options ={{\r\n            actionsColumnIndex:-1,\r\n            tableLayout: \"fixed\",\r\n            maxBodyHeight: 600,\r\n            search:false,\r\n            paging:false,\r\n            filtering:true,\r\n            exportButton:true,\r\n            headerStyle: {\r\n              background: '#fcba03',\r\n              color: '#000',\r\n              textAlign:'center',\r\n              fontSize:'1'\r\n          },\r\n                cellStyle: {\r\n                    textAlign:'center', \r\n                    fontSize:'1'}}}\r\n        \r\n        \r\n       >\r\n       </Materialtable>\r\n       </div>\r\n       <br></br>\r\n       <br></br>\r\n       </div>\r\n \r\n  )\r\n}\r\n    \r\n","import React, {useEffect, useState} from \"react\";\r\n\r\nimport Options from \"./Options\";\r\nimport Competitors from './Competitors'\r\nimport {getStage,deleteStage} from '../services/stage.services'\r\nimport {getCategory} from '../services/categories.services'\r\n\r\nimport Collapse from '@material-ui/core/Collapse';\r\n\r\nimport Cards from './Cards'\r\nimport { ResultsTable } from \"./ResultsTable/ResultsTable\";\r\n\r\nfunction Category(){\r\n    const type='Stage'\r\n    const next_URL = \"/stage\"\r\n    \r\n    const [categoryData, setCategoryData] = useState()\r\n    const [stages,setStages] = useState([]);\r\n    const [options,setOptions] = useState([\r\n        {\r\n            id : 1,\r\n            name:'Stages',\r\n            active: true\r\n        },\r\n        /*\r\n        {\r\n            id : 2,\r\n            name:'Competitors',\r\n            active: false\r\n        },*/\r\n        {\r\n            id : 2,\r\n            name:'Results',\r\n            active: false\r\n        },\r\n        \r\n    ])\r\n\r\n    const [selectedOption, setSelectedOption] = useState(\r\n        {\r\n            id : -1,\r\n            name:'',\r\n            active: false\r\n        }\r\n    )\r\n\r\n    const handleDeleteStage =async (id) => {\r\n        //Deleting stage\r\n        \r\n        try\r\n        {\r\n            await deleteStage(id);\r\n            //Fetch data again\r\n            var category = window.localStorage.getItem('category')\r\n            if (category)\r\n            {\r\n                category = JSON.parse(category);\r\n                fetchCategory(category._id)\r\n            }\r\n\r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    const handleFetchStage =async (id) =>{\r\n       \r\n        var data = await getStage(id);\r\n        return data\r\n\r\n    }\r\n\r\n    const handleActiveOption = index => e => {\r\n        \r\n        var newOptions =[...options]\r\n        newOptions.forEach((option)=>{\r\n            option.active = false\r\n        })\r\n\r\n        newOptions[index].active =true\r\n        setSelectedOption(newOptions[index])\r\n       \r\n        setOptions(newOptions)\r\n\r\n    }\r\n\r\n    const fetchCategory =async (category_id) =>{\r\n\r\n        try\r\n        {\r\n            var data = await getCategory(category_id)\r\n           \r\n            setStages(data.stages.map(({_id,name})=>(\r\n                {id : _id,\r\n                title : name})                \r\n                ))\r\n            setCategoryData(data);\r\n        }\r\n        catch(err)\r\n        {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n    useEffect(()=>{\r\n\r\n        var category = window.localStorage.getItem('category')\r\n        if (category)\r\n        {\r\n            category = JSON.parse(category);\r\n            fetchCategory(category._id)\r\n            setSelectedOption(options[0])\r\n        }\r\n\r\n        \r\n    },[])\r\n\r\n \r\n    \r\n    return (\r\n        <div>\r\n            <br></br>\r\n            <div><h1 className=\"text-center\">{(categoryData)?categoryData.categorytype.name:\" \"}</h1> </div>\r\n            <br></br>\r\n            <div className=\"custom-align\">\r\n\r\n                <Options\r\n                    options={options}\r\n                    handleActiveOption={handleActiveOption}\r\n                />\r\n                </div>\r\n                <br></br>\r\n\r\n                <Collapse in ={selectedOption.id==1} >\r\n                <Cards \r\n                data={stages}\r\n                 type={type}\r\n                  next_URL={next_URL}\r\n                  deleteCardHandler={handleDeleteStage}\r\n                  fetchCardData = {handleFetchStage}\r\n                  />\r\n                </Collapse>\r\n \r\n                <Collapse in ={selectedOption.id==2} >\r\n                    <ResultsTable/> \r\n                </Collapse>\r\n            <br></br>\r\n            <br></br>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Category;","import React, {useEffect, useState }from 'react'\r\nimport axios from 'axios';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Button from '@material-ui/core/Button';\r\nimport {useHistory} from 'react-router-dom'\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\n\r\n\r\nfunction Login(props){\r\n\r\n\r\n   const home_URL = \"/races\"\r\n   const signup_URL = \"/signup\"\r\n    \r\n    const [loginData,setLoginData] = useState({\r\n        username:'',\r\n        password:''\r\n    })\r\n    const [openError, setOpenError] = useState(false);\r\n    const history   = useHistory();\r\n\r\n    const handleInputChange = (e) =>{\r\n        setLoginData({\r\n            ...loginData,\r\n            [e.target.name]:e.target.value\r\n        })\r\n    }\r\n\r\n    const handleClose = (event, reason) => {\r\n      if (reason === \"clickaway\") {\r\n        return;\r\n      }\r\n  \r\n      setOpenError(false);\r\n    };\r\n    \r\n    \r\n    const handlerSubmit = async(e) => {\r\n        e.preventDefault();\r\n        await checkCredentials();\r\n    }\r\n\r\n    const handlerSignUp = async(e) => {\r\n     \r\n      history.push(signup_URL)\r\n  }\r\n\r\n    const loadNextPage = () =>{  \r\n          history.push(home_URL) \r\n        \r\n     }\r\n\r\n    useEffect(()=>{\r\n      window.localStorage.clear()\r\n    },[])\r\n\r\n    const checkCredentials =async () => {\r\n      try{\r\n        const res = await axios.post(\r\n                            'http://localhost:5000/api/admins/login',\r\n                            loginData)\r\n        \r\n        window.localStorage.setItem(\r\n          'user', JSON.stringify(res.data.admin)\r\n        )\r\n        window.localStorage.setItem(\r\n          'token', res.data.token\r\n        )\r\n        loadNextPage()\r\n\r\n      }\r\n      catch(err)\r\n      {\r\n        setOpenError(true)\r\n      }\r\n    }\r\n    \r\n    return (\r\n      <div >\r\n        <br></br>\r\n        <br></br>\r\n        <br></br>\r\n        \r\n     \r\n        <div className=\"custom-align\">\r\n        <h1>Race Manager</h1>\r\n        </div>\r\n   \r\n          <div className=\"container mt-8   custom-align\">\r\n              <form onSubmit={handlerSubmit}>\r\n                  \r\n            \r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"column\"\r\n                  justify=\"center\"\r\n                  alignItems=\"flex-end\"\r\n                  >\r\n\r\n                  <Grid  item container spacing={1} alignItems=\"flex-end\">\r\n                    <Grid item>\r\n                      <AccountCircle />\r\n                    </Grid>\r\n                    <Grid item>\r\n                      <TextField id=\"input-with-icon-grid\" \r\n                      label=\"Username\" \r\n                      onChange = {handleInputChange}\r\n                      name=\"username\"\r\n                      />\r\n                    </Grid>\r\n                                    \r\n                  </Grid>\r\n                <TextField\r\n                  id=\"standard-password-input\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  onChange = {handleInputChange}\r\n                  autoComplete=\"current-password\"\r\n                  />\r\n\r\n                </Grid>\r\n                <br></br>\r\n                  <div className=\"row\">\r\n                  <Button variant=\"contained\"\r\n                  style={{textTransform: 'none'}}\r\n                  color=\"primary\"\r\n                  type=\"submit\"\r\n                  className=\"text-dark bg-warning\"\r\n                  >\r\n                      Log in\r\n                    </Button>\r\n     \r\n                    \r\n                  </div>\r\n              </form>\r\n\r\n         </div>\r\n\r\n         <div className=\"container mt-5  custom-align\" >\r\n                        <Button \r\n                        style={{textTransform: 'none'}}\r\n                        variant=\"contained\"\r\n                        onClick = {handlerSignUp}\r\n                        color=\"secondary\"\r\n                        type=\"submit\"\r\n                        className=\"text-light bg-dark\"\r\n                  >\r\n                      Sign up\r\n                    </Button>\r\n                  \r\n                </div>\r\n\r\n        <Snackbar open={openError} autoHideDuration={2000} onClose={handleClose}>\r\n          <Alert onClose={handleClose} severity=\"error\">\r\n            Login fail\r\n          </Alert>\r\n        </Snackbar>\r\n        \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Login;","import React, {useState }from 'react'\r\n\r\nimport axios from 'axios';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {useHistory} from 'react-router-dom'\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n  \r\n\r\n\r\n\r\nfunction Signup (props){\r\n\r\n    const login_URL = '/login' \r\n\r\n    const [signupData,setSignupData] = useState({\r\n        name: '',\r\n        username:'',\r\n        password:''\r\n    })\r\n    const [openError, setOpenError] = useState(false);\r\n    const history   = useHistory();\r\n\r\n\r\n    const handleInputChange = (e) =>{\r\n        setSignupData({\r\n            ...signupData,\r\n            [e.target.name]:e.target.value\r\n        })\r\n    }\r\n\r\n    const handleClose = (event, reason) => {\r\n        if (reason === \"clickaway\") {\r\n            return;\r\n        }\r\n        setOpenError(false)\r\n    }\r\n\r\n    const loadNextPage = () =>{  \r\n       \r\n        history.push(login_URL)\r\n     }\r\n\r\n    const handlerSubmit = async(e) => {\r\n        e.preventDefault();\r\n        createUser();\r\n    }\r\n\r\n    const createUser = async () =>{\r\n       try\r\n       {\r\n          await axios.post('http://localhost:5000/api/admins',signupData)\r\n        \r\n          loadNextPage();\r\n\r\n       }\r\n       catch(err)\r\n       {\r\n        setOpenError(true)  \r\n        console.log(err)\r\n       }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <br></br>\r\n            <br></br>\r\n            <br></br>\r\n              <h1 className=\"text-center\">Race Manager</h1>\r\n        <div className=\"container mt-5 custom-align\">\r\n\r\n            \r\n              <form  className=\"align-self-center\" onSubmit={handlerSubmit}>\r\n                <Grid container direction=\"column\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\"\r\n                    >\r\n                    <Grid item>\r\n                        <TextField\r\n                            label=\"Name\"\r\n                            name=\"name\"\r\n                            onChange = {handleInputChange}\r\n                            />\r\n                            </Grid>\r\n                        \r\n            <Grid item >\r\n                <TextField\r\n                  label=\"Username\"\r\n                  name=\"username\"\r\n                  onChange = {handleInputChange}\r\n                  />\r\n                  </Grid>\r\n                  <Grid item>\r\n                <TextField\r\n                  id=\"standard-password-input\"\r\n                  label=\"Password\"\r\n                  name=\"password\"\r\n                  onChange = {handleInputChange}\r\n                  autoComplete=\"current-password\"\r\n                  />\r\n                  </Grid>\r\n                  <br></br>\r\n                <Button variant=\"contained\"\r\n                  style={{textTransform: 'none'}}\r\n                  color=\"primary\"\r\n                  type=\"submit\"\r\n                  className=\"text-dark bg-warning\"\r\n                  >\r\n                      Sign up\r\n                    </Button>    \r\n                  \r\n                    </Grid>      \r\n              </form>\r\n        \r\n\r\n        <Snackbar open={openError} autoHideDuration={1500} onClose={handleClose}>\r\n          <Alert onClose={handleClose} severity=\"error\">\r\n            Sign up Failed\r\n          </Alert>\r\n        </Snackbar>\r\n\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup","import React ,{ useEffect, useState}from \"react\";\r\nimport axios from 'axios';\r\nimport { Alert } from '@material-ui/lab';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport LinearProgressWithLabel from './LinearProgressWithLabel';\r\nimport {useHistory} from 'react-router-dom'\r\nfunction CreateRace(props){\r\n\r\n    const postURL = \"http://localhost:5000/api/races\";\r\n    const nextPage = \"/races\";\r\n    const [highlighted,setHighlighted] = useState(false);\r\n    const [ filename, setFilename] = useState('');\r\n    const [ raceData, setRaceData] = useState({\r\n      name:'',\r\n      competitors:[]\r\n    });\r\n    const [ progress, setProgress] = useState(0);\r\n    const [openError, setOpenError] = useState(false);\r\n    const [errorMsg, SetErrorMsg] = useState('Error');\r\n    const [successMsg, SetSuccessMsg] = useState('Trackpoints uploaded');\r\n    const history   = useHistory();\r\n\r\n  \r\n    const loadNextPage = () =>{\r\n      history.push({\r\n        pathname: nextPage,\r\n        updateData: true\r\n      })\r\n    }\r\n\r\n    const createRace = async (token) =>{\r\n      try\r\n      {\r\n        const config = {\r\n          headers:{\r\n           Authorization: `Bearer ${token}`\r\n          }\r\n        }\r\n        \r\n        await axios.post(postURL,raceData,config)\r\n\r\n        loadNextPage();\r\n\r\n      }\r\n      catch(err)\r\n      {\r\n          console.log(err)\r\n      }\r\n\r\n    }\r\n\r\n    const uploadCompetitors = async(files) => {\r\n\r\n        setFilename(files[0].name);\r\n    \r\n        const formData = new FormData();\r\n        \r\n        formData.append('file',files[0]);\r\n    \r\n        try\r\n        {\r\n          const res = await axios.post('http://localhost:5000/api/competitors/file',formData,{\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            },\r\n            onUploadProgress: progressEvent =>{\r\n              setProgress(parseInt(Math.round((progressEvent.loaded*100)/progressEvent.total)))\r\n            }  \r\n          });\r\n\r\n          setRaceData({\r\n            ...raceData,\r\n            competitors: res.data.ids\r\n          })\r\n          SetSuccessMsg(res.data.msg);\r\n    \r\n        }\r\n        catch(err)\r\n        {\r\n          if ( err.response.status == 500)\r\n          {\r\n            console.log(\"Problem with the server\");\r\n          }\r\n          else\r\n          {\r\n            SetErrorMsg(err.response.data.msg);\r\n            setProgress(0);\r\n            setOpenError(true);\r\n          }\r\n        }\r\n     \r\n    \r\n      }\r\n\r\n      const handleInputChange = (e) =>{\r\n        setRaceData({\r\n          ...raceData,\r\n          [e.target.name]:e.target.value\r\n        })\r\n      }\r\n      const onDropHandler = (e) => {\r\n        e.preventDefault();\r\n        setHighlighted(false);\r\n      \r\n       uploadCompetitors(e.dataTransfer.files);\r\n        e.dataTransfer.value = null;\r\n    \r\n      }\r\n      const  updateHighlighted = (state)=>{\r\n        setHighlighted(state);\r\n      }\r\n      const overWriteDefault = (e) =>{\r\n        e.preventDefault();\r\n      }\r\n    \r\n      const onShowAlert = (action) =>{\r\n        if ( action == \"hideError\")\r\n        {\r\n          setOpenError(false);\r\n        }\r\n        else\r\n        {\r\n          setFilename(\"\");\r\n          setProgress(0);\r\n        }\r\n      }\r\n      const onChange =async e =>{\r\n     \r\n       \r\n        if ( e.target.files.length  >0) \r\n        {     \r\n          uploadCompetitors(e.target.files);\r\n          e.target.value = null;\r\n        }\r\n    \r\n      } \r\n\r\n      const onCeateRaceHandler = () => {\r\n        \r\n    var token = window.localStorage.getItem(\"token\")\r\n\r\n        createRace(token);\r\n        \r\n      }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <br></br>\r\n            <div className=\"custom-align\">\r\n              \r\n            <input\r\n           \r\n                        onChange= {handleInputChange}\r\n                        style={{outline:0}}\r\n                        type=\"text\"\r\n                        placeholder=\"Enter race name\"\r\n                        className=\"text-center  big-title  border-0 border-bottom\"\r\n                        name=\"name\"\r\n                    ></input>\r\n            </div>\r\n            <br></br>\r\n            <div>\r\n            <div className=\"center2\">  Upload competitors file </div>     \r\n      <br></br>\r\n      <div\r\n        className={`center messD p-24  border-2 ${ highlighted ?  'border-green-400 bg-green-100': 'border-gray-400'}` }\r\n        onDragEnter = { updateHighlighted.bind(this,true)} onDragOver = {overWriteDefault } onDrop = { onDropHandler }\r\n      >  \r\n        <Collapse in={progress==0}> \r\n          <form>\r\n            <div>\r\n              <input \r\n               accept=\".csv\"\r\n               style={{display:'none'}}\r\n              id=\"file-upload\" type=\"file\" onChange={onChange}/>\r\n              <label htmlFor=\"file-upload\" className=\"custom-file-upload\">Select File</label>       \r\n            </div>      \r\n          </form>     \r\n          <p>or drop .CSV here</p>\r\n          <br></br>\r\n        </Collapse>\r\n      \r\n        <Collapse in={openError}>\r\n          <Alert\r\n              severity=\"error\"\r\n              action={\r\n                <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\" onClick={ onShowAlert.bind(this,\"hideError\") }    >               \r\n                  <CancelIcon fontSize=\"inherit\" />                  \r\n                </IconButton>\r\n              }\r\n            >\r\n            {errorMsg}\r\n          </Alert>\r\n        </Collapse>\r\n\r\n        <Collapse in={progress!=0}>\r\n\r\n          <p>{filename}</p>\r\n          <br></br>\r\n          <LinearProgressWithLabel value={progress} />\r\n\r\n        </Collapse>\r\n\r\n        <Collapse in ={progress==100}> \r\n          <Alert\r\n              action={\r\n                <IconButton aria-label=\"close\" color=\"inherit\" size=\"small\" onClick={  onShowAlert.bind(this,\" \") } >    \r\n                  <CancelIcon fontSize=\"inherit\" />                 \r\n                </IconButton>\r\n              }\r\n            >\r\n            {successMsg}\r\n          </Alert>\r\n        </Collapse>\r\n      </div>\r\n      </div>\r\n    <br></br>\r\n    <Collapse in ={progress==100}>\r\n    <div className=\"custom-align\">\r\n        <button \r\n            onClick = {onCeateRaceHandler}\r\n            className=\"btn btn-primary\"\r\n            type = \"submit\"\r\n        >Create Race\r\n        </button>        \r\n    </div>\r\n    </Collapse>\r\n     \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateRace","import React from 'react'\r\nimport 'leaflet/dist/leaflet.css'\r\nimport { Map,TileLayer} from 'react-leaflet'\r\nimport FullscreenControl from 'react-leaflet-fullscreen';\r\nimport Markers from '../Markers'\r\n\r\nimport {setMapCenter} from '../../utils/maptools'\r\n\r\nfunction Map_ ({mapRef,zoom,points}){\r\n    return ( <Map\r\n                ref = {mapRef}\r\n                center = {(points.length>0)?setMapCenter(points[0],points[points.length-1]):\r\n                    {\r\n                    lat:'6.2441988',\r\n                    lng:'-75.6177781'\r\n                }}\r\n                \r\n                zoom={zoom}\r\n                >\r\n                    <TileLayer\r\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                        attribution = '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n                    />\r\n                        <FullscreenControl position=\"topleft\" />\r\n                    <Markers points ={points}/>\r\n\r\n            </Map>)\r\n}\r\n\r\nexport default Map_","import React from 'react'\r\nimport ZoomInIcon from '@material-ui/icons/ZoomIn'\r\nimport Materialtable,{MTableToolbar} from 'material-table'\r\nimport {updateMapCenter} from '../../utils/maptools'\r\n\r\nfunction MaterialTable_({columns,data,deleteService,createService,updateService,\r\n                        onUpdateData,map})\r\n{\r\n    return (\r\n        <Materialtable\r\n                \r\n                components={{\r\n                        Toolbar: props => (\r\n                            <div  \r\n                            variant='dense'\r\n                            style={{ backgroundColor: '#fcba03' }}>\r\n                                <MTableToolbar \r\n                                \r\n                                {...props} />\r\n                            </div>\r\n                        )\r\n                    }}   \r\n                columns={columns}\r\n                data = {data}\r\n                options ={{\r\n                    actionsColumnIndex:-1,\r\n                    tableLayout: \"fixed\",\r\n                    maxBodyHeight: 450,\r\n                    showTitle:false,\r\n                    search:false,\r\n                    paging:false,\r\n                    filtering:true,\r\n                    exportButton:true,\r\n                    \r\n                        headerStyle: {\r\n                            background: '#fcba03',\r\n                            color: '#000',\r\n                            textAlign:'center',\r\n                            fontSize:'1'\r\n                        },\r\n                        cellStyle: {\r\n                            textAlign:'center', \r\n                            fontSize:'1'}}}\r\n                editable={{\r\n                    onRowAdd: newData=>\r\n                    new Promise((resolve,reject)=>{\r\n                        setTimeout(()=>{\r\n                            //Create in database\r\n                            createService(newData);\r\n                            onUpdateData([...data,newData]);\r\n\r\n                            resolve();\r\n                        },1000)\r\n                    }),\r\n                    onRowUpdate: (newData, oldData) =>\r\n                    new Promise((resolve, reject) => {\r\n                    setTimeout(() => {\r\n                        updateService(map,newData)\r\n                        const dataUpdate = [...data];\r\n                        const index = oldData.tableData.id;\r\n                        dataUpdate[index] = newData;\r\n                        onUpdateData([...dataUpdate]);\r\n        \r\n                        resolve();\r\n                    }, 1000)\r\n                    }),\r\n                    onRowDelete: oldData =>\r\n                        new Promise((resolve, reject) => {\r\n                            setTimeout(() => {\r\n\r\n                            deleteService(oldData);\r\n\r\n                            const dataDelete = [...data];\r\n                            const index = oldData.tableData.id;\r\n                            dataDelete.splice(index, 1);\r\n                            onUpdateData([...dataDelete]);\r\n\r\n                            resolve();\r\n                            }, 1000)\r\n                })\r\n                }}\r\n                actions={[\r\n                    {\r\n                    icon: ZoomInIcon,\r\n                    tooltip: 'Show in map',\r\n                    onClick: (event, rowData) => updateMapCenter(map,rowData)\r\n                    }\r\n                ]}\r\n            />\r\n    )\r\n}\r\n\r\nexport default MaterialTable_","import axios from 'axios'\r\n\r\nconst BASE_URL = 'http://localhost:5000/api/waypoints/'\r\n\r\nexport const deleteWaypoint = async (wpt)=>{\r\n    try\r\n    {\r\n        await  axios.delete(BASE_URL+wpt.id);\r\n        //Show success message\r\n        console.log(\"Waypoint deleted\");\r\n    }\r\n    catch(err)\r\n    {\r\n        console.log(err);\r\n    }\r\n } \r\n\r\nexport const updateWaypoint = async (wpt)=>{\r\n    try\r\n    {\r\n       await  axios.put(BASE_URL+wpt.id,prepareWaypoint(wpt));\r\n        //Show success message\r\n        console.log(\"Waypoint updated\");\r\n    }\r\n    catch(err)\r\n    {\r\n        console.log(err);\r\n    }\r\n } \r\n\r\nexport const createWaypoint = async (wpt)=>{\r\n   try\r\n   {\r\n       await  axios.post(BASE_URL+wpt.id,prepareWaypoint(wpt));\r\n       //Show success message\r\n       console.log(\"Waypoint created\");\r\n   }\r\n   catch(err)\r\n   {\r\n       console.log(err);\r\n   }\r\n}\r\n\r\nconst prepareWaypoint = (wpt) => {\r\n    return {\r\n\r\n        location: {\r\n            type: wpt.type,\r\n            coordinates:  [wpt.latitude, wpt.longitude]\r\n                    },\r\n        \r\n        rule:{\r\n            penalization: wpt.penalization,\r\n            ratius: wpt.radius \r\n             }    \r\n\r\n        }\r\n}\r\n","import {validateHHMMSSFormat} from '../../utils/timetools'\r\n\r\nexport const columns =[\r\n    {\r\n        title:'Id',\r\n        field:'index',\r\n        editable:'never',\r\n        width: \"5%\"\r\n     \r\n    },\r\n    {\r\n        title:'Type',\r\n        field:'type',\r\n        width: \"10%\",\r\n        lookup: { 'WPM': 'WPM', 'FZ': 'FZ','DZ': 'DZ','START': 'START','FINISH': 'FINISH' } ,\r\n        sorting:false\r\n        \r\n       \r\n    },\r\n    {\r\n        title:'Latitude',\r\n        field:'latitude',\r\n        type : 'numeric',\r\n        width: \"20%\",\r\n        sorting:false\r\n    },\r\n\r\n    {\r\n        title:'Longitude',\r\n        field:'longitude',\r\n        type : 'numeric',\r\n        width: \"15%\",\r\n        sorting:false\r\n\r\n      \r\n    },\r\n    {\r\n        title:'Radius (m)',\r\n        field:'radius',\r\n        type : 'numeric',\r\n        width: \"15%\",\r\n        validate: rowData => (!(rowData.radius>=0 && rowData.radius<=1000))?{isValid: false, helperText: 'Number must greater than zero'}:true,\r\n      \r\n    },\r\n    {\r\n        title:'Penalization',\r\n        field:'penalization',\r\n        width: \"20%\",\r\n        validate: rowData => (!validateHHMMSSFormat(rowData.penalization))?{isValid: false, helperText: 'Format must be hh:mm:ss'}:true,\r\n        sorting:true\r\n        \r\n    },\r\n]","import React, {useState,useEffect,useRef} from 'react'\r\n\r\nimport {Grid} from '@material-ui/core'\r\n\r\nimport Map_ from '../Map/Map_'\r\nimport MaterialTable_ from '../MaterialTable/MaterialTable_'\r\nimport {prepareWaypoints} from '../../utils/prepareData'\r\nimport {deleteWaypoint,createWaypoint,updateWaypoint} from '../../services/waypoint.services'\r\n\r\nimport {columns} from'./columns'\r\n\r\nfunction Waypoints ()\r\n{\r\n  \r\n    const mapRef = useRef();\r\n\r\n    const [map,setMap] = useState(null)\r\n    const [data,setData]  = useState([])\r\n\r\n    const onUpdateData = (newData)=>setData(newData);\r\n   \r\n    const fetchWaypoints = () =>\r\n    {\r\n        var waypoints=localStorage.getItem('waypoints')\r\n        if (waypoints)\r\n        {\r\n            waypoints= JSON.parse(waypoints);\r\n            setData(waypoints)\r\n        }\r\n        else\r\n        {\r\n            var stage = localStorage.getItem('stage')\r\n            if(stage)\r\n            {\r\n                stage = JSON.parse(stage);\r\n               \r\n                setData(prepareWaypoints(stage.waypoints))\r\n            }\r\n        }\r\n\r\n    }\r\n    useEffect(()=>{\r\n        if (data.length >0)\r\n        {\r\n            localStorage.setItem('waypoints',JSON.stringify(data))\r\n        }\r\n    },[data])\r\n\r\n    useEffect(()=>{\r\n\r\n        fetchWaypoints();\r\n       \r\n        setMap(mapRef.current.leafletElement)\r\n       \r\n    },[])\r\n   \r\n    return(\r\n        <div>\r\n            <Grid container  justify=\"center\">\r\n\r\n                < Grid item sm={5} >\r\n                    <Map_ \r\n                        mapRef={mapRef}\r\n                        zoom={10}\r\n                        points ={data}\r\n                    />\r\n                </Grid>\r\n\r\n                <Grid item sm={6}>\r\n\r\n                    <MaterialTable_\r\n                        columns={columns}\r\n                        data={data}\r\n                        deleteService={deleteWaypoint}\r\n                        createService={createWaypoint}\r\n                        updateService={updateWaypoint}\r\n                        onUpdateData={onUpdateData}\r\n                        map={map}\r\n                    />\r\n                </Grid>\r\n\r\n            </Grid>\r\n            <br></br>\r\n \r\n            <br></br>\r\n            <br></br>\r\n            <br></br>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default Waypoints;","\r\nimport axios from 'axios';\r\n\r\nconst BASE_URL= 'http://localhost:5000/api/partialresults/'\r\n\r\n\r\n export const deletePartialResult = async (partialResult_id) => {\r\n\r\n      try\r\n      {\r\n        await  axios.delete(BASE_URL+partialResult_id);\r\n       \r\n\r\n      }\r\n      catch(err)\r\n      {\r\n        console.log(err);\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\nexport const updatePartialResult = async (partialResult) => {\r\n\r\n \r\n    try\r\n    {\r\n      await axios.put(BASE_URL+partialResult.id,\r\n                                  partialResult);\r\n      console.log('Partial results updated');\r\n\r\n    }\r\n    catch(err)\r\n    {\r\n \r\n        console.log(err);\r\n     \r\n    }\r\n    \r\n  }\r\n","import React from 'react'\r\n\r\nimport Materialtable,{MTableToolbar} from 'material-table'\r\n\r\nimport {deletePartialResult,updatePartialResult} from '../services/partialresults.services'\r\n\r\n\r\nfunction PartialResultsTable(\r\n{\r\n    fetchingData,\r\n    columns,\r\n    data,\r\n    onSetData,\r\n    gpxUploaded,\r\n    onSetGPXUpload,\r\n    onSetItemUpdated,\r\n    onSetItemDeleted\r\n}\r\n\r\n)\r\n{\r\n    return (<Materialtable\r\n        isLoading={fetchingData}\r\n        components={{\r\n                Toolbar: props => (\r\n                    <div  \r\n                    variant='dense'\r\n                    style={{ backgroundColor: '#fcba03' }}>\r\n                        <MTableToolbar \r\n                        \r\n                        {...props} />\r\n                    </div>\r\n                )\r\n            }}   \r\n        columns={columns}\r\n        data = {data}\r\n        options ={{\r\n            actionsColumnIndex:-1,\r\n            tableLayout: \"fixed\",\r\n            maxBodyHeight: 450,\r\n            showTitle:false,\r\n            search:false,\r\n            paging:false,\r\n            filtering:true,\r\n            \r\n                headerStyle: {\r\n                    background: '#fcba03',\r\n                    color: '#000',\r\n                    textAlign:'center',\r\n                    fontSize:'1'\r\n                },\r\n                cellStyle: {\r\n                    textAlign:'center', \r\n                    fontSize:'1'}}}\r\n        editable={{\r\n         \r\n            onRowUpdate: (newData, oldData) =>\r\n            new Promise((resolve, reject) => {\r\n              setTimeout(() => {\r\n                \r\n            \r\n\r\n                if (gpxUploaded)\r\n                    {\r\n                      newData.gpx_uploaded = true\r\n                      onSetGPXUpload(false);\r\n\r\n                    }\r\n\r\n                //Update data in database\r\n                updatePartialResult(newData);\r\n                //Show message\r\n                onSetItemUpdated();\r\n                //Update local data\r\n                const dataUpdate = [...data];\r\n                const index = oldData.tableData.id;\r\n                dataUpdate[index] = newData;\r\n                onSetData([...dataUpdate]);\r\n  \r\n                resolve();\r\n              }, 1000)\r\n            }),\r\n            onRowDelete: oldData =>\r\n                new Promise((resolve, reject) => {\r\n                    //Delete from database\r\n                    \r\n\r\n                    setTimeout(async () => {\r\n                      try\r\n                      {\r\n                        await deletePartialResult(oldData.id)\r\n                        onSetItemDeleted(true);\r\n                      }\r\n                      catch(err)\r\n                      {\r\n                        console.log(err)\r\n                      }\r\n                    const dataDelete = [...data];\r\n                    const index = oldData.tableData.id;\r\n                    dataDelete.splice(index, 1);\r\n                    onSetData([...dataDelete]);\r\n\r\n                    resolve();\r\n                    }, 1000)\r\n          })\r\n        }}\r\n\r\n        \r\n        \r\n       >\r\n\r\n       </Materialtable>)\r\n}\r\n\r\nexport default PartialResultsTable;","import React, {useEffect,useState} from 'react'\r\n\r\nimport {IconButton,Tooltip } from '@material-ui/core'\r\nimport BackupIcon from '@material-ui/icons/Backup';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport {validateHHMMSSFormat} from '../../utils/timetools'\r\nimport {uploadTrackpoints} from '../../services/trackpoints.services'\r\n\r\nimport PartialResultsTable from '../PartialResultsTable';\r\nimport PopUpAlert from '../PopUpAlert';\r\nimport {getPartialResultsFromStageByCategory} from '../../services/stage.services'\r\n\r\nfunction AddPartialResults()\r\n{\r\n   \r\n    const [fetchingData,SetFetchingData]= useState(true)\r\n\r\n    const [uploadGPXSuccess,setUploadGPXSuccess] = useState(false);\r\n    const [startUpload,setStartUpload] = useState(false);\r\n    const [itemUpdated,setItemUpdated] = useState(false);\r\n    const [itemDeleted,setItemDeleted] = useState(false);\r\n    \r\n    const [gpxUploaded,setGPXUpload] = useState(false);\r\n\r\n    const [data,setData]  = useState([])\r\n    const [columns, setColumns] =useState([\r\n      {\r\n          title:'Full Name',\r\n          field:'competitor_fullname',\r\n          editable:'never',\r\n          width: \"10%\"\r\n       \r\n      },\r\n      {\r\n          title:'Category',\r\n          field:'competitor_category',\r\n          width: \"20%\",\r\n          editable:'never',\r\n          filtering:false,\r\n          \r\n       \r\n         \r\n      },\r\n      {\r\n          title:'Start Time',\r\n          field:'start_time',\r\n      \r\n          width: \"20%\",\r\n          filtering:false,\r\n          validate: rowData => (!validateHHMMSSFormat(rowData.start_time))?{isValid: false, helperText: 'Format must be hh:mm:ss'}:true,\r\n  \r\n      } ,\r\n      {\r\n          title:'Arrival Time',\r\n          field:'arrival_time',\r\n     \r\n          width: \"15%\",\r\n          filtering:false,\r\n          validate: rowData => (!validateHHMMSSFormat(rowData.arrival_time))?{isValid: false, helperText: 'Format must be hh:mm:ss'}:true,\r\n        \r\n      },\r\n      {\r\n          title:'Neutralization',\r\n          field:'neutralization',\r\n          filtering:false,\r\n          width: \"15%\",\r\n          validate: rowData => (!validateHHMMSSFormat(rowData.neutralization))?{isValid: false, helperText: 'Format must be hh:mm:ss'}:true,\r\n    \r\n        \r\n      },\r\n      {\r\n          title:'GPX',\r\n          field:'upload_gpx',\r\n          cellStyle:{\r\n              textAlign:'center', \r\n              fontSize:'1'\r\n          },\r\n          filtering:false,\r\n          render: (rowData) =>\r\n          rowData && (\r\n            \r\n          <div >\r\n       \r\n              {(rowData.gpx_uploaded)?\r\n              <div >\r\n               \r\n                          <Tooltip title=\"Gpx uploaded\">\r\n                          <CheckCircleIcon fontSize=\"large\" style={{fill: \"#00ba35\"}}></CheckCircleIcon>\r\n                          </Tooltip>\r\n                     \r\n                         </div>\r\n                        :\r\n                        <div>\r\n                            <Tooltip title=\"No gpx uploaded\">\r\n                            <ErrorIcon  fontSize=\"large\" style={{fill: \"red\"}}></ErrorIcon>\r\n                            </Tooltip>\r\n                        \r\n                        \r\n                        </div>\r\n              }\r\n  \r\n         \r\n          </div>),\r\n          editComponent: (rowData) =>\r\n          rowData && (\r\n                         \r\n              <div >\r\n               \r\n                    <input\r\n                    style={{display:'none'}}\r\n                    accept=\".gpx\"\r\n                    id=\"contained-button-file\"\r\n                    multiple\r\n                    type=\"file\"\r\n                    onChange={(e)=>onFileUploadHandler(rowData.rowData.id,e)}\r\n                      /> \r\n                      <label htmlFor=\"contained-button-file\">\r\n              \r\n                                  <Tooltip title=\"Upload GPX\">\r\n                              <IconButton component=\"span\">\r\n                        < BackupIcon  fontSize=\"large\"   style={{fill: \"black\"}}></BackupIcon>\r\n                        </IconButton>\r\n                        </Tooltip>\r\n                      \r\n                      </label>\r\n            </div>\r\n             \r\n  )\r\n  }\r\n  \r\n  ])\r\n    \r\n    \r\n    const onSetData = (newData)=> setData(newData)\r\n     \r\n\r\n    const onSetGPXUpload = (active)=>   setGPXUpload(active)\r\n    const onSetItemUpdated = ()=>   setItemUpdated(true)\r\n    const onSetItemDeleted = ()=> setItemDeleted(true)\r\n      \r\n    \r\n    const onFileUploadHandler =async (partialResult_id,e) =>{\r\n     \r\n      if ( e.target.files.length  >0) \r\n      {      \r\n        try\r\n        {\r\n          setStartUpload(true)  \r\n          await uploadTrackpoints(partialResult_id,e.target.files[0]);\r\n          setGPXUpload(true)\r\n          setUploadGPXSuccess(true)\r\n          setStartUpload(false)\r\n\r\n        }\r\n        catch(err)\r\n        {\r\n          console.log(err)\r\n        }\r\n        e.target.value = null;\r\n      }\r\n    }\r\n\r\n    const onEndUploadGPXSuccess = () => setUploadGPXSuccess(false);\r\n    const onEndUpload = () => setStartUpload(false);\r\n    const onEndItemUpdated = () => setItemUpdated(false);\r\n    const onEndItemDeleted = () => setItemDeleted(false);\r\n    \r\n  \r\n    const translateResults_Add = (results) => {\r\n\r\n        var posResults=[]\r\n          \r\n        \r\n      \r\n        results.forEach((result,i)=>{\r\n          \r\n          posResults.push( {\r\n            id:result._id,\r\n            competitor_fullname:result.competitor.name+\" \"+result.competitor.lastname,\r\n            competitor_category:result.competitor.categorytype.name,\r\n            start_time:result.start_time,\r\n            arrival_time: result.arrival_time,\r\n            neutralization:result.neutralization,\r\n            gpx_uploaded:result.gpx_uploaded\r\n          })\r\n      \r\n        })\r\n         \r\n          return posResults\r\n     }\r\n\r\n    \r\n     const fetchPartialResults = async  (stage_id,categorytype_id)=>{\r\n      try\r\n      {\r\n        const results = await getPartialResultsFromStageByCategory(stage_id,categorytype_id);\r\n        setData( translateResults_Add(results))\r\n   \r\n        SetFetchingData(false)\r\n      }\r\n      catch(err)\r\n      {\r\n        console.log(err);\r\n      }\r\n\r\n    }\r\n  \r\n\r\n     useEffect(()=>{\r\n\r\n        var stage = localStorage.getItem('stage')\r\n        var category = localStorage.getItem('category')\r\n      \r\n        if ( stage && category)\r\n        {\r\n          stage = JSON.parse(stage)\r\n          category = JSON.parse(category)\r\n         \r\n     \r\n\r\n            fetchPartialResults(stage._id,category.categorytype._id);\r\n\r\n          \r\n        }\r\n         \r\n      },[])\r\n\r\n    \r\n\r\n    return ( <div >\r\n       <div className=\"custom-align\">\r\n     \r\n\r\n      <div className=\" custom-container-80\">\r\n        <PartialResultsTable\r\n            fetchingData = {fetchingData}\r\n            columns = {columns}\r\n            data={data}\r\n            onSetData = {onSetData}\r\n            gpxUploaded = {gpxUploaded}\r\n            onSetGPXUpload={onSetGPXUpload}\r\n            onSetItemUpdated={onSetItemUpdated}\r\n            onSetItemDeleted={onSetItemDeleted}\r\n        />\r\n       </div>  \r\n       </div>\r\n        <PopUpAlert\r\n          open={startUpload}\r\n          severity=\"info\"\r\n          msg=\"Uploading competitor trackpoints...\"\r\n          displayProgress={true}\r\n          onAlertClose={onEndUpload}\r\n          autoHide={false}\r\n\r\n        />\r\n        <PopUpAlert\r\n          open={uploadGPXSuccess}\r\n          severity=\"success\"\r\n          msg=\"GPX Uploaded\"\r\n          displayProgress={false}\r\n          onAlertClose={onEndUploadGPXSuccess}\r\n          autoHide={true}\r\n\r\n\r\n        />\r\n        <PopUpAlert\r\n          open={itemUpdated}\r\n          severity=\"success\"\r\n          msg=\"Data Updated\"\r\n          displayProgress={false}\r\n          onAlertClose={onEndItemUpdated}\r\n          autoHide={true}\r\n\r\n\r\n        />\r\n          <PopUpAlert\r\n          open={itemDeleted}\r\n          severity=\"success\"\r\n          msg=\"Partial Result Deleted\"\r\n          displayProgress={false}\r\n          onAlertClose={onEndItemDeleted}\r\n\r\n        />\r\n    </div>)\r\n}\r\n\r\nexport default AddPartialResults;","import React ,{ useEffect, useState}from \"react\";\r\n\r\n\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Waypoints from './Waypoints/Waypoints'\r\nimport ResultsByStage from './ResultsByStage'\r\nimport AddPartialResults from './AddPartialResults/AddPartialResults'\r\n\r\nimport Options from \"./Options\";\r\nfunction Stage(props){\r\n\r\n    const [categoryName,setCategoryName] = useState('');\r\n    const [prevIndex,setPrevIndex] = useState(-1)\r\n    const [stageData, setStageData] = useState()\r\n    const [options,setOptions] = useState([\r\n        {\r\n            id : 1,\r\n            name:'Waypoints',\r\n            active: false\r\n        },\r\n        {\r\n            id : 2,\r\n            name:'Add partial results',\r\n            active: false\r\n        },\r\n        {\r\n            id : 3,\r\n            name:'Results',\r\n            active: false\r\n        },\r\n        \r\n    ])\r\n\r\n    const [selectedOption, setSelectedOption] = useState(\r\n        {\r\n            id : -1,\r\n            name:'',\r\n            active: false\r\n        }\r\n    )\r\n\r\n    const handleActiveOption = index => e => {\r\n        \r\n        var newOptions =[...options]\r\n        newOptions.forEach((option)=>{\r\n            option.active = false\r\n        })\r\n\r\n\r\n        if(prevIndex==index)\r\n        {\r\n            localStorage.removeItem('option_')\r\n            localStorage.setItem('option_',index)\r\n            window.location.reload()\r\n        }\r\n\r\n        newOptions[index].active =true\r\n        setSelectedOption(newOptions[index])\r\n        \r\n        setOptions(newOptions)\r\n        setPrevIndex(index)\r\n\r\n    }\r\n\r\n    const updateOptions = () => {\r\n        var newOptions =[...options]\r\n        var option= localStorage.getItem('option_');\r\n       \r\n        localStorage.removeItem('option_');\r\n\r\n        newOptions[(option)?option:0].active = true;\r\n        setOptions(newOptions);\r\n    }\r\n    useEffect(()=>{\r\n\r\n        var stage = window.localStorage.getItem('stage')\r\n        var category = window.localStorage.getItem('category')\r\n        if (stage && category)\r\n        {\r\n            stage =JSON.parse(stage) \r\n            category =JSON.parse(category) \r\n            setStageData(stage);\r\n            setCategoryName(category.categorytype.name);\r\n       \r\n            console.log(stage);\r\n            var option= localStorage.getItem('option_');\r\n           \r\n            setSelectedOption((option)?options[option]:options[0])\r\n            updateOptions()\r\n        }\r\n    },[])\r\n\r\n\r\n    return (\r\n        <div>\r\n            <br></br>\r\n            <div><h1 className=\"text-center\">{(stageData)?stageData.name:\"Stage Name\"}</h1>\r\n            <h5 className=\"text-center\">{(categoryName)?categoryName:\"Category Name\"}</h5> </div>\r\n          \r\n            <br></br>\r\n\r\n            <div className=\"custom-align\">\r\n                <Options\r\n                    options={options}\r\n                    handleActiveOption={handleActiveOption}\r\n                />\r\n            </div>\r\n                <br></br>\r\n            <Collapse in ={selectedOption.id==1} >\r\n                    <div className='custom-align'>\r\n                        <Waypoints/>\r\n                    </div>\r\n            </Collapse>\r\n            <Collapse in ={selectedOption.id==2} >\r\n                    <AddPartialResults/>\r\n            </Collapse>\r\n            <Collapse in ={selectedOption.id==3} >\r\n                    <ResultsByStage resultsBy={'stage'}/>\r\n            </Collapse>\r\n\r\n   \r\n\r\n                   \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Stage;","import React from 'react';\r\nimport {AppBar,Toolbar,Typography,Button, IconButton} from '@material-ui/core';\r\nimport {useHistory} from 'react-router-dom'\r\nimport './NavBar.css'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\n\r\nfunction NavBar() {\r\n\r\n  const history = useHistory();\r\n  \r\n  const home_path=\"/races\"\r\n  const login_path=\"/login\"\r\n\r\n\r\n  const onChangesTab = (page,e)=>{\r\n \r\n    history.push(page)\r\n  }\r\n\r\n  return (\r\n  \r\n      <AppBar \r\n      style={{\r\n        background:'rgba(0,0,0,0.85)',\r\n        flexGrow: 1\r\n      }}\r\n      position=\"static\">\r\n        <Toolbar>\r\n          <div className=\"col\">\r\n            <Button onClick={onChangesTab.bind(this,home_path)} color=\"inherit\" >\r\n            <Typography variant=\"h6\" >\r\n                Race Manager\r\n              </Typography>\r\n              </Button>\r\n          </div>\r\n          <div >\r\n              <IconButton onClick={onChangesTab.bind(this,login_path)} color=\"inherit\">\r\n              <ExitToAppIcon >\r\n                Logout\r\n              </ExitToAppIcon>\r\n              </IconButton>\r\n            </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n  \r\n  );\r\n}\r\n\r\nexport default NavBar;","import React,{useEffect,useState} from 'react';\r\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\r\nimport Link from '@material-ui/core/Link';\r\nimport {useHistory} from 'react-router-dom'\r\n\r\n\r\n\r\nexport default function BreadCrumbs_() {\r\n\r\n    const [raceName,setRaceName] = useState('');\r\n    const [categoryName,setCategoryName] = useState('');\r\n    const [stageName,setStageName] = useState('');\r\n\r\n    function handleClick(page,event) {\r\n        event.preventDefault();\r\n       \r\n       history.push(page)\r\n    }\r\n    \r\n    const history = useHistory();\r\n\r\n\r\nuseEffect(()=>{\r\n\r\n\r\n      \r\n},[]);\r\n\r\nuseEffect(() => {\r\n    return history.listen((location) => { \r\n       if (history.location.pathname=='/race')\r\n       {\r\n            var race = localStorage.getItem('race') \r\n            if (race)\r\n            {\r\n                setRaceName(JSON.parse(race).name)\r\n            }\r\n       }\r\n       else    if (history.location.pathname=='/category')\r\n       {\r\n            var race = localStorage.getItem('race') \r\n            var category = localStorage.getItem('category')    \r\n        \r\n            if (race && category)\r\n            {\r\n                setRaceName(JSON.parse(race).name)\r\n                setCategoryName(JSON.parse(category).categorytype.name)\r\n            }\r\n       }\r\n       else    if (history.location.pathname=='/stage')\r\n       {\r\n            var race = localStorage.getItem('race') \r\n            var category = localStorage.getItem('category')   \r\n            var stage = localStorage.getItem('stage')    \r\n    \r\n    \r\n            if (race && category && stage)\r\n            {\r\n                setRaceName(JSON.parse(race).name)\r\n                setCategoryName(JSON.parse(category).categorytype.name)\r\n                setStageName(JSON.parse(stage).name)\r\n            }\r\n       }\r\n    }) \r\n },[history]) \r\n  return (\r\n    <div>\r\n\r\n                {\r\n            history.location.pathname=='/race' && \r\n            <Breadcrumbs aria-label=\"breadcrumb\" style={{marginLeft:'10px'}}>\r\n                <Link color=\"inherit\" href=\"/\" onClick={handleClick.bind(this,\"/races\")}>\r\n                    Races\r\n                </Link>   \r\n                <Link\r\n                color=\"textPrimary\"\r\n                href=\"/components/breadcrumbs/\"\r\n                onClick={handleClick.bind(this,\"/race\")}\r\n                aria-current=\"page\"\r\n                >\r\n                    {raceName}\r\n                </Link>\r\n                </Breadcrumbs>\r\n        }\r\n        {\r\n                   history.location.pathname=='/category' && \r\n                   <Breadcrumbs aria-label=\"breadcrumb\" style={{marginLeft:'10px'}}>\r\n                       <Link color=\"inherit\" href=\"/\" onClick={handleClick.bind(this,\"/races\")}>\r\n                           Races\r\n                       </Link>   \r\n                       <Link\r\n                       color=\"textPrimary\"\r\n                       href=\"/components/breadcrumbs/\"\r\n                       onClick={handleClick.bind(this,\"/race\")}\r\n                       aria-current=\"page\"\r\n                       >\r\n                           {raceName}\r\n                       </Link>\r\n                       <Link\r\n                       color=\"textPrimary\"\r\n                       href=\"/components/breadcrumbs/\"\r\n                       onClick={handleClick.bind(this,\"/category\")}\r\n                       aria-current=\"page\"\r\n                       >\r\n                           {categoryName}\r\n                       </Link>\r\n                       </Breadcrumbs>\r\n        }\r\n               {\r\n                   history.location.pathname=='/stage' && \r\n                   <Breadcrumbs aria-label=\"breadcrumb\" style={{marginLeft:'10px'}}>\r\n                       <Link color=\"inherit\" href=\"/\" onClick={handleClick.bind(this,\"/races\")}>\r\n                           Races\r\n                       </Link>   \r\n                       <Link\r\n                       color=\"textPrimary\"\r\n                       href=\"/components/breadcrumbs/\"\r\n                       onClick={handleClick.bind(this,\"/race\")}\r\n                       aria-current=\"page\"\r\n                       >\r\n                           {raceName}\r\n                       </Link>\r\n                       <Link\r\n                       color=\"textPrimary\"\r\n                       href=\"/components/breadcrumbs/\"\r\n                       onClick={handleClick.bind(this,\"/category\")}\r\n                       aria-current=\"page\"\r\n                       >\r\n                           {categoryName}\r\n                       </Link>\r\n                       <Link\r\n                       color=\"textPrimary\"\r\n                       href=\"/components/breadcrumbs/\"\r\n                       onClick={handleClick.bind(this,\"/stage\")}\r\n                       aria-current=\"page\"\r\n                       >\r\n                           {stageName}\r\n                       </Link>\r\n                       </Breadcrumbs>\r\n        }\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n","import {\r\n    BrowserRouter,\r\n    Switch,\r\n    Route,\r\n    Redirect\r\n  } from 'react-router-dom';\r\nimport Races from './components/Races';\r\nimport Race from './components/Race';\r\nimport Category from './components/Category';\r\nimport Login from './components/Login';\r\nimport Signup from './components/Signup';\r\nimport CreateRace from './components/CreateRace';\r\nimport Stage from './components/Stage';\r\nimport NavBar from './components/NavBar/NavBar';\r\nimport BreadCrumbs_ from './components/BreadCrumbs_';\r\n\r\nfunction App(){\r\n    \r\n    \r\n    return (\r\n      <div>\r\n        \r\n    <BrowserRouter>\r\n      <NavBar/>\r\n      <Switch>\r\n        <Redirect exact path=\"/\" to=\"/login\" />\r\n        <Route path=\"/races\" render={ (props) =>\r\n          <div>\r\n            <br></br>\r\n            <BreadCrumbs_ {...props} />\r\n          <Races { ...props } /> \r\n          </div>} />\r\n        <Route path=\"/race\" render={ (props) => \r\n                 <div>\r\n                 <br></br>\r\n                 <BreadCrumbs_ {...props} />\r\n                <Race { ...props } /> \r\n          </div>} />\r\n        <Route path=\"/category\" render={ (props) => \r\n                 <div>\r\n                 <br></br>\r\n               <BreadCrumbs_ {...props} />\r\n        <Category { ...props } />\r\n        </div> \r\n        } />\r\n        <Route path=\"/login\" render={ (props) => <Login { ...props } /> } />\r\n        <Route path=\"/signup\" render={ (props) => <Signup { ...props } /> } />\r\n        <Route path=\"/createrace\" render={ (props) => <CreateRace /> }/> \r\n        <Route path=\"/stage\" render={ (props) =>\r\n                  <div>\r\n                  <br></br>\r\n                  <BreadCrumbs_ {...props} />\r\n               <Stage  {...props}/>\r\n          </div> }/> \r\n        {/* Redirect unhandled routes */}\r\n        <Route>\r\n          <Redirect to=\"/login\" />\r\n        </Route>\r\n      </Switch>\r\n    </BrowserRouter>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport reportWebVitals from './reportWebVitals';\r\nimport App from './App'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\n\r\n\r\nReactDOM.render(\r\n\r\n  <App/>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}